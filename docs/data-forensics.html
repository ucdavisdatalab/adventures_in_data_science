<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>7 Data Forensics | Adventures in Data Science</title>
  <meta name="description" content="7 Data Forensics | Adventures in Data Science" />
  <meta name="generator" content="bookdown 0.34 and GitBook 2.6.7" />

  <meta property="og:title" content="7 Data Forensics | Adventures in Data Science" />
  <meta property="og:type" content="book" />
  
  
  <meta name="github-repo" content="ucdavisdatalab/adventures_in_data_science" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="7 Data Forensics | Adventures in Data Science" />
  
  
  

<meta name="author" content="Dr. Carl Stahmer" />
<meta name="author" content="Dr. Pamela L. Reynolds" />
<meta name="author" content="Dr. Nick Ulle" />
<meta name="author" content="Dr. Tyler Shoemaker" />
<meta name="author" content="Dr. Michele Tobias" />
<meta name="author" content="Dr. Wesley Brooks" />
<meta name="author" content="Arthur Koehl" />
<meta name="author" content="Carrie Alexander" />
<meta name="author" content="Jared Joseph" />
<meta name="author" content="Liza Wood" />


<meta name="date" content="2023-07-26" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="data-structures.html"/>
<link rel="next" href="data-visualization.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.6.2/htmlwidgets.js"></script>
<link href="libs/vis-9.1.0/vis-network.min.css" rel="stylesheet" />
<script src="libs/vis-9.1.0/vis-network.min.js"></script>
<script src="libs/visNetwork-binding-2.1.2/visNetwork.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>
<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="https://datalab.ucdavis.edu/">
  <img src="img/datalab-logo-full-color-rgb.png" style="height: 100%; width: 100%; object-fit: contain" />
</a></li>
<li><a href="./" style="font-size: 18px">Adventures in Data Science</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Overview</a></li>
<li class="chapter" data-level="1" data-path="command-line.html"><a href="command-line.html"><i class="fa fa-check"></i><b>1</b> Command Line</a>
<ul>
<li class="chapter" data-level="1.1" data-path="command-line.html"><a href="command-line.html#learning-objectives"><i class="fa fa-check"></i><b>1.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="1.2" data-path="command-line.html"><a href="command-line.html#understanding-the-command-line"><i class="fa fa-check"></i><b>1.2</b> Understanding the Command Line</a></li>
<li class="chapter" data-level="1.3" data-path="command-line.html"><a href="command-line.html#interacting-with-the-command-line"><i class="fa fa-check"></i><b>1.3</b> Interacting with the Command Line</a></li>
<li class="chapter" data-level="1.4" data-path="command-line.html"><a href="command-line.html#common-command-line-commands"><i class="fa fa-check"></i><b>1.4</b> Common Command Line Commands</a></li>
<li class="chapter" data-level="1.5" data-path="command-line.html"><a href="command-line.html#command-line-text-editors"><i class="fa fa-check"></i><b>1.5</b> Command Line Text Editors</a></li>
<li class="chapter" data-level="1.6" data-path="command-line.html"><a href="command-line.html#basic-vim-commands"><i class="fa fa-check"></i><b>1.6</b> Basic Vim Commands</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="version-control.html"><a href="version-control.html"><i class="fa fa-check"></i><b>2</b> Version Control</a>
<ul>
<li class="chapter" data-level="2.1" data-path="version-control.html"><a href="version-control.html#learning-objectives-1"><i class="fa fa-check"></i><b>2.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="2.2" data-path="version-control.html"><a href="version-control.html#introduction-to-version-control"><i class="fa fa-check"></i><b>2.2</b> Introduction to Version Control</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="version-control.html"><a href="version-control.html#what-is-version-control"><i class="fa fa-check"></i><b>2.2.1</b> What is Version Control?</a></li>
<li class="chapter" data-level="2.2.2" data-path="version-control.html"><a href="version-control.html#software-assisted-version-control"><i class="fa fa-check"></i><b>2.2.2</b> Software Assisted Version Control</a></li>
<li class="chapter" data-level="2.2.3" data-path="version-control.html"><a href="version-control.html#local-vs-server-based-version-control"><i class="fa fa-check"></i><b>2.2.3</b> Local vs Server Based Version Control</a></li>
<li class="chapter" data-level="2.2.4" data-path="version-control.html"><a href="version-control.html#central-vs-distributed-based-version-control"><i class="fa fa-check"></i><b>2.2.4</b> Central vs Distributed Based Version Control</a></li>
<li class="chapter" data-level="2.2.5" data-path="version-control.html"><a href="version-control.html#how-computers-store-and-access-information"><i class="fa fa-check"></i><b>2.2.5</b> How Computers Store and Access Information</a></li>
<li class="chapter" data-level="2.2.6" data-path="version-control.html"><a href="version-control.html#how-vcs-manage-your-files"><i class="fa fa-check"></i><b>2.2.6</b> How VCS Manage Your Files</a></li>
<li class="chapter" data-level="2.2.7" data-path="version-control.html"><a href="version-control.html#additional-resources"><i class="fa fa-check"></i><b>2.2.7</b> Additional Resources</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="version-control.html"><a href="version-control.html#git-local-version-control-basics"><i class="fa fa-check"></i><b>2.3</b> Git Local Version Control Basics</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="version-control.html"><a href="version-control.html#creating-your-first-repo"><i class="fa fa-check"></i><b>2.3.1</b> Creating Your First Repo</a></li>
<li class="chapter" data-level="2.3.2" data-path="version-control.html"><a href="version-control.html#storing-versions-of-a-file"><i class="fa fa-check"></i><b>2.3.2</b> Storing Versions of a File</a></li>
<li class="chapter" data-level="2.3.3" data-path="version-control.html"><a href="version-control.html#view-a-history-of-your-commits"><i class="fa fa-check"></i><b>2.3.3</b> View a History of Your Commits</a></li>
<li class="chapter" data-level="2.3.4" data-path="version-control.html"><a href="version-control.html#comparing-commits-and-files"><i class="fa fa-check"></i><b>2.3.4</b> Comparing Commits and Files</a></li>
<li class="chapter" data-level="2.3.5" data-path="version-control.html"><a href="version-control.html#undoing-things"><i class="fa fa-check"></i><b>2.3.5</b> Undoing Things</a></li>
<li class="chapter" data-level="2.3.6" data-path="version-control.html"><a href="version-control.html#git-branching"><i class="fa fa-check"></i><b>2.3.6</b> Git Branching</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="version-control.html"><a href="version-control.html#git-remote-repositories"><i class="fa fa-check"></i><b>2.4</b> Git Remote Repositories</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="version-control.html"><a href="version-control.html#github-basics"><i class="fa fa-check"></i><b>2.4.1</b> GitHub Basics</a></li>
<li class="chapter" data-level="2.4.2" data-path="version-control.html"><a href="version-control.html#basic-github-account-setup"><i class="fa fa-check"></i><b>2.4.2</b> Basic GitHub Account Setup</a></li>
<li class="chapter" data-level="2.4.3" data-path="version-control.html"><a href="version-control.html#github-desktop-or-the-command-line"><i class="fa fa-check"></i><b>2.4.3</b> GitHub Desktop, or the Command Line?</a></li>
<li class="chapter" data-level="2.4.4" data-path="version-control.html"><a href="version-control.html#sync-with-github"><i class="fa fa-check"></i><b>2.4.4</b> Sync with GitHub</a></li>
<li class="chapter" data-level="2.4.5" data-path="version-control.html"><a href="version-control.html#cloning-a-repository"><i class="fa fa-check"></i><b>2.4.5</b> Cloning a Repository</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="introduction-to-r.html"><a href="introduction-to-r.html"><i class="fa fa-check"></i><b>3</b> Introduction to R</a>
<ul>
<li class="chapter" data-level="3.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#learning-objectives-2"><i class="fa fa-check"></i><b>3.1</b> Learning objectives</a></li>
<li class="chapter" data-level="3.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#before-we-start"><i class="fa fa-check"></i><b>3.2</b> Before We Start</a></li>
<li class="chapter" data-level="3.3" data-path="introduction-to-r.html"><a href="introduction-to-r.html#mathematical-operations"><i class="fa fa-check"></i><b>3.3</b> Mathematical Operations</a></li>
<li class="chapter" data-level="3.4" data-path="introduction-to-r.html"><a href="introduction-to-r.html#variables"><i class="fa fa-check"></i><b>3.4</b> Variables</a></li>
<li class="chapter" data-level="3.5" data-path="introduction-to-r.html"><a href="introduction-to-r.html#calling-functions"><i class="fa fa-check"></i><b>3.5</b> Calling Functions</a></li>
<li class="chapter" data-level="3.6" data-path="introduction-to-r.html"><a href="introduction-to-r.html#help"><i class="fa fa-check"></i><b>3.6</b> HELP!</a>
<ul>
<li class="chapter" data-level="3.6.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#when-something-goes-wrong-and-it-will"><i class="fa fa-check"></i><b>3.6.1</b> When Something Goes Wrong (and it will)</a></li>
</ul></li>
<li class="chapter" data-level="3.7" data-path="introduction-to-r.html"><a href="introduction-to-r.html#vectors"><i class="fa fa-check"></i><b>3.7</b> Vectors</a>
<ul>
<li class="chapter" data-level="3.7.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#indexing-vectors"><i class="fa fa-check"></i><b>3.7.1</b> Indexing Vectors</a></li>
<li class="chapter" data-level="3.7.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#vectorization"><i class="fa fa-check"></i><b>3.7.2</b> Vectorization</a></li>
</ul></li>
<li class="chapter" data-level="3.8" data-path="introduction-to-r.html"><a href="introduction-to-r.html#data-frames"><i class="fa fa-check"></i><b>3.8</b> Data Frames</a>
<ul>
<li class="chapter" data-level="3.8.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#selecting-columns"><i class="fa fa-check"></i><b>3.8.1</b> Selecting Columns</a></li>
<li class="chapter" data-level="3.8.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#inspecting-data"><i class="fa fa-check"></i><b>3.8.2</b> Inspecting Data</a></li>
</ul></li>
<li class="chapter" data-level="3.9" data-path="introduction-to-r.html"><a href="introduction-to-r.html#data-types-classes"><i class="fa fa-check"></i><b>3.9</b> Data Types &amp; Classes</a>
<ul>
<li class="chapter" data-level="3.9.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#lists"><i class="fa fa-check"></i><b>3.9.1</b> Lists</a></li>
<li class="chapter" data-level="3.9.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#implicit-coercion"><i class="fa fa-check"></i><b>3.9.2</b> Implicit Coercion</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="core-programming-concepts.html"><a href="core-programming-concepts.html"><i class="fa fa-check"></i><b>4</b> Core Programming Concepts</a>
<ul>
<li class="chapter" data-level="4.1" data-path="core-programming-concepts.html"><a href="core-programming-concepts.html#learning-objectives-3"><i class="fa fa-check"></i><b>4.1</b> Learning objectives</a></li>
<li class="chapter" data-level="4.2" data-path="core-programming-concepts.html"><a href="core-programming-concepts.html#control-structures"><i class="fa fa-check"></i><b>4.2</b> Control Structures</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="core-programming-concepts.html"><a href="core-programming-concepts.html#if-statement"><i class="fa fa-check"></i><b>4.2.1</b> <em>If</em> Statement</a></li>
<li class="chapter" data-level="4.2.2" data-path="core-programming-concepts.html"><a href="core-programming-concepts.html#relationship-operators"><i class="fa fa-check"></i><b>4.2.2</b> Relationship Operators</a></li>
<li class="chapter" data-level="4.2.3" data-path="core-programming-concepts.html"><a href="core-programming-concepts.html#if-else-statement"><i class="fa fa-check"></i><b>4.2.3</b> <em>If Else</em> Statement</a></li>
<li class="chapter" data-level="4.2.4" data-path="core-programming-concepts.html"><a href="core-programming-concepts.html#ifelse-statement"><i class="fa fa-check"></i><b>4.2.4</b> <em>ifelse</em> Statement</a></li>
<li class="chapter" data-level="4.2.5" data-path="core-programming-concepts.html"><a href="core-programming-concepts.html#the-switch-statement"><i class="fa fa-check"></i><b>4.2.5</b> The <em>switch</em> Statement</a></li>
<li class="chapter" data-level="4.2.6" data-path="core-programming-concepts.html"><a href="core-programming-concepts.html#the-which-statement"><i class="fa fa-check"></i><b>4.2.6</b> The <em>which</em> Statement</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="core-programming-concepts.html"><a href="core-programming-concepts.html#iteration"><i class="fa fa-check"></i><b>4.3</b> Iteration</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="core-programming-concepts.html"><a href="core-programming-concepts.html#for-i-in-x-loops"><i class="fa fa-check"></i><b>4.3.1</b> For <em>i</em> in <em>x</em> Loops</a></li>
<li class="chapter" data-level="4.3.2" data-path="core-programming-concepts.html"><a href="core-programming-concepts.html#while-loops"><i class="fa fa-check"></i><b>4.3.2</b> <em>While</em> Loops</a></li>
<li class="chapter" data-level="4.3.3" data-path="core-programming-concepts.html"><a href="core-programming-concepts.html#repeat-loops"><i class="fa fa-check"></i><b>4.3.3</b> <em>Repeat</em> Loops</a></li>
<li class="chapter" data-level="4.3.4" data-path="core-programming-concepts.html"><a href="core-programming-concepts.html#break-and-next"><i class="fa fa-check"></i><b>4.3.4</b> <em>Break</em> and <em>Next</em></a></li>
<li class="chapter" data-level="4.3.5" data-path="core-programming-concepts.html"><a href="core-programming-concepts.html#iterating-data.frame-rows-in-r"><i class="fa fa-check"></i><b>4.3.5</b> Iterating Data.Frame Rows in R</a></li>
<li class="chapter" data-level="4.3.6" data-path="core-programming-concepts.html"><a href="core-programming-concepts.html#lapply"><i class="fa fa-check"></i><b>4.3.6</b> <em>lapply()</em></a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="core-programming-concepts.html"><a href="core-programming-concepts.html#functions"><i class="fa fa-check"></i><b>4.4</b> Functions</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="core-programming-concepts.html"><a href="core-programming-concepts.html#what-is-a-function"><i class="fa fa-check"></i><b>4.4.1</b> What is a function?</a></li>
<li class="chapter" data-level="4.4.2" data-path="core-programming-concepts.html"><a href="core-programming-concepts.html#what-is-the-basic-syntax-of-a-function-in-r"><i class="fa fa-check"></i><b>4.4.2</b> What is the basic syntax of a function in R?</a></li>
<li class="chapter" data-level="4.4.3" data-path="core-programming-concepts.html"><a href="core-programming-concepts.html#building-and-calling-functions"><i class="fa fa-check"></i><b>4.4.3</b> Building and calling functions</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="files-packages-and-data.html"><a href="files-packages-and-data.html"><i class="fa fa-check"></i><b>5</b> Files, Packages, and Data</a>
<ul>
<li class="chapter" data-level="5.1" data-path="files-packages-and-data.html"><a href="files-packages-and-data.html#learning-objectives-4"><i class="fa fa-check"></i><b>5.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="5.2" data-path="files-packages-and-data.html"><a href="files-packages-and-data.html#working-with-files"><i class="fa fa-check"></i><b>5.2</b> Working with Files</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="files-packages-and-data.html"><a href="files-packages-and-data.html#setup"><i class="fa fa-check"></i><b>5.2.1</b> Setup</a></li>
<li class="chapter" data-level="5.2.2" data-path="files-packages-and-data.html"><a href="files-packages-and-data.html#exploring-files"><i class="fa fa-check"></i><b>5.2.2</b> Exploring Files</a></li>
<li class="chapter" data-level="5.2.3" data-path="files-packages-and-data.html"><a href="files-packages-and-data.html#reading-and-writing-files-in-r"><i class="fa fa-check"></i><b>5.2.3</b> Reading and Writing Files in R</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="files-packages-and-data.html"><a href="files-packages-and-data.html#packages"><i class="fa fa-check"></i><b>5.3</b> Packages</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="files-packages-and-data.html"><a href="files-packages-and-data.html#cran"><i class="fa fa-check"></i><b>5.3.1</b> CRAN</a></li>
<li class="chapter" data-level="5.3.2" data-path="files-packages-and-data.html"><a href="files-packages-and-data.html#using-packages"><i class="fa fa-check"></i><b>5.3.2</b> Using Packages</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="files-packages-and-data.html"><a href="files-packages-and-data.html#factors-special-values-and-indexing"><i class="fa fa-check"></i><b>5.4</b> Factors, Special Values, and Indexing</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="files-packages-and-data.html"><a href="files-packages-and-data.html#factors"><i class="fa fa-check"></i><b>5.4.1</b> Factors</a></li>
<li class="chapter" data-level="5.4.2" data-path="files-packages-and-data.html"><a href="files-packages-and-data.html#special-values"><i class="fa fa-check"></i><b>5.4.2</b> Special Values</a></li>
<li class="chapter" data-level="5.4.3" data-path="files-packages-and-data.html"><a href="files-packages-and-data.html#indexing"><i class="fa fa-check"></i><b>5.4.3</b> Indexing</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="data-structures.html"><a href="data-structures.html"><i class="fa fa-check"></i><b>6</b> Data Structures</a>
<ul>
<li class="chapter" data-level="6.1" data-path="data-structures.html"><a href="data-structures.html#learning-objectives-5"><i class="fa fa-check"></i><b>6.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="6.2" data-path="data-structures.html"><a href="data-structures.html#what-are-data"><i class="fa fa-check"></i><b>6.2</b> What are data?</a></li>
<li class="chapter" data-level="6.3" data-path="data-structures.html"><a href="data-structures.html#tabular-data"><i class="fa fa-check"></i><b>6.3</b> Tabular Data</a></li>
<li class="chapter" data-level="6.4" data-path="data-structures.html"><a href="data-structures.html#tree-document-data-structures"><i class="fa fa-check"></i><b>6.4</b> Tree / Document Data Structures</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="data-structures.html"><a href="data-structures.html#structuring-data-as-xml"><i class="fa fa-check"></i><b>6.4.1</b> Structuring Data as XML</a></li>
<li class="chapter" data-level="6.4.2" data-path="data-structures.html"><a href="data-structures.html#structuring-data-as-json"><i class="fa fa-check"></i><b>6.4.2</b> Structuring Data as JSON</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="data-structures.html"><a href="data-structures.html#relational-databases"><i class="fa fa-check"></i><b>6.5</b> Relational Databases</a></li>
<li class="chapter" data-level="6.6" data-path="data-structures.html"><a href="data-structures.html#non-hierarchical-relational-data"><i class="fa fa-check"></i><b>6.6</b> Non-Hierarchical Relational Data</a></li>
<li class="chapter" data-level="6.7" data-path="data-structures.html"><a href="data-structures.html#geospatial-data"><i class="fa fa-check"></i><b>6.7</b> Geospatial Data</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="data-forensics.html"><a href="data-forensics.html"><i class="fa fa-check"></i><b>7</b> Data Forensics</a>
<ul>
<li class="chapter" data-level="7.1" data-path="data-forensics.html"><a href="data-forensics.html#learning-objectives-6"><i class="fa fa-check"></i><b>7.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="7.2" data-path="data-forensics.html"><a href="data-forensics.html#structural-summaries-cleaning"><i class="fa fa-check"></i><b>7.2</b> Structural Summaries &amp; Cleaning</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="data-forensics.html"><a href="data-forensics.html#dates"><i class="fa fa-check"></i><b>7.2.1</b> Dates</a></li>
<li class="chapter" data-level="7.2.2" data-path="data-forensics.html"><a href="data-forensics.html#tidy-data"><i class="fa fa-check"></i><b>7.2.2</b> Tidy Data</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="data-forensics.html"><a href="data-forensics.html#statistical-forensics"><i class="fa fa-check"></i><b>7.3</b> Statistical Forensics</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="data-forensics.html"><a href="data-forensics.html#missing-values-1"><i class="fa fa-check"></i><b>7.3.1</b> Missing Values</a></li>
<li class="chapter" data-level="7.3.2" data-path="data-forensics.html"><a href="data-forensics.html#outliers"><i class="fa fa-check"></i><b>7.3.2</b> Outliers</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="data-forensics.html"><a href="data-forensics.html#apply-functions"><i class="fa fa-check"></i><b>7.4</b> Apply Functions</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="data-forensics.html"><a href="data-forensics.html#the-sapply-function"><i class="fa fa-check"></i><b>7.4.1</b> The <code>sapply</code> Function</a></li>
<li class="chapter" data-level="7.4.2" data-path="data-forensics.html"><a href="data-forensics.html#the-split-apply-pattern"><i class="fa fa-check"></i><b>7.4.2</b> The Split-Apply Pattern</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="data-visualization.html"><a href="data-visualization.html"><i class="fa fa-check"></i><b>8</b> Data Visualization</a>
<ul>
<li class="chapter" data-level="8.1" data-path="data-visualization.html"><a href="data-visualization.html#learning-objectives-7"><i class="fa fa-check"></i><b>8.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="8.2" data-path="data-visualization.html"><a href="data-visualization.html#principles-perception"><i class="fa fa-check"></i><b>8.2</b> Principles &amp; Perception</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="data-visualization.html"><a href="data-visualization.html#a-brief-history-of-data-visualization"><i class="fa fa-check"></i><b>8.2.1</b> A Brief History of Data Visualization</a></li>
<li class="chapter" data-level="8.2.2" data-path="data-visualization.html"><a href="data-visualization.html#what-is-data-visualization"><i class="fa fa-check"></i><b>8.2.2</b> What is Data Visualization?</a></li>
<li class="chapter" data-level="8.2.3" data-path="data-visualization.html"><a href="data-visualization.html#before-you-viz-make-a-plan"><i class="fa fa-check"></i><b>8.2.3</b> Before You Viz, Make a Plan</a></li>
<li class="chapter" data-level="8.2.4" data-path="data-visualization.html"><a href="data-visualization.html#graphical-elements-of-a-plot"><i class="fa fa-check"></i><b>8.2.4</b> Graphical Elements of a Plot</a></li>
<li class="chapter" data-level="8.2.5" data-path="data-visualization.html"><a href="data-visualization.html#principles-of-visual-perception"><i class="fa fa-check"></i><b>8.2.5</b> Principles of Visual Perception</a></li>
<li class="chapter" data-level="8.2.6" data-path="data-visualization.html"><a href="data-visualization.html#accessible-data-visualizations"><i class="fa fa-check"></i><b>8.2.6</b> Accessible Data Visualizations</a></li>
<li class="chapter" data-level="8.2.7" data-path="data-visualization.html"><a href="data-visualization.html#designing-statistical-graphics"><i class="fa fa-check"></i><b>8.2.7</b> Designing Statistical Graphics</a></li>
<li class="chapter" data-level="8.2.8" data-path="data-visualization.html"><a href="data-visualization.html#tips-for-better-plots"><i class="fa fa-check"></i><b>8.2.8</b> Tips for Better Plots</a></li>
<li class="chapter" data-level="8.2.9" data-path="data-visualization.html"><a href="data-visualization.html#references-and-additional-resources"><i class="fa fa-check"></i><b>8.2.9</b> References and Additional Resources</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="data-visualization.html"><a href="data-visualization.html#data-viz-with-ggplot-in-r"><i class="fa fa-check"></i><b>8.3</b> Data Viz with <code>ggplot</code> in R</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="data-visualization.html"><a href="data-visualization.html#r-graphics-overview"><i class="fa fa-check"></i><b>8.3.1</b> R Graphics Overview</a></li>
<li class="chapter" data-level="8.3.2" data-path="data-visualization.html"><a href="data-visualization.html#the-grammar-of-graphics"><i class="fa fa-check"></i><b>8.3.2</b> The Grammar of Graphics</a></li>
<li class="chapter" data-level="8.3.3" data-path="data-visualization.html"><a href="data-visualization.html#saving-plots"><i class="fa fa-check"></i><b>8.3.3</b> Saving Plots</a></li>
<li class="chapter" data-level="8.3.4" data-path="data-visualization.html"><a href="data-visualization.html#example-bar-plot"><i class="fa fa-check"></i><b>8.3.4</b> Example: Bar Plot</a></li>
<li class="chapter" data-level="8.3.5" data-path="data-visualization.html"><a href="data-visualization.html#remembering-factors"><i class="fa fa-check"></i><b>8.3.5</b> Remembering factors</a></li>
<li class="chapter" data-level="8.3.6" data-path="data-visualization.html"><a href="data-visualization.html#designing-a-visualization"><i class="fa fa-check"></i><b>8.3.6</b> Designing a Visualization</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="getting-data-from-the-web.html"><a href="getting-data-from-the-web.html"><i class="fa fa-check"></i><b>9</b> Getting Data from the Web</a>
<ul>
<li class="chapter" data-level="9.1" data-path="getting-data-from-the-web.html"><a href="getting-data-from-the-web.html#learning-objectives-8"><i class="fa fa-check"></i><b>9.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="9.2" data-path="getting-data-from-the-web.html"><a href="getting-data-from-the-web.html#how-the-web-works"><i class="fa fa-check"></i><b>9.2</b> How the Web Works</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="getting-data-from-the-web.html"><a href="getting-data-from-the-web.html#client-server-architecture"><i class="fa fa-check"></i><b>9.2.1</b> Client-Server Architecture</a></li>
<li class="chapter" data-level="9.2.2" data-path="getting-data-from-the-web.html"><a href="getting-data-from-the-web.html#understanding-urls"><i class="fa fa-check"></i><b>9.2.2</b> Understanding URLs</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="getting-data-from-the-web.html"><a href="getting-data-from-the-web.html#accessing-data-online"><i class="fa fa-check"></i><b>9.3</b> Accessing Data Online</a></li>
<li class="chapter" data-level="9.4" data-path="getting-data-from-the-web.html"><a href="getting-data-from-the-web.html#apis"><i class="fa fa-check"></i><b>9.4</b> APIs</a>
<ul>
<li class="chapter" data-level="9.4.1" data-path="getting-data-from-the-web.html"><a href="getting-data-from-the-web.html#querying-to-an-api"><i class="fa fa-check"></i><b>9.4.1</b> Querying to an API</a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="getting-data-from-the-web.html"><a href="getting-data-from-the-web.html#web-scraping"><i class="fa fa-check"></i><b>9.5</b> Web Scraping</a>
<ul>
<li class="chapter" data-level="9.5.1" data-path="getting-data-from-the-web.html"><a href="getting-data-from-the-web.html#whats-in-a-web-page"><i class="fa fa-check"></i><b>9.5.1</b> What’s in a Web Page?</a></li>
<li class="chapter" data-level="9.5.2" data-path="getting-data-from-the-web.html"><a href="getting-data-from-the-web.html#rs-xml-parsers"><i class="fa fa-check"></i><b>9.5.2</b> R’s XML Parsers</a></li>
<li class="chapter" data-level="9.5.3" data-path="getting-data-from-the-web.html"><a href="getting-data-from-the-web.html#xpath"><i class="fa fa-check"></i><b>9.5.3</b> XPath</a></li>
<li class="chapter" data-level="9.5.4" data-path="getting-data-from-the-web.html"><a href="getting-data-from-the-web.html#the-web-scraping-workflow"><i class="fa fa-check"></i><b>9.5.4</b> The Web Scraping Workflow</a></li>
<li class="chapter" data-level="9.5.5" data-path="getting-data-from-the-web.html"><a href="getting-data-from-the-web.html#css-selectors"><i class="fa fa-check"></i><b>9.5.5</b> CSS Selectors</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html"><i class="fa fa-check"></i><b>10</b> Strings and Regular Expressions</a>
<ul>
<li class="chapter" data-level="10.1" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#learning-objectives-9"><i class="fa fa-check"></i><b>10.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="10.2" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#printing-output"><i class="fa fa-check"></i><b>10.2</b> Printing Output</a></li>
<li class="chapter" data-level="10.3" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#escape-sequences"><i class="fa fa-check"></i><b>10.3</b> Escape Sequences</a>
<ul>
<li class="chapter" data-level="10.3.1" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#raw-strings"><i class="fa fa-check"></i><b>10.3.1</b> Raw Strings</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#character-encodings"><i class="fa fa-check"></i><b>10.4</b> Character Encodings</a>
<ul>
<li class="chapter" data-level="10.4.1" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#character-encodings-in-text-files"><i class="fa fa-check"></i><b>10.4.1</b> Character Encodings in Text Files</a></li>
</ul></li>
<li class="chapter" data-level="10.5" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#stringr-and-the-tidyverse"><i class="fa fa-check"></i><b>10.5</b> <code>stringr</code> and the <code>tidyverse</code></a>
<ul>
<li class="chapter" data-level="10.5.1" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#the-tidyverse"><i class="fa fa-check"></i><b>10.5.1</b> The Tidyverse</a></li>
<li class="chapter" data-level="10.5.2" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#stringr"><i class="fa fa-check"></i><b>10.5.2</b> <code>stringr</code></a></li>
</ul></li>
<li class="chapter" data-level="10.6" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#regular-expressions"><i class="fa fa-check"></i><b>10.6</b> Regular Expressions</a>
<ul>
<li class="chapter" data-level="10.6.1" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#the-wildcard"><i class="fa fa-check"></i><b>10.6.1</b> The Wildcard</a></li>
<li class="chapter" data-level="10.6.2" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#escape-sequences-1"><i class="fa fa-check"></i><b>10.6.2</b> Escape Sequences</a></li>
<li class="chapter" data-level="10.6.3" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#anchors"><i class="fa fa-check"></i><b>10.6.3</b> Anchors</a></li>
<li class="chapter" data-level="10.6.4" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#character-classes"><i class="fa fa-check"></i><b>10.6.4</b> Character Classes</a></li>
<li class="chapter" data-level="10.6.5" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#quantifiers"><i class="fa fa-check"></i><b>10.6.5</b> Quantifiers</a></li>
<li class="chapter" data-level="10.6.6" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#groups"><i class="fa fa-check"></i><b>10.6.6</b> Groups</a></li>
<li class="chapter" data-level="10.6.7" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#extracting-matches"><i class="fa fa-check"></i><b>10.6.7</b> Extracting Matches</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="optical-character-recognition.html"><a href="optical-character-recognition.html"><i class="fa fa-check"></i><b>11</b> Optical Character Recognition</a>
<ul>
<li class="chapter" data-level="11.1" data-path="optical-character-recognition.html"><a href="optical-character-recognition.html#learning-objectives-10"><i class="fa fa-check"></i><b>11.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="11.2" data-path="optical-character-recognition.html"><a href="optical-character-recognition.html#what-is-optical-character-recognition"><i class="fa fa-check"></i><b>11.2</b> What is Optical Character Recognition?</a></li>
<li class="chapter" data-level="11.3" data-path="optical-character-recognition.html"><a href="optical-character-recognition.html#loading-page-images"><i class="fa fa-check"></i><b>11.3</b> Loading Page Images</a></li>
<li class="chapter" data-level="11.4" data-path="optical-character-recognition.html"><a href="optical-character-recognition.html#running-ocr"><i class="fa fa-check"></i><b>11.4</b> Running OCR</a></li>
<li class="chapter" data-level="11.5" data-path="optical-character-recognition.html"><a href="optical-character-recognition.html#accuracy"><i class="fa fa-check"></i><b>11.5</b> Accuracy</a></li>
<li class="chapter" data-level="11.6" data-path="optical-character-recognition.html"><a href="optical-character-recognition.html#unreadable-text"><i class="fa fa-check"></i><b>11.6</b> Unreadable Text</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="statistics.html"><a href="statistics.html"><i class="fa fa-check"></i><b>12</b> Statistics</a>
<ul>
<li class="chapter" data-level="12.1" data-path="statistics.html"><a href="statistics.html#introduction"><i class="fa fa-check"></i><b>12.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="12.1.1" data-path="statistics.html"><a href="statistics.html#mice_pot-dataset"><i class="fa fa-check"></i><b>12.1.1</b> <code>mice_pot</code> dataset</a></li>
<li class="chapter" data-level="12.1.2" data-path="statistics.html"><a href="statistics.html#barnacles-dataset"><i class="fa fa-check"></i><b>12.1.2</b> <code>barnacles</code> dataset</a></li>
<li class="chapter" data-level="12.1.3" data-path="statistics.html"><a href="statistics.html#sample-and-population"><i class="fa fa-check"></i><b>12.1.3</b> Sample and population</a></li>
</ul></li>
<li class="chapter" data-level="12.2" data-path="statistics.html"><a href="statistics.html#uses-of-simulation"><i class="fa fa-check"></i><b>12.2</b> Uses of simulation</a></li>
<li class="chapter" data-level="12.3" data-path="statistics.html"><a href="statistics.html#mathematical-statistics"><i class="fa fa-check"></i><b>12.3</b> Mathematical statistics</a>
<ul>
<li class="chapter" data-level="12.3.1" data-path="statistics.html"><a href="statistics.html#law-of-large-numbers"><i class="fa fa-check"></i><b>12.3.1</b> Law of large numbers</a></li>
<li class="chapter" data-level="12.3.2" data-path="statistics.html"><a href="statistics.html#central-limit-theorem"><i class="fa fa-check"></i><b>12.3.2</b> Central limit theorem</a></li>
</ul></li>
<li class="chapter" data-level="12.4" data-path="statistics.html"><a href="statistics.html#statistical-inference"><i class="fa fa-check"></i><b>12.4</b> Statistical inference</a>
<ul>
<li class="chapter" data-level="12.4.1" data-path="statistics.html"><a href="statistics.html#confidence-intervals"><i class="fa fa-check"></i><b>12.4.1</b> Confidence intervals</a></li>
<li class="chapter" data-level="12.4.2" data-path="statistics.html"><a href="statistics.html#two-population-test"><i class="fa fa-check"></i><b>12.4.2</b> Two-population test</a></li>
<li class="chapter" data-level="12.4.3" data-path="statistics.html"><a href="statistics.html#hypothesis-tests-for-non-normal-data"><i class="fa fa-check"></i><b>12.4.3</b> Hypothesis tests for non-normal data</a></li>
</ul></li>
<li class="chapter" data-level="12.5" data-path="statistics.html"><a href="statistics.html#regression"><i class="fa fa-check"></i><b>12.5</b> Regression</a>
<ul>
<li class="chapter" data-level="12.5.1" data-path="statistics.html"><a href="statistics.html#fitting-a-regression-line"><i class="fa fa-check"></i><b>12.5.1</b> Fitting a regression line</a></li>
<li class="chapter" data-level="12.5.2" data-path="statistics.html"><a href="statistics.html#assumptions-and-diagnostics"><i class="fa fa-check"></i><b>12.5.2</b> Assumptions and diagnostics</a></li>
<li class="chapter" data-level="12.5.3" data-path="statistics.html"><a href="statistics.html#functions-for-inspecting-regression-fits"><i class="fa fa-check"></i><b>12.5.3</b> Functions for inspecting regression fits</a></li>
<li class="chapter" data-level="12.5.4" data-path="statistics.html"><a href="statistics.html#a-model-that-fails-diagnostics"><i class="fa fa-check"></i><b>12.5.4</b> A model that fails diagnostics</a></li>
<li class="chapter" data-level="12.5.5" data-path="statistics.html"><a href="statistics.html#predictions-and-variability"><i class="fa fa-check"></i><b>12.5.5</b> Predictions and variability</a></li>
</ul></li>
<li class="chapter" data-level="12.6" data-path="statistics.html"><a href="statistics.html#model-selection"><i class="fa fa-check"></i><b>12.6</b> Model selection</a></li>
<li class="chapter" data-level="12.7" data-path="statistics.html"><a href="statistics.html#cross-validation"><i class="fa fa-check"></i><b>12.7</b> Cross-validation</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="reshaping-tabular-data.html"><a href="reshaping-tabular-data.html"><i class="fa fa-check"></i><b>13</b> Reshaping Tabular Data</a>
<ul>
<li class="chapter" data-level="13.1" data-path="reshaping-tabular-data.html"><a href="reshaping-tabular-data.html#learning-objectives-11"><i class="fa fa-check"></i><b>13.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="13.2" data-path="reshaping-tabular-data.html"><a href="reshaping-tabular-data.html#introduction-1"><i class="fa fa-check"></i><b>13.2</b> Introduction</a></li>
<li class="chapter" data-level="13.3" data-path="reshaping-tabular-data.html"><a href="reshaping-tabular-data.html#columns-into-rows"><i class="fa fa-check"></i><b>13.3</b> Columns into Rows</a>
<ul>
<li class="chapter" data-level="13.3.1" data-path="reshaping-tabular-data.html"><a href="reshaping-tabular-data.html#how-to-pivot-longer-without-tidyr"><i class="fa fa-check"></i><b>13.3.1</b> How to Pivot Longer without <strong>tidyr</strong></a></li>
</ul></li>
<li class="chapter" data-level="13.4" data-path="reshaping-tabular-data.html"><a href="reshaping-tabular-data.html#rows-into-columns"><i class="fa fa-check"></i><b>13.4</b> Rows into Columns</a></li>
<li class="chapter" data-level="13.5" data-path="reshaping-tabular-data.html"><a href="reshaping-tabular-data.html#separating-values"><i class="fa fa-check"></i><b>13.5</b> Separating Values</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="network-analysis.html"><a href="network-analysis.html"><i class="fa fa-check"></i><b>14</b> Network Analysis</a>
<ul>
<li class="chapter" data-level="14.1" data-path="network-analysis.html"><a href="network-analysis.html#learning-objectives-12"><i class="fa fa-check"></i><b>14.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="14.2" data-path="network-analysis.html"><a href="network-analysis.html#what-is-a-network"><i class="fa fa-check"></i><b>14.2</b> What is a network?</a>
<ul>
<li class="chapter" data-level="14.2.1" data-path="network-analysis.html"><a href="network-analysis.html#networks-in-research"><i class="fa fa-check"></i><b>14.2.1</b> Networks in research</a></li>
</ul></li>
<li class="chapter" data-level="14.3" data-path="network-analysis.html"><a href="network-analysis.html#network-data"><i class="fa fa-check"></i><b>14.3</b> Network Data</a>
<ul>
<li class="chapter" data-level="14.3.1" data-path="network-analysis.html"><a href="network-analysis.html#edgelist"><i class="fa fa-check"></i><b>14.3.1</b> Edgelist</a></li>
<li class="chapter" data-level="14.3.2" data-path="network-analysis.html"><a href="network-analysis.html#adjacency-matrix"><i class="fa fa-check"></i><b>14.3.2</b> Adjacency Matrix</a></li>
<li class="chapter" data-level="14.3.3" data-path="network-analysis.html"><a href="network-analysis.html#edge-weights"><i class="fa fa-check"></i><b>14.3.3</b> Edge Weights</a></li>
<li class="chapter" data-level="14.3.4" data-path="network-analysis.html"><a href="network-analysis.html#attributes"><i class="fa fa-check"></i><b>14.3.4</b> Attributes</a></li>
<li class="chapter" data-level="14.3.5" data-path="network-analysis.html"><a href="network-analysis.html#create-an-example-network"><i class="fa fa-check"></i><b>14.3.5</b> Create an Example Network</a></li>
<li class="chapter" data-level="14.3.6" data-path="network-analysis.html"><a href="network-analysis.html#components"><i class="fa fa-check"></i><b>14.3.6</b> Components</a></li>
<li class="chapter" data-level="14.3.7" data-path="network-analysis.html"><a href="network-analysis.html#limitations-of-network-data"><i class="fa fa-check"></i><b>14.3.7</b> Limitations of Network Data</a></li>
<li class="chapter" data-level="14.3.8" data-path="network-analysis.html"><a href="network-analysis.html#projected-networks"><i class="fa fa-check"></i><b>14.3.8</b> Projected Networks</a></li>
</ul></li>
<li class="chapter" data-level="14.4" data-path="network-analysis.html"><a href="network-analysis.html#graph-level-properties"><i class="fa fa-check"></i><b>14.4</b> Graph Level Properties</a>
<ul>
<li class="chapter" data-level="14.4.1" data-path="network-analysis.html"><a href="network-analysis.html#directed-or-un-directed"><i class="fa fa-check"></i><b>14.4.1</b> Directed or Un-directed</a></li>
<li class="chapter" data-level="14.4.2" data-path="network-analysis.html"><a href="network-analysis.html#density"><i class="fa fa-check"></i><b>14.4.2</b> Density</a></li>
<li class="chapter" data-level="14.4.3" data-path="network-analysis.html"><a href="network-analysis.html#centralization"><i class="fa fa-check"></i><b>14.4.3</b> Centralization</a></li>
</ul></li>
<li class="chapter" data-level="14.5" data-path="network-analysis.html"><a href="network-analysis.html#node-level-properties"><i class="fa fa-check"></i><b>14.5</b> Node Level Properties</a>
<ul>
<li class="chapter" data-level="14.5.1" data-path="network-analysis.html"><a href="network-analysis.html#degree"><i class="fa fa-check"></i><b>14.5.1</b> Degree</a></li>
<li class="chapter" data-level="14.5.2" data-path="network-analysis.html"><a href="network-analysis.html#geodesic-distance"><i class="fa fa-check"></i><b>14.5.2</b> Geodesic Distance</a></li>
<li class="chapter" data-level="14.5.3" data-path="network-analysis.html"><a href="network-analysis.html#centrality"><i class="fa fa-check"></i><b>14.5.3</b> Centrality</a></li>
</ul></li>
<li class="chapter" data-level="14.6" data-path="network-analysis.html"><a href="network-analysis.html#network-workflow"><i class="fa fa-check"></i><b>14.6</b> Network Workflow</a></li>
<li class="chapter" data-level="14.7" data-path="network-analysis.html"><a href="network-analysis.html#network-tools"><i class="fa fa-check"></i><b>14.7</b> Network Tools</a>
<ul>
<li class="chapter" data-level="14.7.1" data-path="network-analysis.html"><a href="network-analysis.html#network-models"><i class="fa fa-check"></i><b>14.7.1</b> Network Models</a></li>
<li class="chapter" data-level="14.7.2" data-path="network-analysis.html"><a href="network-analysis.html#network-visualization"><i class="fa fa-check"></i><b>14.7.2</b> Network Visualization</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="15" data-path="data-forensics-and-cleaning-unstructured-data.html"><a href="data-forensics-and-cleaning-unstructured-data.html"><i class="fa fa-check"></i><b>15</b> Data Forensics and Cleaning: Unstructured Data</a>
<ul>
<li class="chapter" data-level="15.1" data-path="data-forensics-and-cleaning-unstructured-data.html"><a href="data-forensics-and-cleaning-unstructured-data.html#learning-objectives-13"><i class="fa fa-check"></i><b>15.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="15.2" data-path="data-forensics-and-cleaning-unstructured-data.html"><a href="data-forensics-and-cleaning-unstructured-data.html#using-a-file-manifest"><i class="fa fa-check"></i><b>15.2</b> Using a File Manifest</a></li>
<li class="chapter" data-level="15.3" data-path="data-forensics-and-cleaning-unstructured-data.html"><a href="data-forensics-and-cleaning-unstructured-data.html#loading-a-corpus"><i class="fa fa-check"></i><b>15.3</b> Loading a Corpus</a></li>
<li class="chapter" data-level="15.4" data-path="data-forensics-and-cleaning-unstructured-data.html"><a href="data-forensics-and-cleaning-unstructured-data.html#preprocessing"><i class="fa fa-check"></i><b>15.4</b> Preprocessing</a>
<ul>
<li class="chapter" data-level="15.4.1" data-path="data-forensics-and-cleaning-unstructured-data.html"><a href="data-forensics-and-cleaning-unstructured-data.html#tokenizing-and-bags-of-words"><i class="fa fa-check"></i><b>15.4.1</b> Tokenizing and Bags of Words</a></li>
<li class="chapter" data-level="15.4.2" data-path="data-forensics-and-cleaning-unstructured-data.html"><a href="data-forensics-and-cleaning-unstructured-data.html#text-normalization"><i class="fa fa-check"></i><b>15.4.2</b> Text Normalization</a></li>
<li class="chapter" data-level="15.4.3" data-path="data-forensics-and-cleaning-unstructured-data.html"><a href="data-forensics-and-cleaning-unstructured-data.html#stop-words"><i class="fa fa-check"></i><b>15.4.3</b> Stop Words</a></li>
<li class="chapter" data-level="15.4.4" data-path="data-forensics-and-cleaning-unstructured-data.html"><a href="data-forensics-and-cleaning-unstructured-data.html#tokenizers"><i class="fa fa-check"></i><b>15.4.4</b> Tokenizers</a></li>
<li class="chapter" data-level="15.4.5" data-path="data-forensics-and-cleaning-unstructured-data.html"><a href="data-forensics-and-cleaning-unstructured-data.html#document-chunking-and-n-grams"><i class="fa fa-check"></i><b>15.4.5</b> Document Chunking and N-grams</a></li>
</ul></li>
<li class="chapter" data-level="15.5" data-path="data-forensics-and-cleaning-unstructured-data.html"><a href="data-forensics-and-cleaning-unstructured-data.html#counting-terms"><i class="fa fa-check"></i><b>15.5</b> Counting Terms</a>
<ul>
<li class="chapter" data-level="15.5.1" data-path="data-forensics-and-cleaning-unstructured-data.html"><a href="data-forensics-and-cleaning-unstructured-data.html#term-frequency"><i class="fa fa-check"></i><b>15.5.1</b> Term Frequency</a></li>
<li class="chapter" data-level="15.5.2" data-path="data-forensics-and-cleaning-unstructured-data.html"><a href="data-forensics-and-cleaning-unstructured-data.html#plotting-term-frequency"><i class="fa fa-check"></i><b>15.5.2</b> Plotting Term Frequency</a></li>
<li class="chapter" data-level="15.5.3" data-path="data-forensics-and-cleaning-unstructured-data.html"><a href="data-forensics-and-cleaning-unstructured-data.html#comparing-term-frequencies-across-documents"><i class="fa fa-check"></i><b>15.5.3</b> Comparing Term Frequencies Across Documents</a></li>
</ul></li>
<li class="chapter" data-level="15.6" data-path="data-forensics-and-cleaning-unstructured-data.html"><a href="data-forensics-and-cleaning-unstructured-data.html#text-mining-pipepline"><i class="fa fa-check"></i><b>15.6</b> Text Mining Pipepline</a></li>
<li class="chapter" data-level="15.7" data-path="data-forensics-and-cleaning-unstructured-data.html"><a href="data-forensics-and-cleaning-unstructured-data.html#document-term-matrix"><i class="fa fa-check"></i><b>15.7</b> Document Term Matrix</a></li>
<li class="chapter" data-level="15.8" data-path="data-forensics-and-cleaning-unstructured-data.html"><a href="data-forensics-and-cleaning-unstructured-data.html#corpus-analytics"><i class="fa fa-check"></i><b>15.8</b> Corpus Analytics</a>
<ul>
<li class="chapter" data-level="15.8.1" data-path="data-forensics-and-cleaning-unstructured-data.html"><a href="data-forensics-and-cleaning-unstructured-data.html#corpus-term-counts"><i class="fa fa-check"></i><b>15.8.1</b> Corpus Term Counts</a></li>
<li class="chapter" data-level="15.8.2" data-path="data-forensics-and-cleaning-unstructured-data.html"><a href="data-forensics-and-cleaning-unstructured-data.html#tfidf-scores"><i class="fa fa-check"></i><b>15.8.2</b> tf–idf Scores</a></li>
<li class="chapter" data-level="15.8.3" data-path="data-forensics-and-cleaning-unstructured-data.html"><a href="data-forensics-and-cleaning-unstructured-data.html#unique-terms-in-a-document"><i class="fa fa-check"></i><b>15.8.3</b> Unique Terms in a Document</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="16" data-path="data-forensics-and-cleaning-geospatial-data.html"><a href="data-forensics-and-cleaning-geospatial-data.html"><i class="fa fa-check"></i><b>16</b> Data Forensics and Cleaning: Geospatial Data</a>
<ul>
<li class="chapter" data-level="16.1" data-path="data-forensics-and-cleaning-geospatial-data.html"><a href="data-forensics-and-cleaning-geospatial-data.html#learning-objectives-14"><i class="fa fa-check"></i><b>16.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="16.2" data-path="data-forensics-and-cleaning-geospatial-data.html"><a href="data-forensics-and-cleaning-geospatial-data.html#what-is-geospatial-data"><i class="fa fa-check"></i><b>16.2</b> What is Geospatial Data?</a>
<ul>
<li class="chapter" data-level="16.2.1" data-path="data-forensics-and-cleaning-geospatial-data.html"><a href="data-forensics-and-cleaning-geospatial-data.html#attributes-1"><i class="fa fa-check"></i><b>16.2.1</b> Attributes</a></li>
<li class="chapter" data-level="16.2.2" data-path="data-forensics-and-cleaning-geospatial-data.html"><a href="data-forensics-and-cleaning-geospatial-data.html#coordinate-reference-system"><i class="fa fa-check"></i><b>16.2.2</b> Coordinate Reference System</a></li>
<li class="chapter" data-level="16.2.3" data-path="data-forensics-and-cleaning-geospatial-data.html"><a href="data-forensics-and-cleaning-geospatial-data.html#coordinates"><i class="fa fa-check"></i><b>16.2.3</b> Coordinates</a></li>
</ul></li>
<li class="chapter" data-level="16.3" data-path="data-forensics-and-cleaning-geospatial-data.html"><a href="data-forensics-and-cleaning-geospatial-data.html#geospatial-data-models"><i class="fa fa-check"></i><b>16.3</b> Geospatial Data Models</a>
<ul>
<li class="chapter" data-level="16.3.1" data-path="data-forensics-and-cleaning-geospatial-data.html"><a href="data-forensics-and-cleaning-geospatial-data.html#vector-data"><i class="fa fa-check"></i><b>16.3.1</b> Vector Data</a></li>
<li class="chapter" data-level="16.3.2" data-path="data-forensics-and-cleaning-geospatial-data.html"><a href="data-forensics-and-cleaning-geospatial-data.html#raster-data"><i class="fa fa-check"></i><b>16.3.2</b> Raster Data</a></li>
</ul></li>
<li class="chapter" data-level="16.4" data-path="data-forensics-and-cleaning-geospatial-data.html"><a href="data-forensics-and-cleaning-geospatial-data.html#data-structures-applied-to-geospatial-data"><i class="fa fa-check"></i><b>16.4</b> Data Structures Applied to Geospatial Data</a></li>
<li class="chapter" data-level="16.5" data-path="data-forensics-and-cleaning-geospatial-data.html"><a href="data-forensics-and-cleaning-geospatial-data.html#cleaning-geospatial-data"><i class="fa fa-check"></i><b>16.5</b> Cleaning Geospatial Data</a>
<ul>
<li class="chapter" data-level="16.5.1" data-path="data-forensics-and-cleaning-geospatial-data.html"><a href="data-forensics-and-cleaning-geospatial-data.html#example-data"><i class="fa fa-check"></i><b>16.5.1</b> Example Data</a></li>
<li class="chapter" data-level="16.5.2" data-path="data-forensics-and-cleaning-geospatial-data.html"><a href="data-forensics-and-cleaning-geospatial-data.html#making-location-data-usable"><i class="fa fa-check"></i><b>16.5.2</b> Making Location Data Usable</a></li>
<li class="chapter" data-level="16.5.3" data-path="data-forensics-and-cleaning-geospatial-data.html"><a href="data-forensics-and-cleaning-geospatial-data.html#cleaning-location-data"><i class="fa fa-check"></i><b>16.5.3</b> Cleaning Location Data</a></li>
<li class="chapter" data-level="16.5.4" data-path="data-forensics-and-cleaning-geospatial-data.html"><a href="data-forensics-and-cleaning-geospatial-data.html#cleaning-attribute-data"><i class="fa fa-check"></i><b>16.5.4</b> Cleaning Attribute Data</a></li>
<li class="chapter" data-level="16.5.5" data-path="data-forensics-and-cleaning-geospatial-data.html"><a href="data-forensics-and-cleaning-geospatial-data.html#checking-coordinate-reference-systems"><i class="fa fa-check"></i><b>16.5.5</b> Checking Coordinate Reference Systems</a></li>
</ul></li>
<li class="chapter" data-level="16.6" data-path="data-forensics-and-cleaning-geospatial-data.html"><a href="data-forensics-and-cleaning-geospatial-data.html#conclusions"><i class="fa fa-check"></i><b>16.6</b> Conclusions</a></li>
<li class="chapter" data-level="16.7" data-path="data-forensics-and-cleaning-geospatial-data.html"><a href="data-forensics-and-cleaning-geospatial-data.html#optional-further-reading"><i class="fa fa-check"></i><b>16.7</b> Optional Further Reading</a></li>
</ul></li>
<li class="divider"></li>
<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">
  <img alt="CC BY-SA 4.0" src="https://img.shields.io/badge/License-CC%20BY--NC--SA%204.0-lightgrey.svg" style="float: right; padding-right: 10px;" />
</a>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Adventures in Data Science</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-forensics" class="section level1 hasAnchor" number="7">
<h1><span class="header-section-number">7</span> Data Forensics<a href="data-forensics.html#data-forensics" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>This lesson covers a variety of ways to investigate and summarize tabular data
in order to understand the data better and identify potential problems. The
lesson also describes how to fix some of the most common data problems.</p>
<div id="learning-objectives-6" class="section level2 hasAnchor" number="7.1">
<h2><span class="header-section-number">7.1</span> Learning Objectives<a href="data-forensics.html#learning-objectives-6" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>After this lesson, you should be able to:</p>
<ul>
<li>Cleaning and Forensics:
<ul>
<li>Explain what it means for a data set to be “tidy”</li>
<li>Convert columns to appropriate data types</li>
<li>Locate and count missing values in a data set</li>
<li>Explain what it means for a value to be an “outlier”</li>
<li>Locate and count outliers in a data set</li>
</ul></li>
<li>Statistical Summaries:
<ul>
<li>Explain the location statistics mean, median, and mode</li>
<li>Explain the scale statistics range and standard deviation</li>
<li>Apply Functions
<ul>
<li>Use apply functions to compute summaries of multiple columns</li>
<li>Use the split-apply pattern to compute grouped summaries</li>
</ul></li>
</ul></li>
</ul>
</div>
<div id="structural-summaries-cleaning" class="section level2 hasAnchor" number="7.2">
<h2><span class="header-section-number">7.2</span> Structural Summaries &amp; Cleaning<a href="data-forensics.html#structural-summaries-cleaning" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Whenever you load a data set into R, your next step should be to investigate
the data’s structure. This step is important because it can help you identify
whether:</p>
<ul>
<li>The data was loaded correctly</li>
<li>There are structural problems with the data that will make it difficult to
use if they aren’t fixed</li>
</ul>
<p>Section <a href="introduction-to-r.html#inspecting-data">3.8.2</a> and Section <a href="files-packages-and-data.html#inspecting-the-data">5.2.3.2.1</a>
demonstrated several functions for getting structural summaries of data. Some
of these are:</p>
<ul>
<li><code>str</code> to get a detailed structural summary</li>
<li><code>head</code>, <code>tail</code> to preview the data</li>
<li><code>nrow</code>, <code>ncol</code>, <code>dim</code>, <code>length</code> to get dimension information</li>
<li><code>names</code>, <code>colnames</code>, <code>rownames</code> to get element names</li>
<li><code>class</code>, <code>typeof</code> to get classes and types</li>
</ul>
<p>Let’s look at some examples using a data set collected from the classified
advertisements website Craigslist. The data set contains information from ads
for rentals in the Sacramento area. First we need to load the data set:</p>
<div class="sourceCode" id="cb350"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb350-1"><a href="data-forensics.html#cb350-1" tabindex="-1"></a>cl <span class="ot">=</span> <span class="fu">read.csv</span>(<span class="st">&quot;data/cl_rentals.csv&quot;</span>)</span></code></pre></div>
<p>Now we can use the <code>str</code> function to check the classes of the columns:</p>
<div class="sourceCode" id="cb351"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb351-1"><a href="data-forensics.html#cb351-1" tabindex="-1"></a><span class="fu">str</span>(cl)</span></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    2987 obs. of  20 variables:
##  $ title       : chr  &quot;$1,125 / 1br - 550ft2 - 1Bedroom Prime Location -2520 S Limited Access/Gated $1125 Avail Now (2520 S St)&quot; &quot;$1,449 / 1br - 680ft2 - 1x1 with washer &amp; dryer in unit! Move in ready! (The Phoenix/Sacramento/Folsom/SF)&quot; &quot;$1,449 / 1br - 680ft2 - 1x1 with washer &amp; dryer in unit! Move in ready! (The Phoenix/Sacramento/Folsom/SF)&quot; &quot;$1,479 / 1br - 680ft2 - 1x1 with washer &amp; dryer in unit! Move in ready! (The Phoenix/Sacramento/Folsom/SF)&quot; ...
##  $ text        : chr  &quot;QR Code Link to This Post\n            \n        \n* SEE MY OTHER MIDTOWN 1 bedroom apts-text for web site\n*An&quot;| __truncated__ &quot;QR Code Link to This Post\n            \n        \n Lease our 1x1 Apartment with Che starting at $1449+    Pric&quot;| __truncated__ &quot;QR Code Link to This Post\n            \n        \n Lease our 1x1 Apartment with Che starting at $1449+    Pric&quot;| __truncated__ &quot;QR Code Link to This Post\n            \n        \n Lease our 1x1 Apartment with Che starting at $1479+    Pric&quot;| __truncated__ ...
##  $ latitude    : num  38.6 38.6 38.6 38.6 38.6 ...
##  $ longitude   : num  -121 -121 -121 -121 -121 ...
##  $ city        : chr  &quot;2520 S St&quot; &quot;The Phoenix/Sacramento/Folsom/SF&quot; &quot;The Phoenix/Sacramento/Folsom/SF&quot; &quot;The Phoenix/Sacramento/Folsom/SF&quot; ...
##  $ date_posted : chr  &quot;2021-02-04 15:03:12&quot; &quot;2021-03-02 12:41:17&quot; &quot;2021-03-02 13:26:17&quot; &quot;2021-03-03 10:02:05&quot; ...
##  $ date_updated: chr  &quot;2021-03-03 08:41:39&quot; NA NA NA ...
##  $ price       : int  1125 1449 1449 1479 1414 1441 1615 1660 1877 1611 ...
##  $ deleted     : logi  FALSE FALSE FALSE FALSE FALSE FALSE ...
##  $ sqft        : int  550 680 680 680 680 680 816 816 916 916 ...
##  $ bedrooms    : int  1 1 1 1 1 1 2 2 2 2 ...
##  $ bathrooms   : num  1 1 1 1 1 1 1 1 2 2 ...
##  $ pets        : chr  NA &quot;both&quot; &quot;both&quot; &quot;both&quot; ...
##  $ laundry     : chr  &quot;shared&quot; &quot;in-unit&quot; &quot;in-unit&quot; &quot;in-unit&quot; ...
##  $ parking     : chr  &quot;off-street&quot; &quot;covered&quot; &quot;covered&quot; &quot;covered&quot; ...
##  $ craigslist  : chr  &quot;sacramento&quot; &quot;sacramento&quot; &quot;sacramento&quot; &quot;sacramento&quot; ...
##  $ shp_place   : chr  &quot;Sacramento&quot; &quot;Sacramento&quot; &quot;Sacramento&quot; &quot;Sacramento&quot; ...
##  $ shp_city    : chr  &quot;Sacramento&quot; &quot;Sacramento&quot; &quot;Sacramento&quot; &quot;Sacramento&quot; ...
##  $ shp_state   : chr  &quot;CA&quot; &quot;CA&quot; &quot;CA&quot; &quot;CA&quot; ...
##  $ shp_county  : chr  &quot;Sacramento&quot; &quot;Sacramento&quot; &quot;Sacramento&quot; &quot;Sacramento&quot; ...</code></pre>
<p>Often when you load a new data set, some of the columns won’t have the correct
data type (or class) for what you want to do. For instance, in the Craigslist
data, the <code>pets</code>, <code>laundry</code>, and <code>parking</code> columns all contain categorical
data, so they should be factors.</p>
<p>You can convert these columns to factors with the <code>factor</code> function from
Section <a href="files-packages-and-data.html#factors">5.4.1</a>:</p>
<div class="sourceCode" id="cb353"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb353-1"><a href="data-forensics.html#cb353-1" tabindex="-1"></a>cl<span class="sc">$</span>pets <span class="ot">=</span> <span class="fu">factor</span>(cl<span class="sc">$</span>pets)</span>
<span id="cb353-2"><a href="data-forensics.html#cb353-2" tabindex="-1"></a>cl<span class="sc">$</span>laundry <span class="ot">=</span> <span class="fu">factor</span>(cl<span class="sc">$</span>laundry)</span>
<span id="cb353-3"><a href="data-forensics.html#cb353-3" tabindex="-1"></a>cl<span class="sc">$</span>parking <span class="ot">=</span> <span class="fu">factor</span>(cl<span class="sc">$</span>parking)</span></code></pre></div>
<p>There’s another way we could’ve done this that uses only two lines of code, no
matter how many columns there are:</p>
<div class="sourceCode" id="cb354"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb354-1"><a href="data-forensics.html#cb354-1" tabindex="-1"></a>cols <span class="ot">=</span> <span class="fu">c</span>(<span class="st">&quot;pets&quot;</span>, <span class="st">&quot;laundry&quot;</span>, <span class="st">&quot;parking&quot;</span>)</span>
<span id="cb354-2"><a href="data-forensics.html#cb354-2" tabindex="-1"></a>cl[cols] <span class="ot">=</span> <span class="fu">lapply</span>(cl[cols], factor)</span></code></pre></div>
<p>We’ll learn more about the <code>lapply</code> function in Section <a href="data-forensics.html#apply-functions">7.4</a>.</p>
<p>You can use whichever approach is more convenient and makes more sense to you.
If there were other columns to convert, we’d go through the same steps with the
appropriate conversion function.</p>
<p>R provides <code>as.</code> functions to convert to the most common data types. For
instance, <code>as.character</code> converts an object to a string:</p>
<div class="sourceCode" id="cb355"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb355-1"><a href="data-forensics.html#cb355-1" tabindex="-1"></a>x <span class="ot">=</span> <span class="fl">3.1</span></span>
<span id="cb355-2"><a href="data-forensics.html#cb355-2" tabindex="-1"></a><span class="fu">class</span>(x)</span></code></pre></div>
<pre><code>## [1] &quot;numeric&quot;</code></pre>
<div class="sourceCode" id="cb357"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb357-1"><a href="data-forensics.html#cb357-1" tabindex="-1"></a>y <span class="ot">=</span> <span class="fu">as.character</span>(x)</span>
<span id="cb357-2"><a href="data-forensics.html#cb357-2" tabindex="-1"></a>y</span></code></pre></div>
<pre><code>## [1] &quot;3.1&quot;</code></pre>
<div class="sourceCode" id="cb359"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb359-1"><a href="data-forensics.html#cb359-1" tabindex="-1"></a><span class="fu">class</span>(y)</span></code></pre></div>
<pre><code>## [1] &quot;character&quot;</code></pre>
<p>The <code>read.csv</code> function does a good job at identifying columns of numbers, so
it’s rarely necessary to convert columns of numbers manually. However, you may
have to do this for data you got some other way (rather than loading a file).
For instance, it’s common to make these conversions when scraping data from the
web.</p>
<p>It’s also a good idea to convert categorical columns into factors with the
<code>factor</code> function, and to convert columns of dates into dates (more about this
in the next section).</p>
<div id="dates" class="section level3 hasAnchor" number="7.2.1">
<h3><span class="header-section-number">7.2.1</span> Dates<a href="data-forensics.html#dates" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>There several built-in functions and also many packages for date processing.
In particular, there are three Tidyverse packages for processing dates and
times:</p>
<ul>
<li><a href="https://lubridate.tidyverse.org/">lubridate</a>, the primary package for working with dates and times</li>
<li><a href="https://hms.tidyverse.org/">hms</a>, a package specifically for working with times</li>
<li><a href="https://clock.r-lib.org/">clock</a>, a new package for working with dates and times</li>
</ul>
<p>We’ll focus on the lubridate package. As always, you’ll have to install the
package if you haven’t already, and then load it:</p>
<div class="sourceCode" id="cb361"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb361-1"><a href="data-forensics.html#cb361-1" tabindex="-1"></a><span class="co"># install.packages(&quot;lubridate&quot;)</span></span>
<span id="cb361-2"><a href="data-forensics.html#cb361-2" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span></code></pre></div>
<pre><code>## 
## Attaching package: &#39;lubridate&#39;</code></pre>
<pre><code>## The following objects are masked from &#39;package:base&#39;:
## 
##     date, intersect, setdiff, union</code></pre>
<p>The most common task is to convert a string into a date or time class. For
instance, when you load a data set, you might have dates that look like this:</p>
<div class="sourceCode" id="cb364"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb364-1"><a href="data-forensics.html#cb364-1" tabindex="-1"></a>dates <span class="ot">=</span> <span class="fu">c</span>(<span class="st">&quot;Jan 10, 2021&quot;</span>, <span class="st">&quot;Sep 3, 2018&quot;</span>, <span class="st">&quot;Feb 28, 1982&quot;</span>)</span>
<span id="cb364-2"><a href="data-forensics.html#cb364-2" tabindex="-1"></a>dates</span></code></pre></div>
<pre><code>## [1] &quot;Jan 10, 2021&quot; &quot;Sep 3, 2018&quot;  &quot;Feb 28, 1982&quot;</code></pre>
<p>These are strings, so it’s relatively difficult to sort the dates, do
arithmetic on them, or extract just one part (such as the year). There are
several lubridate functions to automatically convert strings into dates. They
are named with one letter for each part of the date. For instance, the dates in
the example have the month (m), then the day (d), and then the year (y), so we
can use the <code>mdy</code> function:</p>
<div class="sourceCode" id="cb366"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb366-1"><a href="data-forensics.html#cb366-1" tabindex="-1"></a>result <span class="ot">=</span> <span class="fu">mdy</span>(dates)</span>
<span id="cb366-2"><a href="data-forensics.html#cb366-2" tabindex="-1"></a>result</span></code></pre></div>
<pre><code>## [1] &quot;2021-01-10&quot; &quot;2018-09-03&quot; &quot;1982-02-28&quot;</code></pre>
<div class="sourceCode" id="cb368"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb368-1"><a href="data-forensics.html#cb368-1" tabindex="-1"></a><span class="fu">class</span>(result)</span></code></pre></div>
<pre><code>## [1] &quot;Date&quot;</code></pre>
<p>Notice that the dates now have class <code>Date</code>, one of R’s built-in classes for
representing dates, and that they print differently. You can find a full list
of the automatic string to date conversion functions in the lubridate
documentation.</p>
<p>Occasionally, a date string may have a format that lubridate can’t convert
automatically. In that case, you can use the <code>fast_strptime</code> function to
describe the format in detail. At a minimum, the function requires two
arguments: the vector of strings to convert and a format string.</p>
<p>The format string describes the format of the dates, and is based on the syntax
of <code>strptime</code>, a function provided by many programming languages for converting
strings to dates (including R). In a format string, a percent sign <code>%</code> followed
by a character is called a <em>specification</em> and has a special meaning. Here are
a few of the most useful ones:</p>
<table>
<thead>
<tr class="header">
<th align="left">Specification</th>
<th align="left">Description</th>
<th align="left">January 29, 2015</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><code>%Y</code></td>
<td align="left">4-digit year</td>
<td align="left">2015</td>
</tr>
<tr class="even">
<td align="left"><code>%y</code></td>
<td align="left">2-digit year</td>
<td align="left">15</td>
</tr>
<tr class="odd">
<td align="left"><code>%m</code></td>
<td align="left">2-digit month</td>
<td align="left">01</td>
</tr>
<tr class="even">
<td align="left"><code>%B</code></td>
<td align="left">full month name</td>
<td align="left">January</td>
</tr>
<tr class="odd">
<td align="left"><code>%b</code></td>
<td align="left">short month name</td>
<td align="left">Jan</td>
</tr>
<tr class="even">
<td align="left"><code>%d</code></td>
<td align="left">day of month</td>
<td align="left">29</td>
</tr>
<tr class="odd">
<td align="left"><code>%%</code></td>
<td align="left">literal %</td>
<td align="left">%</td>
</tr>
</tbody>
</table>
<p>You can find a complete list in <code>?fast_strptime</code>. Other characters in the
format string do not have any special meaning. Write the format string so that
it matches the format of the dates you want to convert.</p>
<p>For example, let’s try converting an unusual time format:</p>
<div class="sourceCode" id="cb370"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb370-1"><a href="data-forensics.html#cb370-1" tabindex="-1"></a>odd_time <span class="ot">=</span> <span class="st">&quot;6 minutes, 32 seconds after 10 o&#39;clock&quot;</span></span>
<span id="cb370-2"><a href="data-forensics.html#cb370-2" tabindex="-1"></a><span class="fu">fast_strptime</span>(odd_time, <span class="st">&quot;%M minutes, %S seconds after %H o&#39;clock&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;0000-01-01 10:06:32 UTC&quot;</code></pre>
<p>R usually represents dates with the class <code>Date</code>, and date-times with the
classes <code>POSIXct</code> and <code>POSIXlt</code>. The difference between the two date-time
classes is somewhat technical, but you can read more about it in <code>?POSIXlt</code>.</p>
<p>There is no built-in class to represent times alone, which is why the result in
the example above includes a date. Nonetheless, the hms package provides the
<code>hms</code> class to represent times without dates.</p>
<p>Once you’ve converted a string to a date, the lubridate package provides a
variety of functions to get or set the parts individually. Here are a few
examples:</p>
<div class="sourceCode" id="cb372"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb372-1"><a href="data-forensics.html#cb372-1" tabindex="-1"></a><span class="fu">day</span>(result)</span></code></pre></div>
<pre><code>## [1] 10  3 28</code></pre>
<div class="sourceCode" id="cb374"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb374-1"><a href="data-forensics.html#cb374-1" tabindex="-1"></a><span class="fu">month</span>(result)</span></code></pre></div>
<pre><code>## [1] 1 9 2</code></pre>
<p>You can find a complete list in the lubridate documentation.</p>
<p>Now let’s convert the <code>date_updated</code> column in the Craigslist data. It’s always
a good idea to test your format string before saving the results back into the
data frame:</p>
<div class="sourceCode" id="cb376"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb376-1"><a href="data-forensics.html#cb376-1" tabindex="-1"></a>dates <span class="ot">=</span> <span class="fu">ymd_hms</span>(cl<span class="sc">$</span>date_updated)</span>
<span id="cb376-2"><a href="data-forensics.html#cb376-2" tabindex="-1"></a><span class="fu">head</span>(dates)</span></code></pre></div>
<pre><code>## [1] &quot;2021-03-03 08:41:39 UTC&quot; NA                       
## [3] NA                        NA                       
## [5] NA                        NA</code></pre>
<p>The <code>as.Date</code> function returns <code>NA</code> if conversion failed, so in this case it
looks like the dates were converted correctly. Now we can save the dates back
into the data frame.</p>
<div class="sourceCode" id="cb378"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb378-1"><a href="data-forensics.html#cb378-1" tabindex="-1"></a>cl<span class="sc">$</span>date_updated <span class="ot">=</span> dates</span></code></pre></div>
</div>
<div id="tidy-data" class="section level3 hasAnchor" number="7.2.2">
<h3><span class="header-section-number">7.2.2</span> Tidy Data<a href="data-forensics.html#tidy-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Many functions require data frames that are in <strong>tidy</strong> form. Before we see the
requirements for a data set to be tidy, we need to define or review some
terminology from statistics.</p>
<p>A <strong>feature</strong> (also called a <strong>covariate</strong>) is measurement of something,
usually across multiple subjects. For example, we might decide to measure the
heights of everyone in the class. Each person in the class is a subject, and
the height measurement is a feature. Features don’t have to be quantitative. If
we also asked each person their favorite color, then favorite
color would be another feature in our data set. Features are usually, but not
always, the columns in a tabular data set.</p>
<p>An <strong>observation</strong> is a set of features measured for a single subject or at a
single time. So in the preceding example, the combined height and favorite
color measurement for one student is one observation. Observations are usually,
but not always, the rows in a tabular data set.</p>
<p>Now we can define what it means to be tidy. A tabular data set is tidy if and
only if:</p>
<ol style="list-style-type: decimal">
<li>Each observation has its own row.</li>
<li>Each feature has its own column.</li>
<li>Each value has its own cell.</li>
</ol>
<p>These rules ensure that all of the values are visually organized and are easy
to access with R’s built-in indexing operations. For instance, the <code>$</code> operator
gets a column, and in a tidy data set, columns are features. The rules also
reflect the way statisticians traditionally arrange tabular data sets.</p>
<p>When you first look at a data set, think about what the observations are and
what the features are. If the data set comes with documentation, it may help
you figure this out. Since this data set is a tidy data set, we already know
each row is an observation and each column is a feature.</p>
<p>Chapter <a href="reshaping-tabular-data.html#reshaping-tabular-data">13</a> gives examples of tidy and untidy data,
as well as explanations of how to make untidy data tidy.</p>
</div>
</div>
<div id="statistical-forensics" class="section level2 hasAnchor" number="7.3">
<h2><span class="header-section-number">7.3</span> Statistical Forensics<a href="data-forensics.html#statistical-forensics" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>After investigating the data’s structure, it’s a good idea to check some basic
statistical properties. This step is important because it can help you identify
limitations of and patterns in the data.</p>
<p>Which statistics are appropriate for a given feature often depends on the type
of the feature. Recall from Section <a href="introduction-to-r.html#data-types-classes">3.9</a> that the types
statisticians typically think about are:</p>
<ul>
<li><strong>Categorical</strong>
<ul>
<li><strong>Nominal</strong> - data separated into specific categories, with no order. For
example, hair color (red, brown, blonde, …) is categorical.</li>
<li><strong>Ordinal</strong> - data separated into specific categories, with an order. For
example, school level (elementary, middle, high, college) is ordinal.</li>
</ul></li>
<li><strong>Numerical</strong>
<ul>
<li><strong>Discrete</strong> - integers, or a finite set of decimal numbers with no
values in between. Sometimes discrete values can also be treated as
ordinal. For example, month as a number (1, 2, …, 12) is discrete.</li>
<li><strong>Continuous</strong> - decimal numbers. There are no specific categories, but
there is an order. For example, height in inches is numerical.</li>
</ul></li>
</ul>
<p>The <code>table</code> function, which was introduced in Section <a href="introduction-to-r.html#inspecting-data">3.8.2</a>,
is great for summarizing categorical (and sometimes discrete) data. For
example:</p>
<div class="sourceCode" id="cb379"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb379-1"><a href="data-forensics.html#cb379-1" tabindex="-1"></a><span class="fu">table</span>(cl<span class="sc">$</span>pets)</span></code></pre></div>
<pre><code>## 
## both cats dogs none 
## 2511   46   31  385</code></pre>
<p>What about numerical data?</p>
<p>Two important questions to ask about data are:</p>
<ol style="list-style-type: decimal">
<li><p>Where is it? This is the <em>location</em> of the data.</p></li>
<li><p>How spread out is it? This is the <em>scale</em> of the data.</p></li>
</ol>
<p>Let’s use the data</p>
<div class="sourceCode" id="cb381"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb381-1"><a href="data-forensics.html#cb381-1" tabindex="-1"></a>x <span class="ot">=</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">2</span>, <span class="sc">-</span><span class="dv">1</span>, <span class="sc">-</span><span class="dv">1</span>, <span class="sc">-</span><span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">6</span>)</span></code></pre></div>
<p>as an example.</p>
<p>Location is generally summarized with a number near the middle or center of
the data. A few options are:</p>
<ol style="list-style-type: decimal">
<li><p><strong>Mode</strong> - the value that appears most frequently. The mode can be
calculated for any kind of data, but doesn’t work well for continuous data.</p>
<p>For our example, the mode of <code>x</code> is -1. You can compute the mode with
<code>table</code>:</p>
<div class="sourceCode" id="cb382"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb382-1"><a href="data-forensics.html#cb382-1" tabindex="-1"></a><span class="fu">table</span>(x)</span></code></pre></div></li>
<li><p><strong>Median</strong> - sort the data, then find the value in the middle. The median
can be calculated for ordinal or numerical data.</p>
<p>For our example, the median is -1. Compute this with <code>median</code>:</p>
<div class="sourceCode" id="cb383"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb383-1"><a href="data-forensics.html#cb383-1" tabindex="-1"></a><span class="fu">median</span>(x)</span></code></pre></div></li>
<li><p><strong>Mean</strong> - the balancing point of the data, if a waiter was trying to
balance the data on a tray. The mean can only be calculated for numerical
data.</p>
<p>For our example the mean is 0.4285. Compute this with <code>mean</code>:</p>
<div class="sourceCode" id="cb384"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb384-1"><a href="data-forensics.html#cb384-1" tabindex="-1"></a><span class="fu">mean</span>(x)</span></code></pre></div></li>
</ol>
<p>Adding large values to the data affects the mean more than the median:</p>
<div class="sourceCode" id="cb385"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb385-1"><a href="data-forensics.html#cb385-1" tabindex="-1"></a>y <span class="ot">=</span> <span class="fu">c</span>(x, <span class="dv">100</span>)</span>
<span id="cb385-2"><a href="data-forensics.html#cb385-2" tabindex="-1"></a><span class="fu">mean</span>(y)</span>
<span id="cb385-3"><a href="data-forensics.html#cb385-3" tabindex="-1"></a><span class="fu">median</span>(y)</span></code></pre></div>
<p>Because of this, we say that the median is <strong>robust</strong>.</p>
<p>The mean is good for getting a general idea of where the center of the data
is, while comparing it with the median reveals whether there are any
unusually large or small values.</p>
<p>Scale is generally summarized by a number that says how far the data is from
the center (mean, median, etc…). Two options are:</p>
<ol style="list-style-type: decimal">
<li><p><strong>Standard Deviation</strong> - square root of the average squared distance to the
mean (the distance from a point to a mean is called a <strong>deviation</strong>). You
can think of this as approximately the average distance from a data point
to the mean. As a rule of thumb, most of the data will be within 3 standard
deviations of the mean.</p>
<p>You can compute the standard deviation with <code>sd</code>:</p>
<div class="sourceCode" id="cb386"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb386-1"><a href="data-forensics.html#cb386-1" tabindex="-1"></a><span class="fu">sd</span>(x)</span></code></pre></div></li>
<li><p><strong>Interquartile Range</strong> (IQR) - difference between the 75th and 25th
percentile. The median is the 50th <strong>percentile</strong> of the data; it’s at the
middle of the sorted data. We can also consider other percentiles. For
instance, the 25th percentile is the value one-quarter of the way through
the sorted data.</p>
<p><strong>Quantile</strong> is another word for percentile. <strong>Quartile</strong> specifically
refers to the 25th, 50th, and 75th percentiles because they separate the
data into four parts (hence “quart-”).</p>
<p>You can compute quantiles with <code>quantile</code>, or compute the IQR directly with
<code>IQR</code>:</p>
<div class="sourceCode" id="cb387"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb387-1"><a href="data-forensics.html#cb387-1" tabindex="-1"></a><span class="fu">quantile</span>(x)</span>
<span id="cb387-2"><a href="data-forensics.html#cb387-2" tabindex="-1"></a></span>
<span id="cb387-3"><a href="data-forensics.html#cb387-3" tabindex="-1"></a><span class="co"># IQR</span></span>
<span id="cb387-4"><a href="data-forensics.html#cb387-4" tabindex="-1"></a><span class="fu">IQR</span>(x)</span></code></pre></div></li>
</ol>
<p>The IQR is more robust than the standard deviation.</p>
<p>Many of the functions for computing statistical summaries have a parameter
<code>na.rm</code> to ignore missing values. Setting <code>na.rm = TRUE</code> is often useful when
you’re just trying to do an initial investigation of the data. However, in a
more complete analysis, you should think carefully about what the missing
values mean, whether they follow any patterns, and whether there are enough
non-missing values for statistical summaries to be good representatives of the
data.</p>
<p>Finally, the <code>summary</code> function computes a detailed statistical summary of an R
object. For data frames, the function computes a summary of each column,
guessing an appropriate statistic based on the column’s data type.</p>
<div id="missing-values-1" class="section level3 hasAnchor" number="7.3.1">
<h3><span class="header-section-number">7.3.1</span> Missing Values<a href="data-forensics.html#missing-values-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>If your data contains missing values, it’s important to think about why the
values are missing. Statisticians use two different terms to describe why data
is missing:</p>
<ul>
<li>missing at random (MAR)</li>
<li>missing not at random (MNAR) - causes bias!</li>
</ul>
<p>When values are <strong>missing at random</strong>, the cause for missingness is not related
to any of the other features. This is rare in practice. For example, if people
in a food survey accidentally overlook some questions.</p>
<p>When values are <strong>missing not at random</strong>, the cause for missingness depends on
other features. These features may or may not be in the data set. Think of this
as a form of censorship. For example, if people in a food survey refuse to
report how much sugar they ate on days where they ate junk food, data is
missing not at random. Values MNAR can bias an analysis.</p>
<p>The default way to handle missing values in R is to ignore them. This is just a
default, not necessarily the best or even an appropriate way to deal with them.
You can remove missing values from a data set by indexing:</p>
<div class="sourceCode" id="cb388"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb388-1"><a href="data-forensics.html#cb388-1" tabindex="-1"></a>cl_no_sqft_na <span class="ot">=</span> cl[<span class="sc">!</span><span class="fu">is.na</span>(cl<span class="sc">$</span>sqft), ]</span>
<span id="cb388-2"><a href="data-forensics.html#cb388-2" tabindex="-1"></a></span>
<span id="cb388-3"><a href="data-forensics.html#cb388-3" tabindex="-1"></a><span class="fu">head</span>(cl_no_sqft_na)</span></code></pre></div>
<pre><code>##                                                                                                        title
## 1   $1,125 / 1br - 550ft2 - 1Bedroom Prime Location -2520 S Limited Access/Gated $1125 Avail Now (2520 S St)
## 2 $1,449 / 1br - 680ft2 - 1x1 with washer &amp; dryer in unit! Move in ready! (The Phoenix/Sacramento/Folsom/SF)
## 3 $1,449 / 1br - 680ft2 - 1x1 with washer &amp; dryer in unit! Move in ready! (The Phoenix/Sacramento/Folsom/SF)
## 4 $1,479 / 1br - 680ft2 - 1x1 with washer &amp; dryer in unit! Move in ready! (The Phoenix/Sacramento/Folsom/SF)
## 5 $1,414 / 1br - 680ft2 - 1x1 with washer &amp; dryer in unit! Move in ready! (The Phoenix/Sacramento/Folsom/SF)
## 6 $1,441 / 1br - 680ft2 - 1x1 with washer &amp; dryer in unit! Move in ready! (The Phoenix/Sacramento/Folsom/SF)
##                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  text
## 1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     QR Code Link to This Post\n            \n        \n* SEE MY OTHER MIDTOWN 1 bedroom apts-text for web site\n*An upstairs apt @ 2520 S is coming available 3/18/21\n*I have 4 apts coming avail in midtown\n*New flooring in lower apt and redone hardwood flooring in upper unit\n*1 Bedroom  lower unit in 20 unit complex (2-10 unit buildings-courtyard in middle) with manager on site\n*Gated front and back\n*9 parking spots in back\n*Laundry on site with new washers and dryers (coin op)\n*Owner pays water/sewer/garbage\n*Wall heat and window air\n*New paint and new Pergo-type wood flooring \n*Updated lighting\n*Nicely maintained building and grounds\n*$500 deposit\n*Non-Smoking/vaping Complex\n*Long time Mgr on Site\n*No dogs\n*Pictures of a like unit\n*Text/call showing Wes  show contact info\n to get copy of video\n*You need to make 3X rent, have good rental history and credit score of 600 or greater to qualify-no dogs.
## 2    QR Code Link to This Post\n            \n        \n Lease our 1x1 Apartment with Che starting at $1449+    Prices Subject to change daily!  \n Apartment Features:  \nPrivate Balconies &amp; Patios \nLuxury Vinyl Wood Flooring \nDesigner Interior Paint \nUpgraded cabinets and countertops \nModern white doors and trim \nModern white base boards  \nEnergy efficient appliances \nSpacious bathroom \nTONS of closet and storage space \nSac State Shuttle-including Sac State Shuttle App! PET FRIENDLY - MEOW! WOOF!   \n\nUpgraded Fitness Centers \nTanning Booth \nHydro Massage Table \nResident Business Center \nResort-Style Pool Furniture \nSparkling Waterfall Wall \nFire pit locations \nBeach Area for lounging \nOutdoor Recreation Area \nSand Volleyball Court \nGrilling Locations   Call today to schedule your tour ... show contact info\n -or- \nStop in to visit Mon - Sat 10:00a - 5:00p for more info! :D  \n\n\nCommunity Amenities:  \nComplete fitness center \nFour sparkling pools  \nLighted tennis courts  \nFull basketball court  \nWhirlpool Jacuzzi  \n24 hour Emergency Maintenance  Hornet Shuttle Access to Sacramento State University  \n Easy Access to Public Transportation (lightrail and bus) \n Easy Access to the American River Trail   And so much more!  \n\n Check us out online @ www.thephoenixsacramento.com TODAY!  \n  Connect with us:   \nFacebook = The Phoenix Apartment Living \nTwitter = @thephoenixlife     Prices and availability are subject to change. Offered prices are starting prices for base rent only. Other charges, conditions, fees, and terms may apply. Equal housing opportunity provider
## 3    QR Code Link to This Post\n            \n        \n Lease our 1x1 Apartment with Che starting at $1449+    Prices Subject to change daily!  \n Apartment Features:  \nPrivate Balconies &amp; Patios \nLuxury Vinyl Wood Flooring \nDesigner Interior Paint \nUpgraded cabinets and countertops \nModern white doors and trim \nModern white base boards  \nEnergy efficient appliances \nSpacious bathroom \nTONS of closet and storage space \nSac State Shuttle-including Sac State Shuttle App! PET FRIENDLY - MEOW! WOOF!   \n\nUpgraded Fitness Centers \nTanning Booth \nHydro Massage Table \nResident Business Center \nResort-Style Pool Furniture \nSparkling Waterfall Wall \nFire pit locations \nBeach Area for lounging \nOutdoor Recreation Area \nSand Volleyball Court \nGrilling Locations   Call today to schedule your tour ... show contact info\n -or- \nStop in to visit Mon - Sat 10:00a - 5:00p for more info! :D  \n\n\nCommunity Amenities:  \nComplete fitness center \nFour sparkling pools  \nLighted tennis courts  \nFull basketball court  \nWhirlpool Jacuzzi  \n24 hour Emergency Maintenance  Hornet Shuttle Access to Sacramento State University  \n Easy Access to Public Transportation (lightrail and bus) \n Easy Access to the American River Trail   And so much more!  \n\n Check us out online @ www.thephoenixsacramento.com TODAY!  \n  Connect with us:   \nFacebook = The Phoenix Apartment Living \nTwitter = @thephoenixlife     Prices and availability are subject to change. Offered prices are starting prices for base rent only. Other charges, conditions, fees, and terms may apply. Equal housing opportunity provider
## 4    QR Code Link to This Post\n            \n        \n Lease our 1x1 Apartment with Che starting at $1479+    Prices Subject to change daily!  \n Apartment Features:  \nPrivate Balconies &amp; Patios \nLuxury Vinyl Wood Flooring \nDesigner Interior Paint \nUpgraded cabinets and countertops \nModern white doors and trim \nModern white base boards  \nEnergy efficient appliances \nSpacious bathroom \nTONS of closet and storage space \nSac State Shuttle-including Sac State Shuttle App! PET FRIENDLY - MEOW! WOOF!   \n\nUpgraded Fitness Centers \nTanning Booth \nHydro Massage Table \nResident Business Center \nResort-Style Pool Furniture \nSparkling Waterfall Wall \nFire pit locations \nBeach Area for lounging \nOutdoor Recreation Area \nSand Volleyball Court \nGrilling Locations   Call today to schedule your tour ... show contact info\n -or- \nStop in to visit Mon - Sat 10:00a - 5:00p for more info! :D  \n\n\nCommunity Amenities:  \nComplete fitness center \nFour sparkling pools  \nLighted tennis courts  \nFull basketball court  \nWhirlpool Jacuzzi  \n24 hour Emergency Maintenance  Hornet Shuttle Access to Sacramento State University  \n Easy Access to Public Transportation (lightrail and bus) \n Easy Access to the American River Trail   And so much more!  \n\n Check us out online @ www.thephoenixsacramento.com TODAY!  \n  Connect with us:   \nFacebook = The Phoenix Apartment Living \nTwitter = @thephoenixlife     Prices and availability are subject to change. Offered prices are starting prices for base rent only. Other charges, conditions, fees, and terms may apply. Equal housing opportunity provider
## 5 QR Code Link to This Post\n            \n        \n Lease our 1x1 Apartment with Juliet starting at $1414+    Prices Subject to change daily!  \n Apartment Features:  \nPrivate Balconies &amp; Patios \nLuxury Vinyl Wood Flooring \nDesigner Interior Paint \nUpgraded cabinets and countertops \nModern white doors and trim \nModern white base boards  \nEnergy efficient appliances \nSpacious bathroom \nTONS of closet and storage space \nSac State Shuttle-including Sac State Shuttle App! PET FRIENDLY - MEOW! WOOF!   \n\nUpgraded Fitness Centers \nTanning Booth \nHydro Massage Table \nResident Business Center \nResort-Style Pool Furniture \nSparkling Waterfall Wall \nFire pit locations \nBeach Area for lounging \nOutdoor Recreation Area \nSand Volleyball Court \nGrilling Locations   Call today to schedule your tour ... show contact info\n -or- \nStop in to visit Mon - Sat 10:00a - 5:00p for more info! :D  \n\n\nCommunity Amenities:  \nComplete fitness center \nFour sparkling pools  \nLighted tennis courts  \nFull basketball court  \nWhirlpool Jacuzzi  \n24 hour Emergency Maintenance  Hornet Shuttle Access to Sacramento State University  \n Easy Access to Public Transportation (lightrail and bus) \n Easy Access to the American River Trail   And so much more!  \n\n Check us out online @ www.thephoenixsacramento.com TODAY!  \n  Connect with us:   \nFacebook = The Phoenix Apartment Living \nTwitter = @thephoenixlife     Prices and availability are subject to change. Offered prices are starting prices for base rent only. Other charges, conditions, fees, and terms may apply. Equal housing opportunity provider
## 6    QR Code Link to This Post\n            \n        \n Lease our 1x1 Apartment with Che starting at $1441+    Prices Subject to change daily!  \n Apartment Features:  \nPrivate Balconies &amp; Patios \nLuxury Vinyl Wood Flooring \nDesigner Interior Paint \nUpgraded cabinets and countertops \nModern white doors and trim \nModern white base boards  \nEnergy efficient appliances \nSpacious bathroom \nTONS of closet and storage space \nSac State Shuttle-including Sac State Shuttle App! PET FRIENDLY - MEOW! WOOF!   \n\nUpgraded Fitness Centers \nTanning Booth \nHydro Massage Table \nResident Business Center \nResort-Style Pool Furniture \nSparkling Waterfall Wall \nFire pit locations \nBeach Area for lounging \nOutdoor Recreation Area \nSand Volleyball Court \nGrilling Locations   Call today to schedule your tour ... show contact info\n -or- \nStop in to visit Mon - Sat 10:00a - 5:00p for more info! :D  \n\n\nCommunity Amenities:  \nComplete fitness center \nFour sparkling pools  \nLighted tennis courts  \nFull basketball court  \nWhirlpool Jacuzzi  \n24 hour Emergency Maintenance  Hornet Shuttle Access to Sacramento State University  \n Easy Access to Public Transportation (lightrail and bus) \n Easy Access to the American River Trail   And so much more!  \n\n Check us out online @ www.thephoenixsacramento.com TODAY!  \n  Connect with us:   \nFacebook = The Phoenix Apartment Living \nTwitter = @thephoenixlife     Prices and availability are subject to change. Offered prices are starting prices for base rent only. Other charges, conditions, fees, and terms may apply. Equal housing opportunity provider
##   latitude longitude                             city         date_posted
## 1  38.5728 -121.4675                        2520 S St 2021-02-04 15:03:12
## 2  38.5511 -121.4068 The Phoenix/Sacramento/Folsom/SF 2021-03-02 12:41:17
## 3  38.5511 -121.4068 The Phoenix/Sacramento/Folsom/SF 2021-03-02 13:26:17
## 4  38.5511 -121.4068 The Phoenix/Sacramento/Folsom/SF 2021-03-03 10:02:05
## 5  38.5511 -121.4068 The Phoenix/Sacramento/Folsom/SF 2021-03-04 08:47:21
## 6  38.5511 -121.4068 The Phoenix/Sacramento/Folsom/SF 2021-03-04 10:20:09
##          date_updated price deleted sqft bedrooms bathrooms pets laundry
## 1 2021-03-03 08:41:39  1125   FALSE  550        1         1 &lt;NA&gt;  shared
## 2                &lt;NA&gt;  1449   FALSE  680        1         1 both in-unit
## 3                &lt;NA&gt;  1449   FALSE  680        1         1 both in-unit
## 4                &lt;NA&gt;  1479   FALSE  680        1         1 both in-unit
## 5                &lt;NA&gt;  1414   FALSE  680        1         1 both in-unit
## 6                &lt;NA&gt;  1441   FALSE  680        1         1 both in-unit
##      parking craigslist  shp_place   shp_city shp_state shp_county
## 1 off-street sacramento Sacramento Sacramento        CA Sacramento
## 2    covered sacramento Sacramento Sacramento        CA Sacramento
## 3    covered sacramento Sacramento Sacramento        CA Sacramento
## 4    covered sacramento Sacramento Sacramento        CA Sacramento
## 5    covered sacramento Sacramento Sacramento        CA Sacramento
## 6    covered sacramento Sacramento Sacramento        CA Sacramento</code></pre>
<p>The <code>na.omit</code> function is less precise than indexing, because it removes rows
that have a missing value in <em>any</em> column. This means lots of information gets
lost.</p>
<p>Another way to handle missing values is to <strong>impute</strong>, or fill in, the values
with estimates based on other data in the data set. We won’t get into the
details of how to impute missing values here, since it is a fairly deep
subject. Generally it is safe to impute MAR values, but not MNAR values.</p>
</div>
<div id="outliers" class="section level3 hasAnchor" number="7.3.2">
<h3><span class="header-section-number">7.3.2</span> Outliers<a href="data-forensics.html#outliers" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>An <strong>outlier</strong> is an anomalous or extreme value in a data set. We can picture
this as a value that’s far away from most of the other values. Sometimes
outliers are a natural part of the data set. In other situations, outliers can
indicate errors in how the data were measured, recorded, or cleaned.</p>
<p>There’s no specific definition for “extreme” or “far away”. A good starting
point for detecting outliers is to make a plot that shows how the values are
distributed. Box plots and density plots work especially well for this (you’ll
learn about how to make plots in a later lesson):</p>
<div class="sourceCode" id="cb390"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb390-1"><a href="data-forensics.html#cb390-1" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb390-2"><a href="data-forensics.html#cb390-2" tabindex="-1"></a></span>
<span id="cb390-3"><a href="data-forensics.html#cb390-3" tabindex="-1"></a><span class="fu">ggplot</span>(cl, <span class="fu">aes</span>(<span class="at">x =</span> sqft)) <span class="sc">+</span> <span class="fu">geom_boxplot</span>()</span></code></pre></div>
<pre><code>## Warning: Removed 347 rows containing non-finite values (`stat_boxplot()`).</code></pre>
<p><img src="07_data-forensics_files/figure-html/unnamed-chunk-15-1.png" width="672" /></p>
<p>Statisticians tend to use the rule of thumb that any value more than 3 standard
deviations away from the mean is an outlier. You can use the <code>scale</code> function
to compute how many standard deviations the elements in a column are from their
mean:</p>
<div class="sourceCode" id="cb392"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb392-1"><a href="data-forensics.html#cb392-1" tabindex="-1"></a>z <span class="ot">=</span> <span class="fu">scale</span>(cl<span class="sc">$</span>sqft)</span>
<span id="cb392-2"><a href="data-forensics.html#cb392-2" tabindex="-1"></a><span class="fu">head</span>(z)</span></code></pre></div>
<pre><code>##            [,1]
## [1,] -0.1910838
## [2,] -0.1161393
## [3,] -0.1161393
## [4,] -0.1161393
## [5,] -0.1161393
## [6,] -0.1161393</code></pre>
<div class="sourceCode" id="cb394"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb394-1"><a href="data-forensics.html#cb394-1" tabindex="-1"></a><span class="fu">which</span>(z <span class="sc">&lt;=</span> <span class="sc">-</span><span class="dv">3</span> <span class="sc">|</span> <span class="dv">3</span> <span class="sc">&lt;=</span> z)</span></code></pre></div>
<pre><code>## [1] 1261 2461</code></pre>
<p>Be careful to think about what your specific data set measures, as this
definition isn’t appropriate in every situation.</p>
<p>How can you handle outliers? First, try inspecting other features from the row
to determine whether the outlier is a valid measurement or an error. When an
outlier is valid, keep it.</p>
<p>If the outlier interferes with a plot you want to make, you can adjust the x
and y limits on plots as needed to “ignore” the outlier. Make sure to mention
this in the plot’s title or caption.</p>
<p>When an outlier is not valid, first try to correct it. For example:</p>
<ul>
<li>Correct with a different covariate from the <em>same observation</em>.</li>
<li>Estimate with a mean or median of similar observations. This is another
example of imputing values.</li>
</ul>
<p>For example, in the Craigslist data, we can use the <code>text</code> column to try to
correct outliers:</p>
<div class="sourceCode" id="cb396"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb396-1"><a href="data-forensics.html#cb396-1" tabindex="-1"></a><span class="fu">cat</span>(cl<span class="sc">$</span>text[<span class="dv">1261</span>])</span></code></pre></div>
<pre><code>## QR Code Link to This Post
##             
##         
## Villages of the Galleria
## 701 Gibson Drive, Roseville, CA, 95678
## Want more information? Follow this link:
## http://rcmi.aptdetails.com/49u13n
## Call Now:  show contact info
## 
## Roseville&#39;s Premier Luxury Condominium Rentals
## This is a 1 Bedroom, 1 Bath, approximately 819 Sq. Ft. 
## Signature Collection
## This collection of fully renovated homes is limited to a select few. These unique homes are renting quickly. 
## The beautifully remodeled floor plan offers an entertainment style kitchen, gracious living area, formal dining room with access to your outdoor balcony, designer two tone paint with crown molding, spacious bathroom with relaxing oval bath tub, linen closet and large vanity. The bedroom offers a sliding glass door giving you additional access to the private balcony over looking the picturesque courtyard. 
## Brand New Featured Interiors:
## Entertainment Style Kitchen
## •    Beautiful warm espresso custom built cabinets with brush nickel hardware
## •    Opulent Granite Countertops with backsplash
## •    Satin finish under mount sink with disposal and upgraded Moen faucet and fixtures
## •    Stainless steel appliances, spacious built in microwave, multi-cycle dishwasher and self-cleaning oven
## •    Plant/décor cabinet ledge 
## •    Spacious pantry and personalized custom shelving in all cabinets
## •    Attractive bright recessed lighting
## •    Private in home personal laundry room with full size washer &amp; dryer
## Living and Dining
## •    Hand laid tile resembling hard wood flooring 
## •    Designer two-tone paint with white accent crown molding and baseboards
## •    Upgraded wooden style blinds
## •    Dual pane windows featuring custom framed molding
## •    Spacious coat closet
## Bath
## •    Oval Roman soaking tub with surround Opulent granite walls 
## •    Warm espresso custom built cabinets with brush nickel hardware
## •    Spacious linen closet and personal cabinet storage
## •    Hand selected Opulent Granite countertops
## •    Unique hand crafted above counter sink
## •    Contemporary waterfall faucet
## •    Custom wood-look framed mirror
## •    White glass contemporary light fixture with brush nickel base
## •    Upgraded brush nickel accents (towel bars and holders)
## •    Hand laid tile resembling hard wood flooring 
## Bedroom and Closet
## •    Rich plush carpeting
## •    Spacious walk in closets with personalized built in custom organizers and compartments
## Other Features and Amenities 
## •    Brilliant bright recessed lighting
## •    Central heat and air
## •    Private balcony or terrace
## •    Pre-wired for high-speed internet, multi-line phone and cable
## •    Brushed nickel hardware accents (door knobs, latches, deadbolts, locks, door knocker and light fixtures)
## •    Covered parking
## •    Additional patio storage
## Select Homes Offer
## •    Private detached garage
## •    Additional linen or storage space
## •    Cozy Gas Fireplace with carved stone-look mantel and molding
## Style, sophistication, beautiful landscaping and stunning architecture accent the Villages of the 
## Galleria apartment homes, located in dynamic Roseville, California. Villages of the Galleria is just minutes from the Galleria Mall and Fountains at Roseville and offers easy freeway access to downtown, Sacramento International Airport, Arco Arena and major employers such as NEC, Oracle and HP. Select from a variety of one, two or three bedroom floor plans. All apartment homes offer gracious living areas with designer two-tone paint, crown molding, large walk-in closets and in home full size washer and dryer. Enjoy the many fine conveniences offered, such as an expansive fitness center, executive business center and refreshing pool. Villages of the Galleria is the perfect place to call home. 
## Features
## - Contemporary Recessed Lighting 
## - Built-In Linen Closet in Bathroom * 
## - Entertainment Style Kitchens 
## - Private Balconies and Patios 
## - Crown Molding Accents 
## - Six-Panel Interior Doors 
## - Custom Maple-Front Cabinetry 
## - Nine-Foot Ceilings 
## - Microwave 
## - Pre-Wired for High Speed Internet 
## - Private Garages * 
## - Full Size Washer/Dryer 
## - Pantry * 
## - Oval Roman Soaking Tub * 
## - Cozy Gas Fireplace with Mantel * 
## - Covered Parking * 
## - Spacious Walk-In Closet(s) * 
## - Energy-Saving Multi-Cycle Dishwasher 
## Community Amenities
## - Community Garden 
## - Executive Business Center 
## - Sand Volleyball 
## - Close to Shopping 
## - Beautiful Landscaped Court Yards 
## - Playground 
## - Fitness Center 
## - Clubhouse 
## - Open Air Cabanas 
## - Easy Access to Freeways 
## - Pool and Spa 
## - Gated Community 
## - Professional Onsite Management w/ 24-Hour Emergency Maintenance 
## - Picnic Area with Barbecue 
## Office Hours
## Monday - Friday 9:00 AM - 6:00 PM
## Saturday 10:00 AM - 5:00 PM
## Sunday 12:00 PM - 5:00 PM 
## Pet Policy
## Maximum of 2 pets cats or dogs. No weight limit. Additional $25 rent per month and additional $500 deposit per pet. Inquire about our breed restrictions. 
## Equal Housing Opportunity 
## VJWLzl1wXG</code></pre>
<p>Based on the text, this apartment is 819 square feet, not 8190 square feet. So
we can reassign the value:</p>
<div class="sourceCode" id="cb398"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb398-1"><a href="data-forensics.html#cb398-1" tabindex="-1"></a>cl<span class="sc">$</span>sqft[<span class="dv">1261</span>] <span class="ot">=</span> <span class="dv">819</span></span></code></pre></div>
<p>If other features don’t help with correction, try getting information from
external sources. If you can’t correct the outlier but know it’s invalid,
replace it with a missing value <code>NA</code>.</p>
</div>
</div>
<div id="apply-functions" class="section level2 hasAnchor" number="7.4">
<h2><span class="header-section-number">7.4</span> Apply Functions<a href="data-forensics.html#apply-functions" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Section <a href="introduction-to-r.html#vectorization">3.7.2</a> introduced vectorization, a convenient and
efficient way to compute multiple results. That section also mentioned that
some of R’s functions—the ones that summarize or aggregate data—are not
vectorized.</p>
<p>The <code>class</code> function is an example of a function that’s not vectorized. If we
call the <code>class</code> function on the Craigslist data set, we get just one result
for the data set as a whole:</p>
<div class="sourceCode" id="cb399"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb399-1"><a href="data-forensics.html#cb399-1" tabindex="-1"></a><span class="fu">class</span>(cl)</span></code></pre></div>
<pre><code>## [1] &quot;data.frame&quot;</code></pre>
<p>What if we want to get the class of each column? We can get the class for a
single column by selecting the column with <code>$</code>, the dollar sign operator:</p>
<div class="sourceCode" id="cb401"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb401-1"><a href="data-forensics.html#cb401-1" tabindex="-1"></a><span class="fu">class</span>(cl<span class="sc">$</span>pets)</span></code></pre></div>
<pre><code>## [1] &quot;factor&quot;</code></pre>
<p>But what if we want the classes for all the columns? We could write a call to
<code>class</code> for each column, but that would be tedious. When you’re working with a
programming language, you should try to avoid tedium; there’s usually a better,
more automated way.</p>
<p>Section <a href="introduction-to-r.html#lists">3.9.1</a> pointed out that data frames are technically lists, where
each column is one element. With that in mind, what we need here is a line of
code that calls <code>class</code> on each element of the data frame. The idea is similar
to vectorization, but since we have a list and a non-vectorized function, we
have to do a bit more than just call <code>class(cl)</code>.</p>
<p>The <code>lapply</code> function calls, or <em>applies</em>, a function on each element of a list
or vector. The syntax is:</p>
<pre><code>lapply(X, FUN, ...)</code></pre>
<p>The function <code>FUN</code> is called once for each element of <code>X</code>, with the element as
the first argument. The <code>...</code> is for additional arguments to <code>FUN</code>, which are
held constant across all the elements.</p>
<p>Let’s try this out with the Craigslist data and the <code>class</code> function:</p>
<div class="sourceCode" id="cb404"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb404-1"><a href="data-forensics.html#cb404-1" tabindex="-1"></a><span class="fu">lapply</span>(cl, class)</span></code></pre></div>
<pre><code>## $title
## [1] &quot;character&quot;
## 
## $text
## [1] &quot;character&quot;
## 
## $latitude
## [1] &quot;numeric&quot;
## 
## $longitude
## [1] &quot;numeric&quot;
## 
## $city
## [1] &quot;character&quot;
## 
## $date_posted
## [1] &quot;character&quot;
## 
## $date_updated
## [1] &quot;POSIXct&quot; &quot;POSIXt&quot; 
## 
## $price
## [1] &quot;integer&quot;
## 
## $deleted
## [1] &quot;logical&quot;
## 
## $sqft
## [1] &quot;numeric&quot;
## 
## $bedrooms
## [1] &quot;integer&quot;
## 
## $bathrooms
## [1] &quot;numeric&quot;
## 
## $pets
## [1] &quot;factor&quot;
## 
## $laundry
## [1] &quot;factor&quot;
## 
## $parking
## [1] &quot;factor&quot;
## 
## $craigslist
## [1] &quot;character&quot;
## 
## $shp_place
## [1] &quot;character&quot;
## 
## $shp_city
## [1] &quot;character&quot;
## 
## $shp_state
## [1] &quot;character&quot;
## 
## $shp_county
## [1] &quot;character&quot;</code></pre>
<p>The result is similar to if the <code>class</code> function was vectorized. In fact, if we
use a vector and a vectorized function with <code>lapply</code>, the result is nearly
identical to the result from vectorization:</p>
<div class="sourceCode" id="cb406"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb406-1"><a href="data-forensics.html#cb406-1" tabindex="-1"></a>x <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, pi)</span>
<span id="cb406-2"><a href="data-forensics.html#cb406-2" tabindex="-1"></a></span>
<span id="cb406-3"><a href="data-forensics.html#cb406-3" tabindex="-1"></a><span class="fu">sqrt</span>(x)</span></code></pre></div>
<pre><code>## [1] 1.000000 1.414214 1.772454</code></pre>
<div class="sourceCode" id="cb408"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb408-1"><a href="data-forensics.html#cb408-1" tabindex="-1"></a><span class="fu">lapply</span>(x, sqrt)</span></code></pre></div>
<pre><code>## [[1]]
## [1] 1
## 
## [[2]]
## [1] 1.414214
## 
## [[3]]
## [1] 1.772454</code></pre>
<p>The only difference is that the result from <code>lapply</code> is a list. In fact, the
<code>lapply</code> function always returns a list with one element for each element of
the input data. The “l” in <code>lapply</code> stands for “list”.</p>
<p>The <code>lapply</code> function is one member of a family of functions called <strong>apply
functions</strong>. All of the apply functions provide ways to apply a function
repeatedly to different parts of a data structure. We’ll meet a few more apply
functions soon.</p>
<p>When you have a choice between using vectorization or an apply function, you
should always choose vectorization. Vectorization is clearer—compare the two
lines of code above—and it’s also significantly more efficient. In fact,
vectorization is the most efficient way to call a function repeatedly in R.</p>
<p>As we saw with the <code>class</code> function, there are some situations where
vectorization is not possible. That’s when you should think about using an
apply function.</p>
<div id="the-sapply-function" class="section level3 hasAnchor" number="7.4.1">
<h3><span class="header-section-number">7.4.1</span> The <code>sapply</code> Function<a href="data-forensics.html#the-sapply-function" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The related <code>sapply</code> function calls a function on each element of a list or
vector, and simplifies the result. That last part is the crucial difference
compared to <code>lapply</code>. When results from the calls all have the same type and
length, <code>sapply</code> returns a vector or matrix instead of a list. When the results
have different types or lengths, the result is the same as for <code>lapply</code>. The
“s” in <code>sapply</code> stands for “simplify”.</p>
<p>For instance, if we use <code>sapply</code> to find the classes of the columns in the
Craigslist data, we get a character vector:</p>
<div class="sourceCode" id="cb410"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb410-1"><a href="data-forensics.html#cb410-1" tabindex="-1"></a><span class="fu">sapply</span>(cl, class)</span></code></pre></div>
<pre><code>## $title
## [1] &quot;character&quot;
## 
## $text
## [1] &quot;character&quot;
## 
## $latitude
## [1] &quot;numeric&quot;
## 
## $longitude
## [1] &quot;numeric&quot;
## 
## $city
## [1] &quot;character&quot;
## 
## $date_posted
## [1] &quot;character&quot;
## 
## $date_updated
## [1] &quot;POSIXct&quot; &quot;POSIXt&quot; 
## 
## $price
## [1] &quot;integer&quot;
## 
## $deleted
## [1] &quot;logical&quot;
## 
## $sqft
## [1] &quot;numeric&quot;
## 
## $bedrooms
## [1] &quot;integer&quot;
## 
## $bathrooms
## [1] &quot;numeric&quot;
## 
## $pets
## [1] &quot;factor&quot;
## 
## $laundry
## [1] &quot;factor&quot;
## 
## $parking
## [1] &quot;factor&quot;
## 
## $craigslist
## [1] &quot;character&quot;
## 
## $shp_place
## [1] &quot;character&quot;
## 
## $shp_city
## [1] &quot;character&quot;
## 
## $shp_state
## [1] &quot;character&quot;
## 
## $shp_county
## [1] &quot;character&quot;</code></pre>
<p>Likewise, if we use <code>sapply</code> to compute the <code>sqrt</code> values, we get a numeric
vector, the same as from vectorization:</p>
<div class="sourceCode" id="cb412"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb412-1"><a href="data-forensics.html#cb412-1" tabindex="-1"></a><span class="fu">sapply</span>(x, sqrt)</span></code></pre></div>
<pre><code>## [1] 1.000000 1.414214 1.772454</code></pre>
<p>In spite of that, vectorization is still more efficient than <code>sapply</code>, so use
vectorization instead when possible.</p>
<p>Apply functions are incredibly useful for summarizing data. For example,
suppose we want to compute the medians for all of the columns in the Craigslist
data set that are numeric.</p>
<p>First, we need to identify the columns. One way to do this is with the
<code>is.numeric</code> function. Despite the name, this function actually tests whether
its argument is a real number, not whether it its argument is a numeric vector.
In other words, it also returns true for integer values. We can use <code>sapply</code> to
apply this function to all of the columns in the Craigslist data set:</p>
<div class="sourceCode" id="cb414"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb414-1"><a href="data-forensics.html#cb414-1" tabindex="-1"></a>is_number <span class="ot">=</span> <span class="fu">sapply</span>(cl, is.numeric)</span>
<span id="cb414-2"><a href="data-forensics.html#cb414-2" tabindex="-1"></a>is_number</span></code></pre></div>
<pre><code>##        title         text     latitude    longitude         city  date_posted 
##        FALSE        FALSE         TRUE         TRUE        FALSE        FALSE 
## date_updated        price      deleted         sqft     bedrooms    bathrooms 
##        FALSE         TRUE        FALSE         TRUE         TRUE         TRUE 
##         pets      laundry      parking   craigslist    shp_place     shp_city 
##        FALSE        FALSE        FALSE        FALSE        FALSE        FALSE 
##    shp_state   shp_county 
##        FALSE        FALSE</code></pre>
<p>In general, it’s a good habit to use R to do things rather than do them
manually. You’ll get more practice programming, and your code will be more
flexible if you want to adapt it to other data sets.</p>
<p>Now that we know which columns are numeric, we can use the <code>median</code> function to
compute medians. We only want to compute medians for those columns, so we need
to subset the data:</p>
<div class="sourceCode" id="cb416"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb416-1"><a href="data-forensics.html#cb416-1" tabindex="-1"></a><span class="fu">sapply</span>(cl[, is_number], median, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>##  latitude longitude     price      sqft  bedrooms bathrooms 
##   38.5878 -121.4410 1730.0000  801.0000    2.0000    1.0000</code></pre>
</div>
<div id="the-split-apply-pattern" class="section level3 hasAnchor" number="7.4.2">
<h3><span class="header-section-number">7.4.2</span> The Split-Apply Pattern<a href="data-forensics.html#the-split-apply-pattern" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>In a data set with categorical features, it’s often useful to compute something
for each category. The <code>lapply</code> and <code>sapply</code> functions can compute something
for each element of a data structure, but categories are not necessarily
elements.</p>
<p>For example, the Craigslist data set has four different categories in the
<code>laundry</code> column. If we want all of the rows in one category, one way to get
them is by indexing:</p>
<div class="sourceCode" id="cb418"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb418-1"><a href="data-forensics.html#cb418-1" tabindex="-1"></a>shared <span class="ot">=</span> cl[cl<span class="sc">$</span>laundry <span class="sc">==</span> <span class="st">&quot;shared&quot;</span>, ]</span>
<span id="cb418-2"><a href="data-forensics.html#cb418-2" tabindex="-1"></a><span class="fu">head</span>(shared)</span></code></pre></div>
<pre><code>##                                                                                                             title
## 1        $1,125 / 1br - 550ft2 - 1Bedroom Prime Location -2520 S Limited Access/Gated $1125 Avail Now (2520 S St)
## 7  $1,615 / 2br - 816ft2 - 2x1 with w/d in unit..  available NOW! APPLY TODAY! (The Phoenix/Sacramento/Folsom/SF)
## 8  $1,660 / 2br - 816ft2 - 2x1 with w/d in unit..  available NOW! APPLY TODAY! (The Phoenix/Sacramento/Folsom/SF)
## 9  $1,877 / 2br - 916ft2 - 2x2 with w/d in unit..  available NOW! APPLY TODAY! (The Phoenix/Sacramento/Folsom/SF)
## 10 $1,611 / 2br - 916ft2 - 2x2 with w/d in unit..  available NOW! APPLY TODAY! (The Phoenix/Sacramento/Folsom/SF)
## 11 $1,736 / 2br - 916ft2 - 2x2 with w/d in unit..  available NOW! APPLY TODAY! (The Phoenix/Sacramento/Folsom/SF)
##                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   text
## 1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      QR Code Link to This Post\n            \n        \n* SEE MY OTHER MIDTOWN 1 bedroom apts-text for web site\n*An upstairs apt @ 2520 S is coming available 3/18/21\n*I have 4 apts coming avail in midtown\n*New flooring in lower apt and redone hardwood flooring in upper unit\n*1 Bedroom  lower unit in 20 unit complex (2-10 unit buildings-courtyard in middle) with manager on site\n*Gated front and back\n*9 parking spots in back\n*Laundry on site with new washers and dryers (coin op)\n*Owner pays water/sewer/garbage\n*Wall heat and window air\n*New paint and new Pergo-type wood flooring \n*Updated lighting\n*Nicely maintained building and grounds\n*$500 deposit\n*Non-Smoking/vaping Complex\n*Long time Mgr on Site\n*No dogs\n*Pictures of a like unit\n*Text/call showing Wes  show contact info\n to get copy of video\n*You need to make 3X rent, have good rental history and credit score of 600 or greater to qualify-no dogs.
## 7  QR Code Link to This Post\n            \n        \n Lease our 2x1 Apartment with Juliet starting at $1615+    Prices Subject to change daily!  \n Apartment Features:  \nPrivate Balconies &amp; Patios \nLuxury Vinyl Wood Flooring \nDesigner Interior Paint \nUpgraded cabinets and countertops \nModern white doors and trim \nModern white base boards  \nEnergy efficient appliances \nSpacious bathroom \nTONS of closet and storage space \nSac State Shuttle-including Sac State Shuttle App! PET FRIENDLY - MEOW! WOOF!   \n\nUpgraded Fitness Centers \nTanning Booth \nHydro Massage Table \nResident Business Center \nResort-Style Pool Furniture \nSparkling Waterfall Wall \nFire pit locations \nBeach Area for lounging \nOutdoor Recreation Area \nSand Volleyball Court \nGrilling Locations   Call today to schedule your tour ... show contact info\n -or- \nStop in to visit Mon - Sat 10:00a - 5:00p for more info! :D  \n\n\nCommunity Amenities:  \nComplete fitness center \nFour sparkling pools  \nLighted tennis courts  \nFull basketball court  \nWhirlpool Jacuzzi  \n24 hour Emergency Maintenance  Hornet Shuttle Access to Sacramento State University  \n Easy Access to Public Transportation (lightrail and bus) \n Easy Access to the American River Trail   And so much more!  \n\n Check us out online @ www.thephoenixsacramento.com TODAY!  \n  Connect with us:   \nFacebook = The Phoenix Apartment Living \nTwitter = @thephoenixlife     Prices and availability are subject to change. Offered prices are starting prices for base rent only. Other charges, conditions, fees, and terms may apply. Equal housing opportunity provider
## 8  QR Code Link to This Post\n            \n        \n Lease our 2x1 Apartment with Juliet starting at $1660+    Prices Subject to change daily!  \n Apartment Features:  \nPrivate Balconies &amp; Patios \nLuxury Vinyl Wood Flooring \nDesigner Interior Paint \nUpgraded cabinets and countertops \nModern white doors and trim \nModern white base boards  \nEnergy efficient appliances \nSpacious bathroom \nTONS of closet and storage space \nSac State Shuttle-including Sac State Shuttle App! PET FRIENDLY - MEOW! WOOF!   \n\nUpgraded Fitness Centers \nTanning Booth \nHydro Massage Table \nResident Business Center \nResort-Style Pool Furniture \nSparkling Waterfall Wall \nFire pit locations \nBeach Area for lounging \nOutdoor Recreation Area \nSand Volleyball Court \nGrilling Locations   Call today to schedule your tour ... show contact info\n -or- \nStop in to visit Mon - Sat 10:00a - 5:00p for more info! :D  \n\n\nCommunity Amenities:  \nComplete fitness center \nFour sparkling pools  \nLighted tennis courts  \nFull basketball court  \nWhirlpool Jacuzzi  \n24 hour Emergency Maintenance  Hornet Shuttle Access to Sacramento State University  \n Easy Access to Public Transportation (lightrail and bus) \n Easy Access to the American River Trail   And so much more!  \n\n Check us out online @ www.thephoenixsacramento.com TODAY!  \n  Connect with us:   \nFacebook = The Phoenix Apartment Living \nTwitter = @thephoenixlife     Prices and availability are subject to change. Offered prices are starting prices for base rent only. Other charges, conditions, fees, and terms may apply. Equal housing opportunity provider
## 9  QR Code Link to This Post\n            \n        \n Lease our 2x2 Apartment with Juliet starting at $1877+    Prices Subject to change daily!  \n Apartment Features:  \nPrivate Balconies &amp; Patios \nLuxury Vinyl Wood Flooring \nDesigner Interior Paint \nUpgraded cabinets and countertops \nModern white doors and trim \nModern white base boards  \nEnergy efficient appliances \nSpacious bathroom \nTONS of closet and storage space \nSac State Shuttle-including Sac State Shuttle App! PET FRIENDLY - MEOW! WOOF!   \n\nUpgraded Fitness Centers \nTanning Booth \nHydro Massage Table \nResident Business Center \nResort-Style Pool Furniture \nSparkling Waterfall Wall \nFire pit locations \nBeach Area for lounging \nOutdoor Recreation Area \nSand Volleyball Court \nGrilling Locations   Call today to schedule your tour ... show contact info\n -or- \nStop in to visit Mon - Sat 10:00a - 5:00p for more info! :D  \n\n\nCommunity Amenities:  \nComplete fitness center \nFour sparkling pools  \nLighted tennis courts  \nFull basketball court  \nWhirlpool Jacuzzi  \n24 hour Emergency Maintenance  Hornet Shuttle Access to Sacramento State University  \n Easy Access to Public Transportation (lightrail and bus) \n Easy Access to the American River Trail   And so much more!  \n\n Check us out online @ www.thephoenixsacramento.com TODAY!  \n  Connect with us:   \nFacebook = The Phoenix Apartment Living \nTwitter = @thephoenixlife     Prices and availability are subject to change. Offered prices are starting prices for base rent only. Other charges, conditions, fees, and terms may apply. Equal housing opportunity provider
## 10    QR Code Link to This Post\n            \n        \n Lease our 2x2 Apartment with Che starting at $1611+    Prices Subject to change daily!  \n Apartment Features:  \nPrivate Balconies &amp; Patios \nLuxury Vinyl Wood Flooring \nDesigner Interior Paint \nUpgraded cabinets and countertops \nModern white doors and trim \nModern white base boards  \nEnergy efficient appliances \nSpacious bathroom \nTONS of closet and storage space \nSac State Shuttle-including Sac State Shuttle App! PET FRIENDLY - MEOW! WOOF!   \n\nUpgraded Fitness Centers \nTanning Booth \nHydro Massage Table \nResident Business Center \nResort-Style Pool Furniture \nSparkling Waterfall Wall \nFire pit locations \nBeach Area for lounging \nOutdoor Recreation Area \nSand Volleyball Court \nGrilling Locations   Call today to schedule your tour ... show contact info\n -or- \nStop in to visit Mon - Sat 10:00a - 5:00p for more info! :D  \n\n\nCommunity Amenities:  \nComplete fitness center \nFour sparkling pools  \nLighted tennis courts  \nFull basketball court  \nWhirlpool Jacuzzi  \n24 hour Emergency Maintenance  Hornet Shuttle Access to Sacramento State University  \n Easy Access to Public Transportation (lightrail and bus) \n Easy Access to the American River Trail   And so much more!  \n\n Check us out online @ www.thephoenixsacramento.com TODAY!  \n  Connect with us:   \nFacebook = The Phoenix Apartment Living \nTwitter = @thephoenixlife     Prices and availability are subject to change. Offered prices are starting prices for base rent only. Other charges, conditions, fees, and terms may apply. Equal housing opportunity provider
## 11    QR Code Link to This Post\n            \n        \n Lease our 2x2 Apartment with Che starting at $1736+    Prices Subject to change daily!  \n Apartment Features:  \nPrivate Balconies &amp; Patios \nLuxury Vinyl Wood Flooring \nDesigner Interior Paint \nUpgraded cabinets and countertops \nModern white doors and trim \nModern white base boards  \nEnergy efficient appliances \nSpacious bathroom \nTONS of closet and storage space \nSac State Shuttle-including Sac State Shuttle App! PET FRIENDLY - MEOW! WOOF!   \n\nUpgraded Fitness Centers \nTanning Booth \nHydro Massage Table \nResident Business Center \nResort-Style Pool Furniture \nSparkling Waterfall Wall \nFire pit locations \nBeach Area for lounging \nOutdoor Recreation Area \nSand Volleyball Court \nGrilling Locations   Call today to schedule your tour ... show contact info\n -or- \nStop in to visit Mon - Sat 10:00a - 5:00p for more info! :D  \n\n\nCommunity Amenities:  \nComplete fitness center \nFour sparkling pools  \nLighted tennis courts  \nFull basketball court  \nWhirlpool Jacuzzi  \n24 hour Emergency Maintenance  Hornet Shuttle Access to Sacramento State University  \n Easy Access to Public Transportation (lightrail and bus) \n Easy Access to the American River Trail   And so much more!  \n\n Check us out online @ www.thephoenixsacramento.com TODAY!  \n  Connect with us:   \nFacebook = The Phoenix Apartment Living \nTwitter = @thephoenixlife     Prices and availability are subject to change. Offered prices are starting prices for base rent only. Other charges, conditions, fees, and terms may apply. Equal housing opportunity provider
##    latitude longitude                             city         date_posted
## 1   38.5728 -121.4675                        2520 S St 2021-02-04 15:03:12
## 7   38.5511 -121.4068 The Phoenix/Sacramento/Folsom/SF 2021-03-02 08:36:51
## 8   38.5511 -121.4068 The Phoenix/Sacramento/Folsom/SF 2021-03-04 08:57:47
## 9   38.5511 -121.4068 The Phoenix/Sacramento/Folsom/SF 2021-03-02 08:36:17
## 10  38.5511 -121.4068 The Phoenix/Sacramento/Folsom/SF 2021-03-02 13:16:29
## 11  38.5511 -121.4068 The Phoenix/Sacramento/Folsom/SF 2021-03-03 10:02:38
##           date_updated price deleted sqft bedrooms bathrooms pets laundry
## 1  2021-03-03 08:41:39  1125   FALSE  550        1         1 &lt;NA&gt;  shared
## 7                 &lt;NA&gt;  1615   FALSE  816        2         1 both  shared
## 8                 &lt;NA&gt;  1660   FALSE  816        2         1 both  shared
## 9                 &lt;NA&gt;  1877   FALSE  916        2         2 both  shared
## 10                &lt;NA&gt;  1611   FALSE  916        2         2 both  shared
## 11                &lt;NA&gt;  1736   FALSE  916        2         2 both  shared
##       parking craigslist  shp_place   shp_city shp_state shp_county
## 1  off-street sacramento Sacramento Sacramento        CA Sacramento
## 7     covered sacramento Sacramento Sacramento        CA Sacramento
## 8     covered sacramento Sacramento Sacramento        CA Sacramento
## 9     covered sacramento Sacramento Sacramento        CA Sacramento
## 10    covered sacramento Sacramento Sacramento        CA Sacramento
## 11    covered sacramento Sacramento Sacramento        CA Sacramento</code></pre>
<p>To get all four categories, we’d have to do this four times. If we want to
compute something for each category, say the mean of the <code>price</code> column, we
also have to repeat that computation four times. Here’s what it would look like
for just the <code>shared</code> category:</p>
<div class="sourceCode" id="cb420"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb420-1"><a href="data-forensics.html#cb420-1" tabindex="-1"></a><span class="fu">mean</span>(shared<span class="sc">$</span>price, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>## [1] 1522.869</code></pre>
<p>If the categories were elements, we could avoid writing code to index each
category, and just use the <code>sapply</code> (or <code>lapply</code>) function to apply the <code>mean</code>
function to each.</p>
<p>The <code>split</code> function splits a vector or data frame into groups based on a
vector of categories. The first argument to <code>split</code> is the data, and the
second argument is a congruent vector of categories.</p>
<p>We can use <code>split</code> to elegantly compute means of <code>price</code> broken down by
<code>laundry</code>. First, we split the data by category. Since we only want to compute
on the <code>price</code> column, we only split that column:</p>
<div class="sourceCode" id="cb422"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb422-1"><a href="data-forensics.html#cb422-1" tabindex="-1"></a>by_laundry <span class="ot">=</span> <span class="fu">split</span>(cl<span class="sc">$</span>price, cl<span class="sc">$</span>laundry)</span>
<span id="cb422-2"><a href="data-forensics.html#cb422-2" tabindex="-1"></a><span class="fu">class</span>(by_laundry)</span></code></pre></div>
<pre><code>## [1] &quot;list&quot;</code></pre>
<div class="sourceCode" id="cb424"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb424-1"><a href="data-forensics.html#cb424-1" tabindex="-1"></a><span class="fu">names</span>(by_laundry)</span></code></pre></div>
<pre><code>## [1] &quot;hookup&quot;  &quot;in-unit&quot; &quot;none&quot;    &quot;shared&quot;</code></pre>
<p>The result from <code>split</code> is a list with one element for each category. The
individual elements contain pieces of the original <code>price</code> column:</p>
<div class="sourceCode" id="cb426"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb426-1"><a href="data-forensics.html#cb426-1" tabindex="-1"></a><span class="fu">head</span>(by_laundry<span class="sc">$</span>hookup)</span></code></pre></div>
<pre><code>## [1] 1250 3300 3328 3300 3280 3328</code></pre>
<p>Since the categories are elements in the split data, now we can use <code>sapply</code>
the same way we did in previous examples:</p>
<div class="sourceCode" id="cb428"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb428-1"><a href="data-forensics.html#cb428-1" tabindex="-1"></a><span class="fu">sapply</span>(by_laundry, mean, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>##    hookup   in-unit      none    shared 
## 2059.6111 1880.8592  982.2381 1522.8691</code></pre>
<p>This two-step process is a data science idiom called the <strong>split-apply
pattern</strong>. First you use <code>split</code> to convert categories into list elements, then
you use an apply function to compute something on each category. Any time you
want to compute results by category, you should think of this pattern.</p>
<p>The split-apply pattern is so useful that R provides the <code>tapply</code> function as a
shortcut. The <code>tapply</code> function is equivalent to calling <code>split</code> and then
<code>sapply</code>. Like <code>split</code>, the first argument is the data and the second argument
is a congruent vector of categories. The third argument is a function to apply,
like the function argument in <code>sapply</code>.</p>
<p>We can use <code>tapply</code> to compute the <code>price</code> means by <code>laundry</code> type for the
Craigslist data:</p>
<div class="sourceCode" id="cb430"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb430-1"><a href="data-forensics.html#cb430-1" tabindex="-1"></a><span class="fu">tapply</span>(cl<span class="sc">$</span>price, cl<span class="sc">$</span>laundry, mean, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>##    hookup   in-unit      none    shared 
## 2059.6111 1880.8592  982.2381 1522.8691</code></pre>
<p>Notice that the result is identical to the one we computed before.</p>
<p>The “t” in <code>tapply</code> stands for “table”, because the <code>tapply</code> function is a
generalization of the <code>table</code> function. If you use <code>length</code> as the third
argument to <code>tapply</code>, you get the same results as you would from using the
<code>table</code> function on the category vector.</p>
<p>The <code>aggregate</code> function is closely related to <code>tapply</code>. It computes the same
results, but organizes them into a data frame with one row for each category.
In some cases, this format is more convenient. The arguments are the same,
except that the second argument must be a list or data frame rather than a
vector.</p>
<p>As an example, here’s the result of using <code>aggregate</code> to compute the
<code>price</code> means:</p>
<div class="sourceCode" id="cb432"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb432-1"><a href="data-forensics.html#cb432-1" tabindex="-1"></a><span class="fu">aggregate</span>(cl<span class="sc">$</span>price, <span class="fu">list</span>(cl<span class="sc">$</span>laundry), mean, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>##   Group.1         x
## 1  hookup 2059.6111
## 2 in-unit 1880.8592
## 3    none  982.2381
## 4  shared 1522.8691</code></pre>
<p>The <code>lapply</code>, <code>sapply</code>, and <code>tapply</code> functions are the three most important
functions in the family of apply functions, but there are many more. You can
learn more about all of R’s apply functions by reading <a href="https://stackoverflow.com/a/7141669">this Stack Overflow
post</a>.</p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="data-structures.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="data-visualization.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/ucdavisdatalab/adventures_in_data_science/edit/master/07_data-forensics.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/ucdavisdatalab/adventures_in_data_science/blob/master/07_data-forensics.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
