<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>14 Data Viz with ggplot in R | Adventures in Data Science</title>
  <meta name="description" content="14 Data Viz with ggplot in R | Adventures in Data Science" />
  <meta name="generator" content="bookdown 0.22 and GitBook 2.6.7" />

  <meta property="og:title" content="14 Data Viz with ggplot in R | Adventures in Data Science" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://ucdavisdatalab.github.io/adventures_in_data_science/" />
  
  
  <meta name="github-repo" content="ucdavisdatalab/adventures_in_data_science" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="14 Data Viz with ggplot in R | Adventures in Data Science" />
  
  
  

<meta name="author" content="Dr. Carl Stahmer" />
<meta name="author" content="Dr. Pamela L. Reynolds" />
<meta name="author" content="Dr. Nick Ulle" />
<meta name="author" content="Dr. Tyler Shoemaker" />
<meta name="author" content="Dr. Michele Tobias" />
<meta name="author" content="Dr. Wesley Brooks" />
<meta name="author" content="Arthur Koehl" />
<meta name="author" content="Carrie Alexander" />
<meta name="author" content="Jared Joseph" />
<meta name="author" content="Liza Wood" />


<meta name="date" content="2022-05-08" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="data-visualization-principles-perception.html"/>
<link rel="next" href="how-the-web-works.html"/>
<script src="libs/header-attrs-2.9/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<link href="libs/str_view-0.1.0/str_view.css" rel="stylesheet" />
<script src="libs/str_view-binding-1.4.0/str_view.js"></script>
<link href="libs/vis-4.20.1/vis.css" rel="stylesheet" />
<script src="libs/vis-4.20.1/vis.min.js"></script>
<script src="libs/visNetwork-binding-2.0.9/visNetwork.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="https://datalab.ucdavis.edu/">
  <img src="img/datalab-logo-full-color-rgb.png" style="height: 100%; width: 100%; object-fit: contain" />
</a></li>
<li><a href="./" style="font-size: 18px">Adventures in Data Science</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Overview</a></li>
<li class="chapter" data-level="1" data-path="working-with-the-command-line.html"><a href="working-with-the-command-line.html"><i class="fa fa-check"></i><b>1</b> Working with the Command Line</a>
<ul>
<li class="chapter" data-level="1.1" data-path="working-with-the-command-line.html"><a href="working-with-the-command-line.html#interacting-with-the-command-line"><i class="fa fa-check"></i><b>1.1</b> Interacting with the Command Line</a></li>
<li class="chapter" data-level="1.2" data-path="working-with-the-command-line.html"><a href="working-with-the-command-line.html#common-command-line-commands"><i class="fa fa-check"></i><b>1.2</b> Common Command Line Commands</a></li>
<li class="chapter" data-level="1.3" data-path="working-with-the-command-line.html"><a href="working-with-the-command-line.html#command-line-text-editors"><i class="fa fa-check"></i><b>1.3</b> Command Line Text Editors</a></li>
<li class="chapter" data-level="1.4" data-path="working-with-the-command-line.html"><a href="working-with-the-command-line.html#basic-vim-commands"><i class="fa fa-check"></i><b>1.4</b> Basic Vim Commands</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="introduction-to-version-control.html"><a href="introduction-to-version-control.html"><i class="fa fa-check"></i><b>2</b> Introduction to Version Control</a>
<ul>
<li class="chapter" data-level="2.1" data-path="introduction-to-version-control.html"><a href="introduction-to-version-control.html#what-is-version-control"><i class="fa fa-check"></i><b>2.1</b> What is Version Control?</a></li>
<li class="chapter" data-level="2.2" data-path="introduction-to-version-control.html"><a href="introduction-to-version-control.html#software-assisted-version-control"><i class="fa fa-check"></i><b>2.2</b> Software Assisted Version Control</a></li>
<li class="chapter" data-level="2.3" data-path="introduction-to-version-control.html"><a href="introduction-to-version-control.html#local-vs-server-based-version-control"><i class="fa fa-check"></i><b>2.3</b> Local vs Server Based Version Control</a></li>
<li class="chapter" data-level="2.4" data-path="introduction-to-version-control.html"><a href="introduction-to-version-control.html#central-version-control-systems"><i class="fa fa-check"></i><b>2.4</b> Central Version Control Systems</a></li>
<li class="chapter" data-level="2.5" data-path="introduction-to-version-control.html"><a href="introduction-to-version-control.html#distributed-version-control-systems"><i class="fa fa-check"></i><b>2.5</b> Distributed Version Control Systems</a></li>
<li class="chapter" data-level="2.6" data-path="introduction-to-version-control.html"><a href="introduction-to-version-control.html#the-best-of-both-worlds"><i class="fa fa-check"></i><b>2.6</b> The Best of Both Worlds</a></li>
<li class="chapter" data-level="2.7" data-path="introduction-to-version-control.html"><a href="introduction-to-version-control.html#vcs-and-the-computer-file-system"><i class="fa fa-check"></i><b>2.7</b> VCS and the Computer File System</a></li>
<li class="chapter" data-level="2.8" data-path="introduction-to-version-control.html"><a href="introduction-to-version-control.html#how-computers-store-and-access-information"><i class="fa fa-check"></i><b>2.8</b> How Computers Store and Access Information</a></li>
<li class="chapter" data-level="2.9" data-path="introduction-to-version-control.html"><a href="introduction-to-version-control.html#how-vcs-manage-your-files"><i class="fa fa-check"></i><b>2.9</b> How VCS Manage Your Files</a></li>
<li class="chapter" data-level="2.10" data-path="introduction-to-version-control.html"><a href="introduction-to-version-control.html#graph-based-data-management"><i class="fa fa-check"></i><b>2.10</b> Graph-Based Data Management</a></li>
<li class="chapter" data-level="2.11" data-path="introduction-to-version-control.html"><a href="introduction-to-version-control.html#additional-resources"><i class="fa fa-check"></i><b>2.11</b> Additional Resources</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="git-version-control-basics.html"><a href="git-version-control-basics.html"><i class="fa fa-check"></i><b>3</b> Git Version Control Basics</a>
<ul>
<li class="chapter" data-level="3.1" data-path="git-version-control-basics.html"><a href="git-version-control-basics.html#save-stage-commit"><i class="fa fa-check"></i><b>3.1</b> Save, Stage, Commit</a></li>
<li class="chapter" data-level="3.2" data-path="git-version-control-basics.html"><a href="git-version-control-basics.html#creating-your-first-repo"><i class="fa fa-check"></i><b>3.2</b> Creating Your First Repo</a></li>
<li class="chapter" data-level="3.3" data-path="git-version-control-basics.html"><a href="git-version-control-basics.html#checking-the-status-of-a-repo"><i class="fa fa-check"></i><b>3.3</b> Checking the Status of a Repo</a></li>
<li class="chapter" data-level="3.4" data-path="git-version-control-basics.html"><a href="git-version-control-basics.html#version-of-a-file"><i class="fa fa-check"></i><b>3.4</b> Version of a File</a></li>
<li class="chapter" data-level="3.5" data-path="git-version-control-basics.html"><a href="git-version-control-basics.html#view-a-history-of-your-commits"><i class="fa fa-check"></i><b>3.5</b> View a History of Your Commits</a></li>
<li class="chapter" data-level="3.6" data-path="git-version-control-basics.html"><a href="git-version-control-basics.html#comparing-commits"><i class="fa fa-check"></i><b>3.6</b> Comparing Commits</a></li>
<li class="chapter" data-level="3.7" data-path="git-version-control-basics.html"><a href="git-version-control-basics.html#comparing-files"><i class="fa fa-check"></i><b>3.7</b> Comparing Files</a></li>
<li class="chapter" data-level="3.8" data-path="git-version-control-basics.html"><a href="git-version-control-basics.html#to-view-an-earlier-commit"><i class="fa fa-check"></i><b>3.8</b> To View an Earlier Commit</a></li>
<li class="chapter" data-level="3.9" data-path="git-version-control-basics.html"><a href="git-version-control-basics.html#undoing-things"><i class="fa fa-check"></i><b>3.9</b> Undoing Things</a></li>
<li class="chapter" data-level="3.10" data-path="git-version-control-basics.html"><a href="git-version-control-basics.html#when-things-go-wrong"><i class="fa fa-check"></i><b>3.10</b> When Things go Wrong!</a></li>
<li class="chapter" data-level="3.11" data-path="git-version-control-basics.html"><a href="git-version-control-basics.html#git-branching"><i class="fa fa-check"></i><b>3.11</b> Git Branching</a>
<ul>
<li class="chapter" data-level="3.11.1" data-path="git-version-control-basics.html"><a href="git-version-control-basics.html#merging-branches"><i class="fa fa-check"></i><b>3.11.1</b> Merging Branches</a></li>
<li class="chapter" data-level="3.11.2" data-path="git-version-control-basics.html"><a href="git-version-control-basics.html#branching-workflows"><i class="fa fa-check"></i><b>3.11.2</b> Branching Workflows</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="working-with-remote-repositories.html"><a href="working-with-remote-repositories.html"><i class="fa fa-check"></i><b>4</b> Working with Remote Repositories</a>
<ul>
<li class="chapter" data-level="4.1" data-path="working-with-remote-repositories.html"><a href="working-with-remote-repositories.html#github-basics"><i class="fa fa-check"></i><b>4.1</b> GitHub Basics</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="working-with-remote-repositories.html"><a href="working-with-remote-repositories.html#communicating-through-github"><i class="fa fa-check"></i><b>4.1.1</b> Communicating Through GitHub</a></li>
<li class="chapter" data-level="4.1.2" data-path="working-with-remote-repositories.html"><a href="working-with-remote-repositories.html#what-should-i-push-to-github"><i class="fa fa-check"></i><b>4.1.2</b> What Should I Push to GitHub?</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="working-with-remote-repositories.html"><a href="working-with-remote-repositories.html#basic-github-account-setup"><i class="fa fa-check"></i><b>4.2</b> Basic GitHub Account Setup</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="working-with-remote-repositories.html"><a href="working-with-remote-repositories.html#locally-setting-up-your-git-credentials"><i class="fa fa-check"></i><b>4.2.1</b> Locally Setting Up Your Git Credentials</a></li>
<li class="chapter" data-level="4.2.2" data-path="working-with-remote-repositories.html"><a href="working-with-remote-repositories.html#ssh-keys-and-github"><i class="fa fa-check"></i><b>4.2.2</b> SSH Keys and GitHub</a></li>
<li class="chapter" data-level="4.2.3" data-path="working-with-remote-repositories.html"><a href="working-with-remote-repositories.html#connecting-to-github-with-ssh"><i class="fa fa-check"></i><b>4.2.3</b> Connecting to GitHub with SSH</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="working-with-remote-repositories.html"><a href="working-with-remote-repositories.html#github-desktop-or-the-command-line"><i class="fa fa-check"></i><b>4.3</b> GitHub Desktop, or the Command Line?</a></li>
<li class="chapter" data-level="4.4" data-path="working-with-remote-repositories.html"><a href="working-with-remote-repositories.html#sync-with-github"><i class="fa fa-check"></i><b>4.4</b> Sync with GitHub</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="working-with-remote-repositories.html"><a href="working-with-remote-repositories.html#preparing-to-sync-your-repository"><i class="fa fa-check"></i><b>4.4.1</b> Preparing to Sync Your Repository</a></li>
<li class="chapter" data-level="4.4.2" data-path="working-with-remote-repositories.html"><a href="working-with-remote-repositories.html#pushing-a-local-repository"><i class="fa fa-check"></i><b>4.4.2</b> Pushing a Local Repository</a></li>
<li class="chapter" data-level="4.4.3" data-path="working-with-remote-repositories.html"><a href="working-with-remote-repositories.html#tracking-files-remotely"><i class="fa fa-check"></i><b>4.4.3</b> Tracking Files Remotely</a></li>
<li class="chapter" data-level="4.4.4" data-path="working-with-remote-repositories.html"><a href="working-with-remote-repositories.html#pulling-changes-from-a-remote-repository"><i class="fa fa-check"></i><b>4.4.4</b> Pulling Changes from a Remote Repository</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="working-with-remote-repositories.html"><a href="working-with-remote-repositories.html#cloning-a-repository"><i class="fa fa-check"></i><b>4.5</b> Cloning a Repository</a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="working-with-remote-repositories.html"><a href="working-with-remote-repositories.html#how-to-clone-a-repository"><i class="fa fa-check"></i><b>4.5.1</b> How to Clone a Repository</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="introduction-to-r.html"><a href="introduction-to-r.html"><i class="fa fa-check"></i><b>5</b> Introduction to R</a>
<ul>
<li class="chapter" data-level="5.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#learning-objectives"><i class="fa fa-check"></i><b>5.1</b> Learning objectives</a></li>
<li class="chapter" data-level="5.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#before-we-start"><i class="fa fa-check"></i><b>5.2</b> Before We Start</a></li>
<li class="chapter" data-level="5.3" data-path="introduction-to-r.html"><a href="introduction-to-r.html#mathematical-operations"><i class="fa fa-check"></i><b>5.3</b> Mathematical Operations</a></li>
<li class="chapter" data-level="5.4" data-path="introduction-to-r.html"><a href="introduction-to-r.html#variables"><i class="fa fa-check"></i><b>5.4</b> Variables</a></li>
<li class="chapter" data-level="5.5" data-path="introduction-to-r.html"><a href="introduction-to-r.html#calling-functions"><i class="fa fa-check"></i><b>5.5</b> Calling Functions</a></li>
<li class="chapter" data-level="5.6" data-path="introduction-to-r.html"><a href="introduction-to-r.html#help"><i class="fa fa-check"></i><b>5.6</b> HELP!</a>
<ul>
<li class="chapter" data-level="5.6.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#when-something-goes-wrong-and-it-will"><i class="fa fa-check"></i><b>5.6.1</b> When Something Goes Wrong (and it will)</a></li>
</ul></li>
<li class="chapter" data-level="5.7" data-path="introduction-to-r.html"><a href="introduction-to-r.html#vectors"><i class="fa fa-check"></i><b>5.7</b> Vectors</a>
<ul>
<li class="chapter" data-level="5.7.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#indexing-vectors"><i class="fa fa-check"></i><b>5.7.1</b> Indexing Vectors</a></li>
<li class="chapter" data-level="5.7.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#vectorization"><i class="fa fa-check"></i><b>5.7.2</b> Vectorization</a></li>
</ul></li>
<li class="chapter" data-level="5.8" data-path="introduction-to-r.html"><a href="introduction-to-r.html#data-frames"><i class="fa fa-check"></i><b>5.8</b> Data Frames</a>
<ul>
<li class="chapter" data-level="5.8.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#selecting-columns"><i class="fa fa-check"></i><b>5.8.1</b> Selecting Columns</a></li>
<li class="chapter" data-level="5.8.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#inspecting-data"><i class="fa fa-check"></i><b>5.8.2</b> Inspecting Data</a></li>
</ul></li>
<li class="chapter" data-level="5.9" data-path="introduction-to-r.html"><a href="introduction-to-r.html#data-types-classes"><i class="fa fa-check"></i><b>5.9</b> Data Types &amp; Classes</a>
<ul>
<li class="chapter" data-level="5.9.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#lists"><i class="fa fa-check"></i><b>5.9.1</b> Lists</a></li>
<li class="chapter" data-level="5.9.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#implicit-coercion"><i class="fa fa-check"></i><b>5.9.2</b> Implicit Coercion</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="control-structures.html"><a href="control-structures.html"><i class="fa fa-check"></i><b>6</b> Control Structures</a>
<ul>
<li class="chapter" data-level="6.1" data-path="control-structures.html"><a href="control-structures.html#if-statement"><i class="fa fa-check"></i><b>6.1</b> <em>If</em> Statement</a></li>
<li class="chapter" data-level="6.2" data-path="control-structures.html"><a href="control-structures.html#relationship-operators"><i class="fa fa-check"></i><b>6.2</b> Relationship Operators</a></li>
<li class="chapter" data-level="6.3" data-path="control-structures.html"><a href="control-structures.html#if-else-statement"><i class="fa fa-check"></i><b>6.3</b> <em>If Else</em> Statement</a></li>
<li class="chapter" data-level="6.4" data-path="control-structures.html"><a href="control-structures.html#ifelse-statement"><i class="fa fa-check"></i><b>6.4</b> <em>ifelse</em> Statement</a></li>
<li class="chapter" data-level="6.5" data-path="control-structures.html"><a href="control-structures.html#the-switch-statement"><i class="fa fa-check"></i><b>6.5</b> The <em>switch</em> Statement</a></li>
<li class="chapter" data-level="6.6" data-path="control-structures.html"><a href="control-structures.html#the-which-statement"><i class="fa fa-check"></i><b>6.6</b> The <em>which</em> Statement</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="iterating-loops.html"><a href="iterating-loops.html"><i class="fa fa-check"></i><b>7</b> Iterating (Loops)</a>
<ul>
<li class="chapter" data-level="7.1" data-path="iterating-loops.html"><a href="iterating-loops.html#for-i-in-x-loops"><i class="fa fa-check"></i><b>7.1</b> For <em>i</em> in <em>x</em> Loops</a></li>
<li class="chapter" data-level="7.2" data-path="iterating-loops.html"><a href="iterating-loops.html#while-loops"><i class="fa fa-check"></i><b>7.2</b> <em>While</em> Loops</a></li>
<li class="chapter" data-level="7.3" data-path="iterating-loops.html"><a href="iterating-loops.html#repeat-loops"><i class="fa fa-check"></i><b>7.3</b> <em>Repeat</em> Loops</a></li>
<li class="chapter" data-level="7.4" data-path="iterating-loops.html"><a href="iterating-loops.html#break-and-next"><i class="fa fa-check"></i><b>7.4</b> <em>Break</em> and <em>Next</em></a></li>
<li class="chapter" data-level="7.5" data-path="iterating-loops.html"><a href="iterating-loops.html#iterating-data.frame-rows-in-r"><i class="fa fa-check"></i><b>7.5</b> Iterating Data.Frame Rows in R</a></li>
<li class="chapter" data-level="7.6" data-path="iterating-loops.html"><a href="iterating-loops.html#lapply"><i class="fa fa-check"></i><b>7.6</b> <em>lapply()</em></a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="functions.html"><a href="functions.html"><i class="fa fa-check"></i><b>8</b> Functions</a>
<ul>
<li class="chapter" data-level="8.1" data-path="functions.html"><a href="functions.html#learning-objectives-1"><i class="fa fa-check"></i><b>8.1</b> Learning objectives</a></li>
<li class="chapter" data-level="8.2" data-path="functions.html"><a href="functions.html#what-is-a-function"><i class="fa fa-check"></i><b>8.2</b> What is a function?</a></li>
<li class="chapter" data-level="8.3" data-path="functions.html"><a href="functions.html#what-is-the-basic-syntax-of-a-function-in-r"><i class="fa fa-check"></i><b>8.3</b> What is the basic syntax of a function in R?</a></li>
<li class="chapter" data-level="8.4" data-path="functions.html"><a href="functions.html#building-and-calling-functions"><i class="fa fa-check"></i><b>8.4</b> Building and calling functions</a>
<ul>
<li class="chapter" data-level="8.4.1" data-path="functions.html"><a href="functions.html#step-1-building-the-function"><i class="fa fa-check"></i><b>8.4.1</b> Step 1: Building the function</a></li>
<li class="chapter" data-level="8.4.2" data-path="functions.html"><a href="functions.html#step-2-calling-the-function"><i class="fa fa-check"></i><b>8.4.2</b> Step 2: Calling the function</a></li>
<li class="chapter" data-level="8.4.3" data-path="functions.html"><a href="functions.html#example-function-with-one-argument"><i class="fa fa-check"></i><b>8.4.3</b> Example function with one argument</a></li>
<li class="chapter" data-level="8.4.4" data-path="functions.html"><a href="functions.html#example-function-with-more-than-one-argument"><i class="fa fa-check"></i><b>8.4.4</b> Example function with more than one argument</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="functions.html"><a href="functions.html#saving-functions-and-sourcing-them-from-another-file"><i class="fa fa-check"></i><b>8.5</b> Saving functions and sourcing them from another file</a></li>
<li class="chapter" data-level="8.6" data-path="functions.html"><a href="functions.html#saving-functions-and-calling-them-from-another-file"><i class="fa fa-check"></i><b>8.6</b> Saving functions and calling them from another file</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="working-with-files-and-packages.html"><a href="working-with-files-and-packages.html"><i class="fa fa-check"></i><b>9</b> Working with Files and Packages</a>
<ul>
<li class="chapter" data-level="9.1" data-path="working-with-files-and-packages.html"><a href="working-with-files-and-packages.html#learning-objectives-2"><i class="fa fa-check"></i><b>9.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="9.2" data-path="working-with-files-and-packages.html"><a href="working-with-files-and-packages.html#setup"><i class="fa fa-check"></i><b>9.2</b> Setup</a></li>
<li class="chapter" data-level="9.3" data-path="working-with-files-and-packages.html"><a href="working-with-files-and-packages.html#exploring-files"><i class="fa fa-check"></i><b>9.3</b> Exploring Files</a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="working-with-files-and-packages.html"><a href="working-with-files-and-packages.html#file-extensions"><i class="fa fa-check"></i><b>9.3.1</b> File Extensions</a></li>
<li class="chapter" data-level="9.3.2" data-path="working-with-files-and-packages.html"><a href="working-with-files-and-packages.html#text-files"><i class="fa fa-check"></i><b>9.3.2</b> Text Files</a></li>
<li class="chapter" data-level="9.3.3" data-path="working-with-files-and-packages.html"><a href="working-with-files-and-packages.html#binary-files"><i class="fa fa-check"></i><b>9.3.3</b> Binary Files</a></li>
<li class="chapter" data-level="9.3.4" data-path="working-with-files-and-packages.html"><a href="working-with-files-and-packages.html#common-data-file-types"><i class="fa fa-check"></i><b>9.3.4</b> Common Data File Types</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="working-with-files-and-packages.html"><a href="working-with-files-and-packages.html#reading-and-writing-files-in-r"><i class="fa fa-check"></i><b>9.4</b> Reading and Writing Files in R</a>
<ul>
<li class="chapter" data-level="9.4.1" data-path="working-with-files-and-packages.html"><a href="working-with-files-and-packages.html#the-working-directory"><i class="fa fa-check"></i><b>9.4.1</b> The Working Directory</a></li>
<li class="chapter" data-level="9.4.2" data-path="working-with-files-and-packages.html"><a href="working-with-files-and-packages.html#reading-a-csv-file"><i class="fa fa-check"></i><b>9.4.2</b> Reading a CSV File</a></li>
<li class="chapter" data-level="9.4.3" data-path="working-with-files-and-packages.html"><a href="working-with-files-and-packages.html#reader-functions-for-tabular-data"><i class="fa fa-check"></i><b>9.4.3</b> Reader Functions for Tabular Data</a></li>
<li class="chapter" data-level="9.4.4" data-path="working-with-files-and-packages.html"><a href="working-with-files-and-packages.html#rds"><i class="fa fa-check"></i><b>9.4.4</b> RDS</a></li>
<li class="chapter" data-level="9.4.5" data-path="working-with-files-and-packages.html"><a href="working-with-files-and-packages.html#writing-a-csv"><i class="fa fa-check"></i><b>9.4.5</b> Writing a csv</a></li>
<li class="chapter" data-level="9.4.6" data-path="working-with-files-and-packages.html"><a href="working-with-files-and-packages.html#excel-files-in-r"><i class="fa fa-check"></i><b>9.4.6</b> Excel Files in R</a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="working-with-files-and-packages.html"><a href="working-with-files-and-packages.html#packages"><i class="fa fa-check"></i><b>9.5</b> Packages</a>
<ul>
<li class="chapter" data-level="9.5.1" data-path="working-with-files-and-packages.html"><a href="working-with-files-and-packages.html#cran"><i class="fa fa-check"></i><b>9.5.1</b> CRAN</a></li>
<li class="chapter" data-level="9.5.2" data-path="working-with-files-and-packages.html"><a href="working-with-files-and-packages.html#using-packages"><i class="fa fa-check"></i><b>9.5.2</b> Using Packages</a></li>
<li class="chapter" data-level="9.5.3" data-path="working-with-files-and-packages.html"><a href="working-with-files-and-packages.html#load-excel-data"><i class="fa fa-check"></i><b>9.5.3</b> Load Excel Data</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="factors-special-values-and-indexing.html"><a href="factors-special-values-and-indexing.html"><i class="fa fa-check"></i><b>10</b> Factors, Special Values, and Indexing</a>
<ul>
<li class="chapter" data-level="10.1" data-path="factors-special-values-and-indexing.html"><a href="factors-special-values-and-indexing.html#learning-objectives-3"><i class="fa fa-check"></i><b>10.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="10.2" data-path="factors-special-values-and-indexing.html"><a href="factors-special-values-and-indexing.html#factors"><i class="fa fa-check"></i><b>10.2</b> Factors</a></li>
<li class="chapter" data-level="10.3" data-path="factors-special-values-and-indexing.html"><a href="factors-special-values-and-indexing.html#special-values"><i class="fa fa-check"></i><b>10.3</b> Special Values</a>
<ul>
<li class="chapter" data-level="10.3.1" data-path="factors-special-values-and-indexing.html"><a href="factors-special-values-and-indexing.html#missing-values"><i class="fa fa-check"></i><b>10.3.1</b> Missing Values</a></li>
<li class="chapter" data-level="10.3.2" data-path="factors-special-values-and-indexing.html"><a href="factors-special-values-and-indexing.html#not-a-number"><i class="fa fa-check"></i><b>10.3.2</b> Not a Number</a></li>
<li class="chapter" data-level="10.3.3" data-path="factors-special-values-and-indexing.html"><a href="factors-special-values-and-indexing.html#null"><i class="fa fa-check"></i><b>10.3.3</b> Null</a></li>
<li class="chapter" data-level="10.3.4" data-path="factors-special-values-and-indexing.html"><a href="factors-special-values-and-indexing.html#infinity"><i class="fa fa-check"></i><b>10.3.4</b> Infinity</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="factors-special-values-and-indexing.html"><a href="factors-special-values-and-indexing.html#indexing"><i class="fa fa-check"></i><b>10.4</b> Indexing</a>
<ul>
<li class="chapter" data-level="10.4.1" data-path="factors-special-values-and-indexing.html"><a href="factors-special-values-and-indexing.html#all-elements"><i class="fa fa-check"></i><b>10.4.1</b> All Elements</a></li>
<li class="chapter" data-level="10.4.2" data-path="factors-special-values-and-indexing.html"><a href="factors-special-values-and-indexing.html#by-position"><i class="fa fa-check"></i><b>10.4.2</b> By Position</a></li>
<li class="chapter" data-level="10.4.3" data-path="factors-special-values-and-indexing.html"><a href="factors-special-values-and-indexing.html#by-name"><i class="fa fa-check"></i><b>10.4.3</b> By Name</a></li>
<li class="chapter" data-level="10.4.4" data-path="factors-special-values-and-indexing.html"><a href="factors-special-values-and-indexing.html#by-condition"><i class="fa fa-check"></i><b>10.4.4</b> By Condition</a></li>
<li class="chapter" data-level="10.4.5" data-path="factors-special-values-and-indexing.html"><a href="factors-special-values-and-indexing.html#logic"><i class="fa fa-check"></i><b>10.4.5</b> Logic</a></li>
<li class="chapter" data-level="10.4.6" data-path="factors-special-values-and-indexing.html"><a href="factors-special-values-and-indexing.html#indexing-lists"><i class="fa fa-check"></i><b>10.4.6</b> Indexing Lists</a></li>
<li class="chapter" data-level="10.4.7" data-path="factors-special-values-and-indexing.html"><a href="factors-special-values-and-indexing.html#indexing-data-frames"><i class="fa fa-check"></i><b>10.4.7</b> Indexing Data Frames</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="data-forensics.html"><a href="data-forensics.html"><i class="fa fa-check"></i><b>11</b> Data Forensics</a>
<ul>
<li class="chapter" data-level="11.1" data-path="data-forensics.html"><a href="data-forensics.html#learning-objectives-4"><i class="fa fa-check"></i><b>11.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="11.2" data-path="data-forensics.html"><a href="data-forensics.html#structural-summaries-cleaning"><i class="fa fa-check"></i><b>11.2</b> Structural Summaries &amp; Cleaning</a>
<ul>
<li class="chapter" data-level="11.2.1" data-path="data-forensics.html"><a href="data-forensics.html#dates"><i class="fa fa-check"></i><b>11.2.1</b> Dates</a></li>
<li class="chapter" data-level="11.2.2" data-path="data-forensics.html"><a href="data-forensics.html#tidy-data"><i class="fa fa-check"></i><b>11.2.2</b> Tidy Data</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="data-forensics.html"><a href="data-forensics.html#statistical-forensics"><i class="fa fa-check"></i><b>11.3</b> Statistical Forensics</a>
<ul>
<li class="chapter" data-level="11.3.1" data-path="data-forensics.html"><a href="data-forensics.html#missing-values-1"><i class="fa fa-check"></i><b>11.3.1</b> Missing Values</a></li>
<li class="chapter" data-level="11.3.2" data-path="data-forensics.html"><a href="data-forensics.html#outliers"><i class="fa fa-check"></i><b>11.3.2</b> Outliers</a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="data-forensics.html"><a href="data-forensics.html#apply-functions"><i class="fa fa-check"></i><b>11.4</b> Apply Functions</a>
<ul>
<li class="chapter" data-level="11.4.1" data-path="data-forensics.html"><a href="data-forensics.html#the-sapply-function"><i class="fa fa-check"></i><b>11.4.1</b> The <code>sapply</code> Function</a></li>
<li class="chapter" data-level="11.4.2" data-path="data-forensics.html"><a href="data-forensics.html#the-split-apply-pattern"><i class="fa fa-check"></i><b>11.4.2</b> The Split-Apply Pattern</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="data-structures.html"><a href="data-structures.html"><i class="fa fa-check"></i><b>12</b> Data Structures</a>
<ul>
<li class="chapter" data-level="12.1" data-path="data-structures.html"><a href="data-structures.html#tabular-data"><i class="fa fa-check"></i><b>12.1</b> Tabular Data</a></li>
<li class="chapter" data-level="12.2" data-path="data-structures.html"><a href="data-structures.html#tree-document-data-structures"><i class="fa fa-check"></i><b>12.2</b> Tree / Document Data Structures</a>
<ul>
<li class="chapter" data-level="12.2.1" data-path="data-structures.html"><a href="data-structures.html#structuring-data-as-xml"><i class="fa fa-check"></i><b>12.2.1</b> Structuring Data as XML</a></li>
<li class="chapter" data-level="12.2.2" data-path="data-structures.html"><a href="data-structures.html#structuring-data-as-json"><i class="fa fa-check"></i><b>12.2.2</b> Structuring Data as JSON</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="data-structures.html"><a href="data-structures.html#relational-databases"><i class="fa fa-check"></i><b>12.3</b> Relational Databases</a></li>
<li class="chapter" data-level="12.4" data-path="data-structures.html"><a href="data-structures.html#non-hierarchical-relational-data"><i class="fa fa-check"></i><b>12.4</b> Non-Hierarchical Relational Data</a></li>
<li class="chapter" data-level="12.5" data-path="data-structures.html"><a href="data-structures.html#geospatial-data"><i class="fa fa-check"></i><b>12.5</b> Geospatial Data</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="data-visualization-principles-perception.html"><a href="data-visualization-principles-perception.html"><i class="fa fa-check"></i><b>13</b> Data Visualization Principles &amp; Perception</a>
<ul>
<li class="chapter" data-level="13.1" data-path="data-visualization-principles-perception.html"><a href="data-visualization-principles-perception.html#learning-objectives-5"><i class="fa fa-check"></i><b>13.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="13.2" data-path="data-visualization-principles-perception.html"><a href="data-visualization-principles-perception.html#introduction"><i class="fa fa-check"></i><b>13.2</b> Introduction</a>
<ul>
<li class="chapter" data-level="13.2.1" data-path="data-visualization-principles-perception.html"><a href="data-visualization-principles-perception.html#a-brief-history-of-data-visualization"><i class="fa fa-check"></i><b>13.2.1</b> A Brief History of Data Visualization</a></li>
<li class="chapter" data-level="13.2.2" data-path="data-visualization-principles-perception.html"><a href="data-visualization-principles-perception.html#famous-data-visualizations"><i class="fa fa-check"></i><b>13.2.2</b> Famous Data Visualizations</a></li>
</ul></li>
<li class="chapter" data-level="13.3" data-path="data-visualization-principles-perception.html"><a href="data-visualization-principles-perception.html#what-is-data-visualization"><i class="fa fa-check"></i><b>13.3</b> What is Data Visualization?</a>
<ul>
<li class="chapter" data-level="13.3.1" data-path="data-visualization-principles-perception.html"><a href="data-visualization-principles-perception.html#why-viz"><i class="fa fa-check"></i><b>13.3.1</b> Why viz?</a></li>
<li class="chapter" data-level="13.3.2" data-path="data-visualization-principles-perception.html"><a href="data-visualization-principles-perception.html#good-data-visualizations"><i class="fa fa-check"></i><b>13.3.2</b> Good data visualizations</a></li>
<li class="chapter" data-level="13.3.3" data-path="data-visualization-principles-perception.html"><a href="data-visualization-principles-perception.html#bad-data-visualizations"><i class="fa fa-check"></i><b>13.3.3</b> Bad data visualizations</a></li>
</ul></li>
<li class="chapter" data-level="13.4" data-path="data-visualization-principles-perception.html"><a href="data-visualization-principles-perception.html#before-you-viz-make-a-plan"><i class="fa fa-check"></i><b>13.4</b> Before You Viz, Make a Plan</a>
<ul>
<li class="chapter" data-level="13.4.1" data-path="data-visualization-principles-perception.html"><a href="data-visualization-principles-perception.html#purpose"><i class="fa fa-check"></i><b>13.4.1</b> Purpose</a></li>
<li class="chapter" data-level="13.4.2" data-path="data-visualization-principles-perception.html"><a href="data-visualization-principles-perception.html#audience"><i class="fa fa-check"></i><b>13.4.2</b> Audience</a></li>
<li class="chapter" data-level="13.4.3" data-path="data-visualization-principles-perception.html"><a href="data-visualization-principles-perception.html#medium"><i class="fa fa-check"></i><b>13.4.3</b> Medium</a></li>
<li class="chapter" data-level="13.4.4" data-path="data-visualization-principles-perception.html"><a href="data-visualization-principles-perception.html#tools"><i class="fa fa-check"></i><b>13.4.4</b> Tools</a></li>
<li class="chapter" data-level="13.4.5" data-path="data-visualization-principles-perception.html"><a href="data-visualization-principles-perception.html#message"><i class="fa fa-check"></i><b>13.4.5</b> Message</a></li>
<li class="chapter" data-level="13.4.6" data-path="data-visualization-principles-perception.html"><a href="data-visualization-principles-perception.html#critical-approaches"><i class="fa fa-check"></i><b>13.4.6</b> Critical Approaches</a></li>
</ul></li>
<li class="chapter" data-level="13.5" data-path="data-visualization-principles-perception.html"><a href="data-visualization-principles-perception.html#graphical-elements-of-a-plot"><i class="fa fa-check"></i><b>13.5</b> Graphical Elements of a Plot</a></li>
<li class="chapter" data-level="13.6" data-path="data-visualization-principles-perception.html"><a href="data-visualization-principles-perception.html#principles-of-visual-perception"><i class="fa fa-check"></i><b>13.6</b> Principles of Visual Perception</a>
<ul>
<li class="chapter" data-level="13.6.1" data-path="data-visualization-principles-perception.html"><a href="data-visualization-principles-perception.html#visual-magic-tricks"><i class="fa fa-check"></i><b>13.6.1</b> Visual Magic Tricks</a></li>
<li class="chapter" data-level="13.6.2" data-path="data-visualization-principles-perception.html"><a href="data-visualization-principles-perception.html#stevens-psychophysical-power-law"><i class="fa fa-check"></i><b>13.6.2</b> Steven’s Psychophysical Power Law</a></li>
<li class="chapter" data-level="13.6.3" data-path="data-visualization-principles-perception.html"><a href="data-visualization-principles-perception.html#perception-and-encodings"><i class="fa fa-check"></i><b>13.6.3</b> Perception and Encodings</a></li>
<li class="chapter" data-level="13.6.4" data-path="data-visualization-principles-perception.html"><a href="data-visualization-principles-perception.html#evaluating-graphics"><i class="fa fa-check"></i><b>13.6.4</b> Evaluating Graphics</a></li>
<li class="chapter" data-level="13.6.5" data-path="data-visualization-principles-perception.html"><a href="data-visualization-principles-perception.html#gestalt-principles"><i class="fa fa-check"></i><b>13.6.5</b> Gestalt Principles</a></li>
</ul></li>
<li class="chapter" data-level="13.7" data-path="data-visualization-principles-perception.html"><a href="data-visualization-principles-perception.html#accessible-data-visualizations"><i class="fa fa-check"></i><b>13.7</b> Accessible Data Visualizations</a></li>
<li class="chapter" data-level="13.8" data-path="data-visualization-principles-perception.html"><a href="data-visualization-principles-perception.html#designing-statistical-graphics"><i class="fa fa-check"></i><b>13.8</b> Designing Statistical Graphics</a>
<ul>
<li class="chapter" data-level="13.8.1" data-path="data-visualization-principles-perception.html"><a href="data-visualization-principles-perception.html#step-1-identify-your-data-type"><i class="fa fa-check"></i><b>13.8.1</b> Step 1: Identify Your Data Type</a></li>
<li class="chapter" data-level="13.8.2" data-path="data-visualization-principles-perception.html"><a href="data-visualization-principles-perception.html#step-2-determine-your-functional-approach"><i class="fa fa-check"></i><b>13.8.2</b> Step 2: Determine Your Functional Approach</a></li>
<li class="chapter" data-level="13.8.3" data-path="data-visualization-principles-perception.html"><a href="data-visualization-principles-perception.html#step-3-select-a-plot-type"><i class="fa fa-check"></i><b>13.8.3</b> Step 3: Select a Plot Type</a></li>
<li class="chapter" data-level="13.8.4" data-path="data-visualization-principles-perception.html"><a href="data-visualization-principles-perception.html#step-4-iterate"><i class="fa fa-check"></i><b>13.8.4</b> Step 4: Iterate</a></li>
</ul></li>
<li class="chapter" data-level="13.9" data-path="data-visualization-principles-perception.html"><a href="data-visualization-principles-perception.html#tips-for-better-plots"><i class="fa fa-check"></i><b>13.9</b> Tips for Better Plots</a>
<ul>
<li class="chapter" data-level="13.9.1" data-path="data-visualization-principles-perception.html"><a href="data-visualization-principles-perception.html#get-rid-of-chartjunk"><i class="fa fa-check"></i><b>13.9.1</b> Get Rid of Chartjunk</a></li>
<li class="chapter" data-level="13.9.2" data-path="data-visualization-principles-perception.html"><a href="data-visualization-principles-perception.html#facilitate-comparisons"><i class="fa fa-check"></i><b>13.9.2</b> Facilitate Comparisons</a></li>
<li class="chapter" data-level="13.9.3" data-path="data-visualization-principles-perception.html"><a href="data-visualization-principles-perception.html#create-information-rich-plots"><i class="fa fa-check"></i><b>13.9.3</b> Create Information-Rich Plots</a></li>
<li class="chapter" data-level="13.9.4" data-path="data-visualization-principles-perception.html"><a href="data-visualization-principles-perception.html#dont-distort-the-data"><i class="fa fa-check"></i><b>13.9.4</b> Don’t Distort the Data</a></li>
<li class="chapter" data-level="13.9.5" data-path="data-visualization-principles-perception.html"><a href="data-visualization-principles-perception.html#practice"><i class="fa fa-check"></i><b>13.9.5</b> Practice</a></li>
</ul></li>
<li class="chapter" data-level="13.10" data-path="data-visualization-principles-perception.html"><a href="data-visualization-principles-perception.html#references-and-additional-resources"><i class="fa fa-check"></i><b>13.10</b> References and Additional Resources</a>
<ul>
<li class="chapter" data-level="13.10.1" data-path="data-visualization-principles-perception.html"><a href="data-visualization-principles-perception.html#articles"><i class="fa fa-check"></i><b>13.10.1</b> Articles</a></li>
<li class="chapter" data-level="13.10.2" data-path="data-visualization-principles-perception.html"><a href="data-visualization-principles-perception.html#websites"><i class="fa fa-check"></i><b>13.10.2</b> Websites</a></li>
<li class="chapter" data-level="13.10.3" data-path="data-visualization-principles-perception.html"><a href="data-visualization-principles-perception.html#books-and-chapters"><i class="fa fa-check"></i><b>13.10.3</b> Books and Chapters</a></li>
<li class="chapter" data-level="13.10.4" data-path="data-visualization-principles-perception.html"><a href="data-visualization-principles-perception.html#historical-books"><i class="fa fa-check"></i><b>13.10.4</b> Historical Books</a></li>
<li class="chapter" data-level="13.10.5" data-path="data-visualization-principles-perception.html"><a href="data-visualization-principles-perception.html#r-graphics-references"><i class="fa fa-check"></i><b>13.10.5</b> R Graphics References</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="14" data-path="data-viz-with-ggplot-in-r.html"><a href="data-viz-with-ggplot-in-r.html"><i class="fa fa-check"></i><b>14</b> Data Viz with ggplot in R</a>
<ul>
<li class="chapter" data-level="14.1" data-path="data-viz-with-ggplot-in-r.html"><a href="data-viz-with-ggplot-in-r.html#learning-objectives-6"><i class="fa fa-check"></i><b>14.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="14.2" data-path="data-viz-with-ggplot-in-r.html"><a href="data-viz-with-ggplot-in-r.html#r-graphics-overview"><i class="fa fa-check"></i><b>14.2</b> R Graphics Overview</a></li>
<li class="chapter" data-level="14.3" data-path="data-viz-with-ggplot-in-r.html"><a href="data-viz-with-ggplot-in-r.html#the-grammar-of-graphics"><i class="fa fa-check"></i><b>14.3</b> The Grammar of Graphics</a>
<ul>
<li class="chapter" data-level="14.3.1" data-path="data-viz-with-ggplot-in-r.html"><a href="data-viz-with-ggplot-in-r.html#making-a-plot"><i class="fa fa-check"></i><b>14.3.1</b> Making a Plot</a></li>
<li class="chapter" data-level="14.3.2" data-path="data-viz-with-ggplot-in-r.html"><a href="data-viz-with-ggplot-in-r.html#saving-plots"><i class="fa fa-check"></i><b>14.3.2</b> Saving Plots</a></li>
<li class="chapter" data-level="14.3.3" data-path="data-viz-with-ggplot-in-r.html"><a href="data-viz-with-ggplot-in-r.html#example-bar-plot"><i class="fa fa-check"></i><b>14.3.3</b> Example: Bar Plot</a></li>
</ul></li>
<li class="chapter" data-level="14.4" data-path="data-viz-with-ggplot-in-r.html"><a href="data-viz-with-ggplot-in-r.html#remembering-factors"><i class="fa fa-check"></i><b>14.4</b> Remembering factors</a>
<ul>
<li class="chapter" data-level="14.4.1" data-path="data-viz-with-ggplot-in-r.html"><a href="data-viz-with-ggplot-in-r.html#assigning-factor-levels"><i class="fa fa-check"></i><b>14.4.1</b> Assigning factor levels</a></li>
</ul></li>
<li class="chapter" data-level="14.5" data-path="data-viz-with-ggplot-in-r.html"><a href="data-viz-with-ggplot-in-r.html#designing-a-visualization"><i class="fa fa-check"></i><b>14.5</b> Designing a Visualization</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="how-the-web-works.html"><a href="how-the-web-works.html"><i class="fa fa-check"></i><b>15</b> How the Web Works</a>
<ul>
<li class="chapter" data-level="15.1" data-path="how-the-web-works.html"><a href="how-the-web-works.html#client-server-architecture"><i class="fa fa-check"></i><b>15.1</b> Client-Server Architecture</a>
<ul>
<li class="chapter" data-level="15.1.1" data-path="how-the-web-works.html"><a href="how-the-web-works.html#communication-between-clients-and-servers"><i class="fa fa-check"></i><b>15.1.1</b> Communication Between Clients and Servers</a></li>
<li class="chapter" data-level="15.1.2" data-path="how-the-web-works.html"><a href="how-the-web-works.html#domain-name-resolution"><i class="fa fa-check"></i><b>15.1.2</b> Domain Name Resolution</a></li>
<li class="chapter" data-level="15.1.3" data-path="how-the-web-works.html"><a href="how-the-web-works.html#request-routing"><i class="fa fa-check"></i><b>15.1.3</b> Request Routing</a></li>
<li class="chapter" data-level="15.1.4" data-path="how-the-web-works.html"><a href="how-the-web-works.html#the-server-response"><i class="fa fa-check"></i><b>15.1.4</b> The Server Response</a></li>
<li class="chapter" data-level="15.1.5" data-path="how-the-web-works.html"><a href="how-the-web-works.html#internet-transfer-protocols"><i class="fa fa-check"></i><b>15.1.5</b> Internet Transfer Protocols</a></li>
</ul></li>
<li class="chapter" data-level="15.2" data-path="how-the-web-works.html"><a href="how-the-web-works.html#understanding-urls"><i class="fa fa-check"></i><b>15.2</b> Understanding URLs</a>
<ul>
<li class="chapter" data-level="15.2.1" data-path="how-the-web-works.html"><a href="how-the-web-works.html#dynamic-files"><i class="fa fa-check"></i><b>15.2.1</b> Dynamic Files</a></li>
<li class="chapter" data-level="15.2.2" data-path="how-the-web-works.html"><a href="how-the-web-works.html#query-strings"><i class="fa fa-check"></i><b>15.2.2</b> Query Strings</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="16" data-path="getting-data-from-the-web.html"><a href="getting-data-from-the-web.html"><i class="fa fa-check"></i><b>16</b> Getting Data from the Web</a>
<ul>
<li class="chapter" data-level="16.1" data-path="getting-data-from-the-web.html"><a href="getting-data-from-the-web.html#overview-1"><i class="fa fa-check"></i><b>16.1</b> Overview</a></li>
<li class="chapter" data-level="16.2" data-path="getting-data-from-the-web.html"><a href="getting-data-from-the-web.html#apis"><i class="fa fa-check"></i><b>16.2</b> APIs</a>
<ul>
<li class="chapter" data-level="16.2.1" data-path="getting-data-from-the-web.html"><a href="getting-data-from-the-web.html#querying-to-an-api"><i class="fa fa-check"></i><b>16.2.1</b> Querying to an API</a></li>
</ul></li>
<li class="chapter" data-level="16.3" data-path="getting-data-from-the-web.html"><a href="getting-data-from-the-web.html#web-scraping"><i class="fa fa-check"></i><b>16.3</b> Web Scraping</a>
<ul>
<li class="chapter" data-level="16.3.1" data-path="getting-data-from-the-web.html"><a href="getting-data-from-the-web.html#whats-in-a-web-page"><i class="fa fa-check"></i><b>16.3.1</b> What’s in a Web Page?</a></li>
</ul></li>
<li class="chapter" data-level="16.4" data-path="getting-data-from-the-web.html"><a href="getting-data-from-the-web.html#rs-xml-parsers"><i class="fa fa-check"></i><b>16.4</b> R’s XML Parsers</a></li>
<li class="chapter" data-level="16.5" data-path="getting-data-from-the-web.html"><a href="getting-data-from-the-web.html#xpath"><i class="fa fa-check"></i><b>16.5</b> XPath</a>
<ul>
<li class="chapter" data-level="16.5.1" data-path="getting-data-from-the-web.html"><a href="getting-data-from-the-web.html#predicates"><i class="fa fa-check"></i><b>16.5.1</b> Predicates</a></li>
</ul></li>
<li class="chapter" data-level="16.6" data-path="getting-data-from-the-web.html"><a href="getting-data-from-the-web.html#the-web-scraping-workflow"><i class="fa fa-check"></i><b>16.6</b> The Web Scraping Workflow</a>
<ul>
<li class="chapter" data-level="16.6.1" data-path="getting-data-from-the-web.html"><a href="getting-data-from-the-web.html#being-polite"><i class="fa fa-check"></i><b>16.6.1</b> Being Polite</a></li>
</ul></li>
<li class="chapter" data-level="16.7" data-path="getting-data-from-the-web.html"><a href="getting-data-from-the-web.html#case-study-ca-cities"><i class="fa fa-check"></i><b>16.7</b> Case Study: CA Cities</a>
<ul>
<li class="chapter" data-level="16.7.1" data-path="getting-data-from-the-web.html"><a href="getting-data-from-the-web.html#data-cleaning"><i class="fa fa-check"></i><b>16.7.1</b> Data Cleaning</a></li>
</ul></li>
<li class="chapter" data-level="16.8" data-path="getting-data-from-the-web.html"><a href="getting-data-from-the-web.html#case-study-the-ca-aggie"><i class="fa fa-check"></i><b>16.8</b> Case Study: The CA Aggie</a></li>
<li class="chapter" data-level="16.9" data-path="getting-data-from-the-web.html"><a href="getting-data-from-the-web.html#css-selectors"><i class="fa fa-check"></i><b>16.9</b> CSS Selectors</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html"><i class="fa fa-check"></i><b>17</b> Strings and Regular Expressions</a>
<ul>
<li class="chapter" data-level="17.1" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#printing-output"><i class="fa fa-check"></i><b>17.1</b> Printing Output</a></li>
<li class="chapter" data-level="17.2" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#escape-sequences"><i class="fa fa-check"></i><b>17.2</b> Escape Sequences</a>
<ul>
<li class="chapter" data-level="17.2.1" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#raw-strings"><i class="fa fa-check"></i><b>17.2.1</b> Raw Strings</a></li>
</ul></li>
<li class="chapter" data-level="17.3" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#character-encodings"><i class="fa fa-check"></i><b>17.3</b> Character Encodings</a></li>
<li class="chapter" data-level="17.4" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#the-tidyverse"><i class="fa fa-check"></i><b>17.4</b> The Tidyverse</a></li>
<li class="chapter" data-level="17.5" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#the-stringr-package"><i class="fa fa-check"></i><b>17.5</b> The stringr Package</a>
<ul>
<li class="chapter" data-level="17.5.1" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#splitting-strings"><i class="fa fa-check"></i><b>17.5.1</b> Splitting Strings</a></li>
<li class="chapter" data-level="17.5.2" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#replacing-parts-of-strings"><i class="fa fa-check"></i><b>17.5.2</b> Replacing Parts of Strings</a></li>
</ul></li>
<li class="chapter" data-level="17.6" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#regular-expressions"><i class="fa fa-check"></i><b>17.6</b> Regular Expressions</a>
<ul>
<li class="chapter" data-level="17.6.1" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#the-wildcard"><i class="fa fa-check"></i><b>17.6.1</b> The Wildcard</a></li>
<li class="chapter" data-level="17.6.2" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#escape-sequences-1"><i class="fa fa-check"></i><b>17.6.2</b> Escape Sequences</a></li>
<li class="chapter" data-level="17.6.3" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#anchors"><i class="fa fa-check"></i><b>17.6.3</b> Anchors</a></li>
<li class="chapter" data-level="17.6.4" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#character-classes"><i class="fa fa-check"></i><b>17.6.4</b> Character Classes</a></li>
<li class="chapter" data-level="17.6.5" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#quantifiers"><i class="fa fa-check"></i><b>17.6.5</b> Quantifiers</a></li>
<li class="chapter" data-level="17.6.6" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#groups"><i class="fa fa-check"></i><b>17.6.6</b> Groups</a></li>
<li class="chapter" data-level="17.6.7" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#extracting-matches"><i class="fa fa-check"></i><b>17.6.7</b> Extracting Matches</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="18" data-path="optical-character-recognition.html"><a href="optical-character-recognition.html"><i class="fa fa-check"></i><b>18</b> Optical Character Recognition</a>
<ul>
<li class="chapter" data-level="18.1" data-path="optical-character-recognition.html"><a href="optical-character-recognition.html#loading-page-images"><i class="fa fa-check"></i><b>18.1</b> Loading Page Images</a></li>
<li class="chapter" data-level="18.2" data-path="optical-character-recognition.html"><a href="optical-character-recognition.html#running-ocr"><i class="fa fa-check"></i><b>18.2</b> Running OCR</a></li>
<li class="chapter" data-level="18.3" data-path="optical-character-recognition.html"><a href="optical-character-recognition.html#accuracy"><i class="fa fa-check"></i><b>18.3</b> Accuracy</a></li>
<li class="chapter" data-level="18.4" data-path="optical-character-recognition.html"><a href="optical-character-recognition.html#unreadable-text"><i class="fa fa-check"></i><b>18.4</b> Unreadable Text</a></li>
</ul></li>
<li class="chapter" data-level="19" data-path="network-analysis.html"><a href="network-analysis.html"><i class="fa fa-check"></i><b>19</b> Network Analysis</a>
<ul>
<li class="chapter" data-level="19.1" data-path="network-analysis.html"><a href="network-analysis.html#overview-2"><i class="fa fa-check"></i><b>19.1</b> Overview</a>
<ul>
<li class="chapter" data-level="19.1.1" data-path="network-analysis.html"><a href="network-analysis.html#while-you-wait"><i class="fa fa-check"></i><b>19.1.1</b> While you wait</a></li>
<li class="chapter" data-level="19.1.2" data-path="network-analysis.html"><a href="network-analysis.html#learning-objectives-7"><i class="fa fa-check"></i><b>19.1.2</b> Learning Objectives</a></li>
<li class="chapter" data-level="19.1.3" data-path="network-analysis.html"><a href="network-analysis.html#roadmap"><i class="fa fa-check"></i><b>19.1.3</b> Roadmap</a></li>
</ul></li>
<li class="chapter" data-level="19.2" data-path="network-analysis.html"><a href="network-analysis.html#what-is-network-analysis"><i class="fa fa-check"></i><b>19.2</b> What is Network Analysis</a>
<ul>
<li class="chapter" data-level="19.2.1" data-path="network-analysis.html"><a href="network-analysis.html#networks-in-research---social-sciences"><i class="fa fa-check"></i><b>19.2.1</b> Networks in research - Social Sciences</a></li>
<li class="chapter" data-level="19.2.2" data-path="network-analysis.html"><a href="network-analysis.html#networks-in-research---neuroscience"><i class="fa fa-check"></i><b>19.2.2</b> Networks in research - Neuroscience</a></li>
<li class="chapter" data-level="19.2.3" data-path="network-analysis.html"><a href="network-analysis.html#networks-in-research---chemistry"><i class="fa fa-check"></i><b>19.2.3</b> Networks in research - Chemistry</a></li>
<li class="chapter" data-level="19.2.4" data-path="network-analysis.html"><a href="network-analysis.html#networks-in-research---the-internet"><i class="fa fa-check"></i><b>19.2.4</b> Networks in research - The Internet</a></li>
<li class="chapter" data-level="19.2.5" data-path="network-analysis.html"><a href="network-analysis.html#networks-in-research---infrastructure"><i class="fa fa-check"></i><b>19.2.5</b> Networks in research - Infrastructure</a></li>
<li class="chapter" data-level="19.2.6" data-path="network-analysis.html"><a href="network-analysis.html#networks-in-research---security"><i class="fa fa-check"></i><b>19.2.6</b> Networks in research - Security</a></li>
</ul></li>
<li class="chapter" data-level="19.3" data-path="network-analysis.html"><a href="network-analysis.html#network-data"><i class="fa fa-check"></i><b>19.3</b> Network Data</a>
<ul>
<li class="chapter" data-level="19.3.1" data-path="network-analysis.html"><a href="network-analysis.html#edgelist"><i class="fa fa-check"></i><b>19.3.1</b> Edgelist</a></li>
<li class="chapter" data-level="19.3.2" data-path="network-analysis.html"><a href="network-analysis.html#adjacency-matrix"><i class="fa fa-check"></i><b>19.3.2</b> Adjacency Matrix</a></li>
<li class="chapter" data-level="19.3.3" data-path="network-analysis.html"><a href="network-analysis.html#edge-weights"><i class="fa fa-check"></i><b>19.3.3</b> Edge Weights</a></li>
<li class="chapter" data-level="19.3.4" data-path="network-analysis.html"><a href="network-analysis.html#attributes"><i class="fa fa-check"></i><b>19.3.4</b> Attributes</a></li>
<li class="chapter" data-level="19.3.5" data-path="network-analysis.html"><a href="network-analysis.html#create-an-example-network"><i class="fa fa-check"></i><b>19.3.5</b> Create an Example Network</a></li>
<li class="chapter" data-level="19.3.6" data-path="network-analysis.html"><a href="network-analysis.html#components"><i class="fa fa-check"></i><b>19.3.6</b> Components</a></li>
<li class="chapter" data-level="19.3.7" data-path="network-analysis.html"><a href="network-analysis.html#limitations-of-network-data"><i class="fa fa-check"></i><b>19.3.7</b> Limitations of Network Data</a></li>
<li class="chapter" data-level="19.3.8" data-path="network-analysis.html"><a href="network-analysis.html#projected-networks"><i class="fa fa-check"></i><b>19.3.8</b> Projected Networks</a></li>
</ul></li>
<li class="chapter" data-level="19.4" data-path="network-analysis.html"><a href="network-analysis.html#graph-level-properties"><i class="fa fa-check"></i><b>19.4</b> Graph Level Properties</a>
<ul>
<li class="chapter" data-level="19.4.1" data-path="network-analysis.html"><a href="network-analysis.html#directed-or-un-directed"><i class="fa fa-check"></i><b>19.4.1</b> Directed or Un-directed</a></li>
<li class="chapter" data-level="19.4.2" data-path="network-analysis.html"><a href="network-analysis.html#density"><i class="fa fa-check"></i><b>19.4.2</b> Density</a></li>
<li class="chapter" data-level="19.4.3" data-path="network-analysis.html"><a href="network-analysis.html#centralization"><i class="fa fa-check"></i><b>19.4.3</b> Centralization</a></li>
</ul></li>
<li class="chapter" data-level="19.5" data-path="network-analysis.html"><a href="network-analysis.html#node-level-properties"><i class="fa fa-check"></i><b>19.5</b> Node Level Properties</a>
<ul>
<li class="chapter" data-level="19.5.1" data-path="network-analysis.html"><a href="network-analysis.html#degree"><i class="fa fa-check"></i><b>19.5.1</b> Degree</a></li>
<li class="chapter" data-level="19.5.2" data-path="network-analysis.html"><a href="network-analysis.html#geodesic-distance"><i class="fa fa-check"></i><b>19.5.2</b> Geodesic Distance</a></li>
<li class="chapter" data-level="19.5.3" data-path="network-analysis.html"><a href="network-analysis.html#centrality"><i class="fa fa-check"></i><b>19.5.3</b> Centrality</a></li>
</ul></li>
<li class="chapter" data-level="19.6" data-path="network-analysis.html"><a href="network-analysis.html#network-workflow"><i class="fa fa-check"></i><b>19.6</b> Network Workflow</a></li>
<li class="chapter" data-level="19.7" data-path="network-analysis.html"><a href="network-analysis.html#network-tools"><i class="fa fa-check"></i><b>19.7</b> Network Tools</a>
<ul>
<li class="chapter" data-level="19.7.1" data-path="network-analysis.html"><a href="network-analysis.html#network-models"><i class="fa fa-check"></i><b>19.7.1</b> Network Models</a></li>
<li class="chapter" data-level="19.7.2" data-path="network-analysis.html"><a href="network-analysis.html#network-visualization"><i class="fa fa-check"></i><b>19.7.2</b> Network Visualization</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="20" data-path="statistics.html"><a href="statistics.html"><i class="fa fa-check"></i><b>20</b> Statistics</a>
<ul>
<li class="chapter" data-level="20.1" data-path="statistics.html"><a href="statistics.html#introduction-1"><i class="fa fa-check"></i><b>20.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="20.1.1" data-path="statistics.html"><a href="statistics.html#mice_pot-dataset"><i class="fa fa-check"></i><b>20.1.1</b> <code>mice_pot</code> dataset</a></li>
<li class="chapter" data-level="20.1.2" data-path="statistics.html"><a href="statistics.html#barnacles-dataset"><i class="fa fa-check"></i><b>20.1.2</b> <code>barnacles</code> dataset</a></li>
<li class="chapter" data-level="20.1.3" data-path="statistics.html"><a href="statistics.html#sample-and-population"><i class="fa fa-check"></i><b>20.1.3</b> Sample and population</a></li>
</ul></li>
<li class="chapter" data-level="20.2" data-path="statistics.html"><a href="statistics.html#uses-of-simulation"><i class="fa fa-check"></i><b>20.2</b> Uses of simulation</a></li>
<li class="chapter" data-level="20.3" data-path="statistics.html"><a href="statistics.html#mathematical-statistics"><i class="fa fa-check"></i><b>20.3</b> Mathematical statistics</a>
<ul>
<li class="chapter" data-level="20.3.1" data-path="statistics.html"><a href="statistics.html#law-of-large-numbers"><i class="fa fa-check"></i><b>20.3.1</b> Law of large numbers</a></li>
<li class="chapter" data-level="20.3.2" data-path="statistics.html"><a href="statistics.html#central-limit-theorem"><i class="fa fa-check"></i><b>20.3.2</b> Central limit theorem</a></li>
</ul></li>
<li class="chapter" data-level="20.4" data-path="statistics.html"><a href="statistics.html#statistical-inference"><i class="fa fa-check"></i><b>20.4</b> Statistical inference</a>
<ul>
<li class="chapter" data-level="20.4.1" data-path="statistics.html"><a href="statistics.html#confidence-intervals"><i class="fa fa-check"></i><b>20.4.1</b> Confidence intervals</a></li>
<li class="chapter" data-level="20.4.2" data-path="statistics.html"><a href="statistics.html#two-population-test"><i class="fa fa-check"></i><b>20.4.2</b> Two-population test</a></li>
<li class="chapter" data-level="20.4.3" data-path="statistics.html"><a href="statistics.html#hypothesis-tests-for-non-normal-data"><i class="fa fa-check"></i><b>20.4.3</b> Hypothesis tests for non-normal data</a></li>
</ul></li>
<li class="chapter" data-level="20.5" data-path="statistics.html"><a href="statistics.html#regression"><i class="fa fa-check"></i><b>20.5</b> Regression</a>
<ul>
<li class="chapter" data-level="20.5.1" data-path="statistics.html"><a href="statistics.html#fitting-a-regression-line"><i class="fa fa-check"></i><b>20.5.1</b> Fitting a regression line</a></li>
<li class="chapter" data-level="20.5.2" data-path="statistics.html"><a href="statistics.html#assumptions-and-diagnostics"><i class="fa fa-check"></i><b>20.5.2</b> Assumptions and diagnostics</a></li>
<li class="chapter" data-level="20.5.3" data-path="statistics.html"><a href="statistics.html#functions-for-inspecting-regression-fits"><i class="fa fa-check"></i><b>20.5.3</b> Functions for inspecting regression fits</a></li>
<li class="chapter" data-level="20.5.4" data-path="statistics.html"><a href="statistics.html#a-model-that-fails-diagnostics"><i class="fa fa-check"></i><b>20.5.4</b> A model that fails diagnostics</a></li>
<li class="chapter" data-level="20.5.5" data-path="statistics.html"><a href="statistics.html#predictions-and-variability"><i class="fa fa-check"></i><b>20.5.5</b> Predictions and variability</a></li>
</ul></li>
<li class="chapter" data-level="20.6" data-path="statistics.html"><a href="statistics.html#model-selection"><i class="fa fa-check"></i><b>20.6</b> Model selection</a></li>
<li class="chapter" data-level="20.7" data-path="statistics.html"><a href="statistics.html#cross-validation"><i class="fa fa-check"></i><b>20.7</b> Cross-validation</a></li>
</ul></li>
<li class="chapter" data-level="21" data-path="reshaping-tabular-data.html"><a href="reshaping-tabular-data.html"><i class="fa fa-check"></i><b>21</b> Reshaping Tabular Data</a>
<ul>
<li class="chapter" data-level="21.1" data-path="reshaping-tabular-data.html"><a href="reshaping-tabular-data.html#learning-objectives-8"><i class="fa fa-check"></i><b>21.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="21.2" data-path="reshaping-tabular-data.html"><a href="reshaping-tabular-data.html#introduction-2"><i class="fa fa-check"></i><b>21.2</b> Introduction</a>
<ul>
<li class="chapter" data-level="21.2.1" data-path="reshaping-tabular-data.html"><a href="reshaping-tabular-data.html#columns-into-rows"><i class="fa fa-check"></i><b>21.2.1</b> Columns into Rows</a></li>
<li class="chapter" data-level="21.2.2" data-path="reshaping-tabular-data.html"><a href="reshaping-tabular-data.html#rows-into-columns"><i class="fa fa-check"></i><b>21.2.2</b> Rows into Columns</a></li>
<li class="chapter" data-level="21.2.3" data-path="reshaping-tabular-data.html"><a href="reshaping-tabular-data.html#separating-values"><i class="fa fa-check"></i><b>21.2.3</b> Separating Values</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="22" data-path="data-forensics-and-cleaning-unstructured-data.html"><a href="data-forensics-and-cleaning-unstructured-data.html"><i class="fa fa-check"></i><b>22</b> Data Forensics and Cleaning: Unstructured Data</a>
<ul>
<li class="chapter" data-level="22.1" data-path="data-forensics-and-cleaning-unstructured-data.html"><a href="data-forensics-and-cleaning-unstructured-data.html#preliminaries"><i class="fa fa-check"></i><b>22.1</b> Preliminaries</a></li>
<li class="chapter" data-level="22.2" data-path="data-forensics-and-cleaning-unstructured-data.html"><a href="data-forensics-and-cleaning-unstructured-data.html#using-a-file-manifest"><i class="fa fa-check"></i><b>22.2</b> Using a File Manifest</a></li>
<li class="chapter" data-level="22.3" data-path="data-forensics-and-cleaning-unstructured-data.html"><a href="data-forensics-and-cleaning-unstructured-data.html#loading-a-corpus"><i class="fa fa-check"></i><b>22.3</b> Loading a Corpus</a></li>
<li class="chapter" data-level="22.4" data-path="data-forensics-and-cleaning-unstructured-data.html"><a href="data-forensics-and-cleaning-unstructured-data.html#preprocessing"><i class="fa fa-check"></i><b>22.4</b> Preprocessing</a>
<ul>
<li class="chapter" data-level="22.4.1" data-path="data-forensics-and-cleaning-unstructured-data.html"><a href="data-forensics-and-cleaning-unstructured-data.html#tokenizing-and-bags-of-words"><i class="fa fa-check"></i><b>22.4.1</b> Tokenizing and Bags of Words</a></li>
<li class="chapter" data-level="22.4.2" data-path="data-forensics-and-cleaning-unstructured-data.html"><a href="data-forensics-and-cleaning-unstructured-data.html#text-normalization"><i class="fa fa-check"></i><b>22.4.2</b> Text Normalization</a></li>
<li class="chapter" data-level="22.4.3" data-path="data-forensics-and-cleaning-unstructured-data.html"><a href="data-forensics-and-cleaning-unstructured-data.html#stop-words"><i class="fa fa-check"></i><b>22.4.3</b> Stop Words</a></li>
<li class="chapter" data-level="22.4.4" data-path="data-forensics-and-cleaning-unstructured-data.html"><a href="data-forensics-and-cleaning-unstructured-data.html#tokenizers"><i class="fa fa-check"></i><b>22.4.4</b> Tokenizers</a></li>
<li class="chapter" data-level="22.4.5" data-path="data-forensics-and-cleaning-unstructured-data.html"><a href="data-forensics-and-cleaning-unstructured-data.html#document-chunking-and-n-grams"><i class="fa fa-check"></i><b>22.4.5</b> Document Chunking and N-grams</a></li>
</ul></li>
<li class="chapter" data-level="22.5" data-path="data-forensics-and-cleaning-unstructured-data.html"><a href="data-forensics-and-cleaning-unstructured-data.html#counting-terms"><i class="fa fa-check"></i><b>22.5</b> Counting Terms</a>
<ul>
<li class="chapter" data-level="22.5.1" data-path="data-forensics-and-cleaning-unstructured-data.html"><a href="data-forensics-and-cleaning-unstructured-data.html#term-frequency"><i class="fa fa-check"></i><b>22.5.1</b> Term Frequency</a></li>
<li class="chapter" data-level="22.5.2" data-path="data-forensics-and-cleaning-unstructured-data.html"><a href="data-forensics-and-cleaning-unstructured-data.html#plotting-term-frequency"><i class="fa fa-check"></i><b>22.5.2</b> Plotting Term Frequency</a></li>
<li class="chapter" data-level="22.5.3" data-path="data-forensics-and-cleaning-unstructured-data.html"><a href="data-forensics-and-cleaning-unstructured-data.html#comparing-term-frequencies-across-documents"><i class="fa fa-check"></i><b>22.5.3</b> Comparing Term Frequencies Across Documents</a></li>
</ul></li>
<li class="chapter" data-level="22.6" data-path="data-forensics-and-cleaning-unstructured-data.html"><a href="data-forensics-and-cleaning-unstructured-data.html#text-mining-pipepline"><i class="fa fa-check"></i><b>22.6</b> Text Mining Pipepline</a></li>
<li class="chapter" data-level="22.7" data-path="data-forensics-and-cleaning-unstructured-data.html"><a href="data-forensics-and-cleaning-unstructured-data.html#document-term-matrix"><i class="fa fa-check"></i><b>22.7</b> Document Term Matrix</a></li>
<li class="chapter" data-level="22.8" data-path="data-forensics-and-cleaning-unstructured-data.html"><a href="data-forensics-and-cleaning-unstructured-data.html#corpus-analytics"><i class="fa fa-check"></i><b>22.8</b> Corpus Analytics</a>
<ul>
<li class="chapter" data-level="22.8.1" data-path="data-forensics-and-cleaning-unstructured-data.html"><a href="data-forensics-and-cleaning-unstructured-data.html#corpus-term-counts"><i class="fa fa-check"></i><b>22.8.1</b> Corpus Term Counts</a></li>
<li class="chapter" data-level="22.8.2" data-path="data-forensics-and-cleaning-unstructured-data.html"><a href="data-forensics-and-cleaning-unstructured-data.html#tfidf-scores"><i class="fa fa-check"></i><b>22.8.2</b> tf–idf Scores</a></li>
<li class="chapter" data-level="22.8.3" data-path="data-forensics-and-cleaning-unstructured-data.html"><a href="data-forensics-and-cleaning-unstructured-data.html#unique-terms-in-a-document"><i class="fa fa-check"></i><b>22.8.3</b> Unique Terms in a Document</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="23" data-path="data-forensics-and-cleaning-geospatial-data.html"><a href="data-forensics-and-cleaning-geospatial-data.html"><i class="fa fa-check"></i><b>23</b> Data Forensics and Cleaning: Geospatial Data</a>
<ul>
<li class="chapter" data-level="23.1" data-path="data-forensics-and-cleaning-geospatial-data.html"><a href="data-forensics-and-cleaning-geospatial-data.html#learning-objectives-9"><i class="fa fa-check"></i><b>23.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="23.2" data-path="data-forensics-and-cleaning-geospatial-data.html"><a href="data-forensics-and-cleaning-geospatial-data.html#what-is-geospatial-data"><i class="fa fa-check"></i><b>23.2</b> What is Geospatial Data?</a>
<ul>
<li class="chapter" data-level="23.2.1" data-path="data-forensics-and-cleaning-geospatial-data.html"><a href="data-forensics-and-cleaning-geospatial-data.html#attributes-1"><i class="fa fa-check"></i><b>23.2.1</b> Attributes</a></li>
<li class="chapter" data-level="23.2.2" data-path="data-forensics-and-cleaning-geospatial-data.html"><a href="data-forensics-and-cleaning-geospatial-data.html#coordinate-reference-system"><i class="fa fa-check"></i><b>23.2.2</b> Coordinate Reference System</a></li>
<li class="chapter" data-level="23.2.3" data-path="data-forensics-and-cleaning-geospatial-data.html"><a href="data-forensics-and-cleaning-geospatial-data.html#coordinates"><i class="fa fa-check"></i><b>23.2.3</b> Coordinates</a></li>
</ul></li>
<li class="chapter" data-level="23.3" data-path="data-forensics-and-cleaning-geospatial-data.html"><a href="data-forensics-and-cleaning-geospatial-data.html#geospatial-data-models"><i class="fa fa-check"></i><b>23.3</b> Geospatial Data Models</a>
<ul>
<li class="chapter" data-level="23.3.1" data-path="data-forensics-and-cleaning-geospatial-data.html"><a href="data-forensics-and-cleaning-geospatial-data.html#vector-data"><i class="fa fa-check"></i><b>23.3.1</b> Vector Data</a></li>
<li class="chapter" data-level="23.3.2" data-path="data-forensics-and-cleaning-geospatial-data.html"><a href="data-forensics-and-cleaning-geospatial-data.html#raster-data"><i class="fa fa-check"></i><b>23.3.2</b> Raster Data</a></li>
</ul></li>
<li class="chapter" data-level="23.4" data-path="data-forensics-and-cleaning-geospatial-data.html"><a href="data-forensics-and-cleaning-geospatial-data.html#data-structures-applied-to-geospatial-data"><i class="fa fa-check"></i><b>23.4</b> Data Structures Applied to Geospatial Data</a></li>
<li class="chapter" data-level="23.5" data-path="data-forensics-and-cleaning-geospatial-data.html"><a href="data-forensics-and-cleaning-geospatial-data.html#cleaning-geospatial-data"><i class="fa fa-check"></i><b>23.5</b> Cleaning Geospatial Data</a>
<ul>
<li class="chapter" data-level="23.5.1" data-path="data-forensics-and-cleaning-geospatial-data.html"><a href="data-forensics-and-cleaning-geospatial-data.html#example-data"><i class="fa fa-check"></i><b>23.5.1</b> Example Data</a></li>
<li class="chapter" data-level="23.5.2" data-path="data-forensics-and-cleaning-geospatial-data.html"><a href="data-forensics-and-cleaning-geospatial-data.html#making-location-data-usable"><i class="fa fa-check"></i><b>23.5.2</b> Making Location Data Usable</a></li>
<li class="chapter" data-level="23.5.3" data-path="data-forensics-and-cleaning-geospatial-data.html"><a href="data-forensics-and-cleaning-geospatial-data.html#cleaning-location-data"><i class="fa fa-check"></i><b>23.5.3</b> Cleaning Location Data</a></li>
<li class="chapter" data-level="23.5.4" data-path="data-forensics-and-cleaning-geospatial-data.html"><a href="data-forensics-and-cleaning-geospatial-data.html#cleaning-attribute-data"><i class="fa fa-check"></i><b>23.5.4</b> Cleaning Attribute Data</a></li>
<li class="chapter" data-level="23.5.5" data-path="data-forensics-and-cleaning-geospatial-data.html"><a href="data-forensics-and-cleaning-geospatial-data.html#checking-coordinate-reference-systems"><i class="fa fa-check"></i><b>23.5.5</b> Checking Coordinate Reference Systems</a></li>
</ul></li>
<li class="chapter" data-level="23.6" data-path="data-forensics-and-cleaning-geospatial-data.html"><a href="data-forensics-and-cleaning-geospatial-data.html#conclusions"><i class="fa fa-check"></i><b>23.6</b> Conclusions</a></li>
<li class="chapter" data-level="23.7" data-path="data-forensics-and-cleaning-geospatial-data.html"><a href="data-forensics-and-cleaning-geospatial-data.html#optional-further-reading"><i class="fa fa-check"></i><b>23.7</b> Optional Further Reading</a></li>
</ul></li>
<li class="chapter" data-level="24" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i><b>24</b> References</a></li>
<li class="divider"></li>
<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">
  <img alt="CC BY-SA 4.0" src="https://img.shields.io/badge/License-CC%20BY--NC--SA%204.0-lightgrey.svg" style="float: right; padding-right: 10px;" />
</a>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Adventures in Data Science</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-viz-with-ggplot-in-r" class="section level1" number="14">
<h1><span class="header-section-number">14</span> Data Viz with ggplot in R</h1>
<div id="learning-objectives-6" class="section level2" number="14.1">
<h2><span class="header-section-number">14.1</span> Learning Objectives</h2>
<p>After this lesson, you should be able to:</p>
<ul>
<li>Explain the grammar of graphics</li>
<li>With the ggplot2 package:
<ul>
<li>Make various kinds of plots</li>
<li>Save plots</li>
</ul></li>
<li>Choose an appropriate kind of plot based on the data</li>
<li>Use factors to reorder axes</li>
</ul>
</div>
<div id="r-graphics-overview" class="section level2" number="14.2">
<h2><span class="header-section-number">14.2</span> R Graphics Overview</h2>
<p>There are three popular systems for creating visualizations in R:</p>
<ol style="list-style-type: decimal">
<li>The base R functions (primarily the <code>plot</code> function)</li>
<li>The lattice package</li>
<li>The ggplot2 package</li>
</ol>
<p>These three systems are not interoperable! Consequently, it’s best to choose
one to use exclusively. Compared to base R, both lattice and ggplot2 are better
at handling grouped data and generally require less code to create a
nice-looking visualization.</p>
<p>The ggplot2 package is so popular that there are now knockoff packages for
other data-science-oriented programming languages like Python and Julia. The
package is also part of the Tidyverse. Because of these advantages, we’ll use
ggplot2 for visualizations in this and all future lessons.</p>
</div>
<div id="the-grammar-of-graphics" class="section level2" number="14.3">
<h2><span class="header-section-number">14.3</span> The Grammar of Graphics</h2>
<p>ggplot2 has detailed <a href="https://ggplot2.tidyverse.org/">documentation</a> and also a
<a href="https://github.com/rstudio/cheatsheets/blob/master/data-visualization-2.1.pdf">cheatsheet</a>.</p>
<p>The “gg” in ggplot2 stands for <strong>grammar of graphics</strong>. The idea of a grammar
of graphics is that visualizations can be built up in layers. In ggplot2, the
three layers every plot must have are:</p>
<ul>
<li>Data</li>
<li>Geometry</li>
<li>Aesthetics</li>
</ul>
<p>There are also several optional layers. Here are a few:</p>
<table>
<thead>
<tr class="header">
<th>Layer</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>scales</td>
<td>Title, label, and axis value settings</td>
</tr>
<tr class="even">
<td>facets</td>
<td>Side-by-side plots</td>
</tr>
<tr class="odd">
<td>guides</td>
<td>Axis and legend position settings</td>
</tr>
<tr class="even">
<td>annotations</td>
<td>Shapes that are not mapped to data</td>
</tr>
<tr class="odd">
<td>coordinates</td>
<td>Coordinate systems (Cartesian, logarithmic, polar)</td>
</tr>
<tr class="even">
<td>themes</td>
<td>Display of non-data elements</td>
</tr>
</tbody>
</table>
<div id="making-a-plot" class="section level3" number="14.3.1">
<h3><span class="header-section-number">14.3.1</span> Making a Plot</h3>
<p>For the plotting examples, let’s take the wine reviews data that we have been
working with, and subset it to focus in on Cabernet Sauvignon from the Central Valley.</p>
<div class="sourceCode" id="cb461"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb461-1"><a href="data-viz-with-ggplot-in-r.html#cb461-1" aria-hidden="true" tabindex="-1"></a>wine_revs <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;data/wine_enthusiast_rankings.csv&quot;</span>)</span>
<span id="cb461-2"><a href="data-viz-with-ggplot-in-r.html#cb461-2" aria-hidden="true" tabindex="-1"></a>wine_cv <span class="ot">&lt;-</span> wine_revs[wine_revs<span class="sc">$</span>region_2 <span class="sc">==</span> <span class="st">&quot;Central Valley&quot;</span> <span class="sc">&amp;</span> </span>
<span id="cb461-3"><a href="data-viz-with-ggplot-in-r.html#cb461-3" aria-hidden="true" tabindex="-1"></a>                       wine_revs<span class="sc">$</span>variety <span class="sc">==</span> <span class="st">&quot;Cabernet Sauvignon&quot;</span>,]</span></code></pre></div>
<p>Next we need to load <code>ggplot2</code>. As always, if this is your first time using the
package, you’ll have to install it. Then you can load the package:</p>
<div class="sourceCode" id="cb462"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb462-1"><a href="data-viz-with-ggplot-in-r.html#cb462-1" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages(&quot;ggplot2&quot;)</span></span>
<span id="cb462-2"><a href="data-viz-with-ggplot-in-r.html#cb462-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span></code></pre></div>
<p>What kind of plot should we make? It depends on what data we want the plot to
show. Let’s make a plot that shows the price of the wine
against the points awarded to that wine by the reviewers. Both the
price and the points are recorded as numbers. A scatter plot is a good
choice for displaying two numeric features. Later we’ll learn about other
options, but for now we’ll make a scatter plot.</p>
<div id="layer-1-data" class="section level4 unnumbered">
<h4>Layer 1: Data</h4>
<p>The data layer determines the data set used to make the plot. ggplot and most
other Tidyverse packages are designed for working with <strong>tidy</strong> data frames.
Tidy means:</p>
<ol style="list-style-type: decimal">
<li>Each observation has its own row.</li>
<li>Each feature has its own column.</li>
<li>Each value has its own cell.</li>
</ol>
<p>Tidy data sets are convenient in general. A later lesson will cover how to make
an untidy data set tidy. Until then, we’ll take it for granted that the data
sets we work with are tidy.</p>
<p>To set up the data layer, call the <code>ggplot</code> function on a data frame:</p>
<div class="sourceCode" id="cb463"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb463-1"><a href="data-viz-with-ggplot-in-r.html#cb463-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(wine_cv)</span></code></pre></div>
<p><img src="12b_r-ggplot2_files/figure-html/unnamed-chunk-3-1.png" width="672" /></p>
<p>This returns a blank plot. We still need to add a few more layers.</p>
</div>
<div id="layer-2-geometry" class="section level4 unnumbered">
<h4>Layer 2: Geometry</h4>
<p>The <strong>geom</strong>etry layer determines the shape or appearance of the visual
elements of the plot. In other words, the geometry layer determines what kind
of plot to make: one with points, lines, boxes, or something else.</p>
<p>There are many different geometries available in ggplot2. The package provides
a function for each geometry, always prefixed with <code>geom_</code>.</p>
<p>To add a geometry layer to the plot, choose the <code>geom_</code> function you want and
add it to the plot with the <code>+</code> operator:</p>
<div class="sourceCode" id="cb464"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb464-1"><a href="data-viz-with-ggplot-in-r.html#cb464-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(wine_cv) <span class="sc">+</span> <span class="fu">geom_point</span>()</span></code></pre></div>
<pre><code>## Error: geom_point requires the following missing aesthetics: x and y</code></pre>
<p>This returns an error message that we’re missing aesthetics <code>x</code> and <code>y</code>. We’ll
learn more about aesthetics in the next section, but this error message is
especially helpful: it tells us exactly what we’re missing. When you use a
geometry you’re unfamiliar with, it can be helpful to run the code for just the
data and geometry layer like this, to see exactly which aesthetics need to be
set.</p>
<p>As we’ll see later, it’s possible to add multiple geometries to a plot.</p>
</div>
<div id="layer-3-aesthetics" class="section level4 unnumbered">
<h4>Layer 3: Aesthetics</h4>
<p>The <strong>aes</strong>thetic layer determines the relationship between the data and the
geometry. Use the aesthetic layer to map features in the data to <strong>aesthetics</strong>
(visual elements) of the geometry.</p>
<p>The <code>aes</code> function creates an aesthetic layer. The syntax is:</p>
<pre><code>aes(AESTHETIC = FEATURE, ...)</code></pre>
<p>The names of the aesthetics depend on the geometry, but some common ones are
<code>x</code>, <code>y</code>, <code>color</code>, <code>fill</code>, <code>shape</code>, <code>alpha</code>, and <code>size</code>. There is more information about
and examples of aesthetic names in the documentation.</p>
<p>For example, if we want to put the <code>price</code> feature on the x-axis, the
aesthetic layer should be:</p>
<div class="sourceCode" id="cb467"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb467-1"><a href="data-viz-with-ggplot-in-r.html#cb467-1" aria-hidden="true" tabindex="-1"></a><span class="fu">aes</span>(<span class="at">x =</span> price)</span></code></pre></div>
<p>In the <code>aes</code> function, column names are never quoted.</p>
<p>Unlike most layers, the aesthetic layer is not added to the plot with the <code>+</code>
operator. Instead, you can pass the aesthetic layer as the second argument to
the <code>ggplot</code> function:</p>
<div class="sourceCode" id="cb468"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb468-1"><a href="data-viz-with-ggplot-in-r.html#cb468-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(wine_cv, <span class="fu">aes</span>(<span class="at">x =</span> price, <span class="at">y =</span> points)) <span class="sc">+</span> <span class="fu">geom_point</span>()</span></code></pre></div>
<p><img src="12b_r-ggplot2_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
<p>Aesthetics can be informed by data (e.g. the price column), or by constant values
(e.g. the color “blue”). Whether the value is informed by the data or constant will
determine where to place that piece of information. Constant values should not be placed
inside the aesthetic layer. If you set a constant value <em>inside</em> of the aesthetic
layer, the results you get might not be what you expect. For instance, suppose
we want to make the points blue:</p>
<div class="sourceCode" id="cb469"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb469-1"><a href="data-viz-with-ggplot-in-r.html#cb469-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(wine_cv, <span class="fu">aes</span>(<span class="at">x =</span> price, <span class="at">y =</span> points, <span class="at">color =</span> <span class="st">&quot;blue&quot;</span>)) <span class="sc">+</span> <span class="fu">geom_point</span>()</span></code></pre></div>
<p><img src="12b_r-ggplot2_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>
<p>Instead, if you want to set an aesthetic to a constant value, rather than one that’s
data dependent, do so <em>outside</em> of the aesthetic layer.</p>
<div class="sourceCode" id="cb470"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb470-1"><a href="data-viz-with-ggplot-in-r.html#cb470-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(wine_cv, <span class="fu">aes</span>(<span class="at">x =</span> price, <span class="at">y =</span> points)) <span class="sc">+</span> <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">&quot;blue&quot;</span>)</span></code></pre></div>
<p><img src="12b_r-ggplot2_files/figure-html/unnamed-chunk-8-1.png" width="672" /></p>
<p>Notice that when we specify the color “blue” (outside of aesthetic mapping), R understands what we mean. There is a <a href="http://www.stat.columbia.edu/~tzheng/files/Rcolor.pdf">long list of color names that R recognizes</a>. But you can also use specific hex codes or palettes like were recommended in the previous section on <a href="https://ucdavisdatalab.github.io/adventures_in_data_science/data-visualization-principles-perception.html#accessible-data-visualizations">Accessible Data Visualizations</a>.</p>
<p>Another useful constant aesthetic is the <code>alpha</code> argument, which adjusts the transparency of the points using a range between 0-1 (alpha = 0 is fully transparent and alpha = 1 is not transparent). This can be useful because <code>geom_point</code> will stack points with the exact same values on top of one another, which is hard to tell when they are all completely filled in a certain color (e.g. alpha = 1).</p>
<div class="sourceCode" id="cb471"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb471-1"><a href="data-viz-with-ggplot-in-r.html#cb471-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(wine_cv, <span class="fu">aes</span>(<span class="at">x =</span> price, <span class="at">y =</span> points)) <span class="sc">+</span> <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">&quot;blue&quot;</span>, <span class="at">alpha =</span> .<span class="dv">3</span>)</span></code></pre></div>
<p><img src="12b_r-ggplot2_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
</div>
<div id="per-geometry-aesthetics" class="section level4 unnumbered">
<h4>Per-geometry Aesthetics</h4>
<p>When you pass an aesthetic layer to the <code>ggplot</code> function, it applies to the
entire plot. You can also set an aesthetic layer individually for each
geometry, by passing the layer as the first argument in the <code>geom_</code> function. Before we test this out, let’s make a smaller subset of our wines, what we’ll called underrated_wines, based on those that are less than $20 and have scores higher than 85.</p>
<div class="sourceCode" id="cb472"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb472-1"><a href="data-viz-with-ggplot-in-r.html#cb472-1" aria-hidden="true" tabindex="-1"></a>underrated_wines <span class="ot">&lt;-</span> wine_cv[wine_cv<span class="sc">$</span>price <span class="sc">&lt;</span> <span class="dv">20</span> <span class="sc">&amp;</span> wine_cv<span class="sc">$</span>points <span class="sc">&gt;</span> <span class="dv">85</span>, ]</span>
<span id="cb472-2"><a href="data-viz-with-ggplot-in-r.html#cb472-2" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(underrated_wines)</span></code></pre></div>
<pre><code>## [1] 40</code></pre>
<p>Now, let’s first set the aesthetics in the <code>ggplot</code> functions, and add color by
region to take a look at where these wines are from within the Central Valley.</p>
<div class="sourceCode" id="cb474"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb474-1"><a href="data-viz-with-ggplot-in-r.html#cb474-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(underrated_wines, <span class="fu">aes</span>(<span class="at">x =</span> price, <span class="at">y =</span> points, <span class="at">color =</span> region_1)) <span class="sc">+</span> <span class="fu">geom_point</span>()</span></code></pre></div>
<p><img src="12b_r-ggplot2_files/figure-html/unnamed-chunk-11-1.png" width="672" /></p>
<p>Now let’s add another geometry to better understand the effect of aesthetic
placements. Let’s add a <code>geom_text</code> layer to add labels to the plot based on who
ranked this wine. We need to specify the variables that we want to label with in the aesthetics, and add a new geom layer:</p>
<div class="sourceCode" id="cb475"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb475-1"><a href="data-viz-with-ggplot-in-r.html#cb475-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(underrated_wines, <span class="fu">aes</span>(<span class="at">x =</span> price, <span class="at">y =</span> points, <span class="at">color =</span> region_1, <span class="at">label =</span> taster_name)) <span class="sc">+</span></span>
<span id="cb475-2"><a href="data-viz-with-ggplot-in-r.html#cb475-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span> <span class="fu">geom_text</span>(<span class="at">size =</span> <span class="dv">3</span>)</span></code></pre></div>
<p><img src="12b_r-ggplot2_files/figure-html/unnamed-chunk-12-1.png" width="672" /></p>
<p>In the example above, both geometries (<code>geom_point</code> and <code>geom_text</code>), take on the same color aesthetic mapping. So, where we put the aesthetics matters. If we move the color aesthetic to the <code>geom_text</code> layer, how does the plot change?</p>
<div class="sourceCode" id="cb476"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb476-1"><a href="data-viz-with-ggplot-in-r.html#cb476-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(underrated_wines, <span class="fu">aes</span>(<span class="at">x =</span> price, <span class="at">y =</span> points, <span class="at">label =</span> taster_name)) <span class="sc">+</span> </span>
<span id="cb476-2"><a href="data-viz-with-ggplot-in-r.html#cb476-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span> <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">color =</span> region_1), <span class="at">size =</span> <span class="dv">3</span>)</span></code></pre></div>
<p><img src="12b_r-ggplot2_files/figure-html/unnamed-chunk-13-1.png" width="672" /></p>
<p>We can also move the color aesthetic to the <code>geom_text</code> layer to experiment:</p>
<div class="sourceCode" id="cb477"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb477-1"><a href="data-viz-with-ggplot-in-r.html#cb477-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(underrated_wines, <span class="fu">aes</span>(<span class="at">x =</span> price, <span class="at">y =</span> points, <span class="at">label =</span> taster_name)) <span class="sc">+</span> </span>
<span id="cb477-2"><a href="data-viz-with-ggplot-in-r.html#cb477-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> region_1)) <span class="sc">+</span> <span class="fu">geom_text</span>(<span class="at">size =</span> <span class="dv">3</span>)</span></code></pre></div>
<p><img src="12b_r-ggplot2_files/figure-html/unnamed-chunk-14-1.png" width="672" /></p>
<p>How might we be able to better see all 40 of the observations? Let’s try the <code>position</code> argument within each geometry, where <code>position = position_jitter()</code> will adjust (or “jitter”) the points.</p>
<div class="sourceCode" id="cb478"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb478-1"><a href="data-viz-with-ggplot-in-r.html#cb478-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(underrated_wines, <span class="fu">aes</span>(<span class="at">x =</span> price, <span class="at">y =</span> points, <span class="at">label =</span> taster_name)) <span class="sc">+</span></span>
<span id="cb478-2"><a href="data-viz-with-ggplot-in-r.html#cb478-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> region_1), <span class="at">position =</span> <span class="fu">position_jitter</span>(<span class="at">seed =</span> <span class="dv">1</span>)) <span class="sc">+</span> </span>
<span id="cb478-3"><a href="data-viz-with-ggplot-in-r.html#cb478-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="at">size =</span> <span class="dv">3</span>, <span class="at">position =</span> <span class="fu">position_jitter</span>(<span class="at">seed =</span> <span class="dv">1</span>))</span></code></pre></div>
<p><img src="12b_r-ggplot2_files/figure-html/unnamed-chunk-15-1.png" width="672" /></p>
</div>
<div id="other-layers-scales-and-themes" class="section level4 unnumbered">
<h4>Other layers: Scales and themes</h4>
<p>The scales layer controls the title, axis labels, and axis scales of the plot.
Most of the functions in the scales layer are prefixed with <code>scale_</code>, but not
all of them.</p>
<p>The <code>labs</code> function is especially important, because it’s used to set the title
and axis labels:</p>
<div class="sourceCode" id="cb479"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb479-1"><a href="data-viz-with-ggplot-in-r.html#cb479-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(wine_cv, <span class="fu">aes</span>(<span class="at">x =</span> price, <span class="at">y =</span> points, <span class="at">color =</span> region_1)) <span class="sc">+</span> </span>
<span id="cb479-2"><a href="data-viz-with-ggplot-in-r.html#cb479-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb479-3"><a href="data-viz-with-ggplot-in-r.html#cb479-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Central Valley Cabernet Sauvignon price by wine score points&quot;</span>, </span>
<span id="cb479-4"><a href="data-viz-with-ggplot-in-r.html#cb479-4" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">&quot;Price ($)&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Points&quot;</span>, <span class="at">color =</span> <span class="st">&quot;Region&quot;</span>)</span></code></pre></div>
<p><img src="12b_r-ggplot2_files/figure-html/unnamed-chunk-16-1.png" width="672" /></p>
<p>You can add <code>theme</code> layers that change the non-data components of the figure. ggplot2 comes with several themes which can be useful to quickly change the look of your visualization. The complete list of themes is available at <a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="uri">https://ggplot2.tidyverse.org/reference/ggtheme.html</a>. theme_classic(), theme_minimal(), and theme_light() are popular.</p>
<div class="sourceCode" id="cb480"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb480-1"><a href="data-viz-with-ggplot-in-r.html#cb480-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(wine_cv, <span class="fu">aes</span>(<span class="at">x =</span> price, <span class="at">y =</span> points, <span class="at">color =</span> region_1)) <span class="sc">+</span> <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb480-2"><a href="data-viz-with-ggplot-in-r.html#cb480-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Central Valley Cabernet Sauvignon price by wine score points&quot;</span>, </span>
<span id="cb480-3"><a href="data-viz-with-ggplot-in-r.html#cb480-3" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">&quot;Price ($)&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Points&quot;</span>, <span class="at">color =</span> <span class="st">&quot;Region&quot;</span>) <span class="sc">+</span></span>
<span id="cb480-4"><a href="data-viz-with-ggplot-in-r.html#cb480-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code></pre></div>
<p><img src="12b_r-ggplot2_files/figure-html/unnamed-chunk-17-1.png" width="672" /></p>
<p>We can also save ggplots as objects:</p>
<div class="sourceCode" id="cb481"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb481-1"><a href="data-viz-with-ggplot-in-r.html#cb481-1" aria-hidden="true" tabindex="-1"></a>wine_plot <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(wine_cv, <span class="fu">aes</span>(<span class="at">x =</span> price, <span class="at">y =</span> points, <span class="at">color =</span> region_1)) <span class="sc">+</span> </span>
<span id="cb481-2"><a href="data-viz-with-ggplot-in-r.html#cb481-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb481-3"><a href="data-viz-with-ggplot-in-r.html#cb481-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Central Valley Cabernet Sauvignon price by wine score points&quot;</span>, </span>
<span id="cb481-4"><a href="data-viz-with-ggplot-in-r.html#cb481-4" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">&quot;Price ($)&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Points&quot;</span>, <span class="at">color =</span> <span class="st">&quot;Region&quot;</span>) <span class="sc">+</span></span>
<span id="cb481-5"><a href="data-viz-with-ggplot-in-r.html#cb481-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code></pre></div>
<p>Note what kind of object this is:</p>
<div class="sourceCode" id="cb482"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb482-1"><a href="data-viz-with-ggplot-in-r.html#cb482-1" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(wine_plot)</span></code></pre></div>
<pre><code>## [1] &quot;list&quot;</code></pre>
<div class="sourceCode" id="cb484"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb484-1"><a href="data-viz-with-ggplot-in-r.html#cb484-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(wine_plot)</span></code></pre></div>
<pre><code>## [1] &quot;gg&quot;     &quot;ggplot&quot;</code></pre>
</div>
</div>
<div id="saving-plots" class="section level3" number="14.3.2">
<h3><span class="header-section-number">14.3.2</span> Saving Plots</h3>
<p>In ggplot2, use the <code>ggsave</code> function to save the most recent plot you created:</p>
<div class="sourceCode" id="cb486"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb486-1"><a href="data-viz-with-ggplot-in-r.html#cb486-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="at">plot =</span> wine_plot, <span class="st">&quot;scatter_plot.png&quot;</span>)</span></code></pre></div>
<p>The file format is selected automatically based on the extension. Common
formats are PNG and PDF.</p>
<div id="the-plot-device" class="section level4 unnumbered">
<h4>The Plot Device</h4>
<p>You can also save a plot with one of R’s “plot device” functions. The steps
are:</p>
<ol style="list-style-type: decimal">
<li>Call a plot device function: <code>png</code>, <code>jpeg</code>, <code>pdf</code>, <code>bmp</code>, <code>tiff</code>, or <code>svg</code>.</li>
<li>Run your code to make the plot.</li>
<li>Call <code>dev.off</code> to indicate that you’re done plotting.</li>
</ol>
<p>This strategy works with any of R’s graphics systems (not just ggplot2).</p>
<p>Here’s an example:</p>
<div class="sourceCode" id="cb487"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb487-1"><a href="data-viz-with-ggplot-in-r.html#cb487-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Run these lines in the console, not the notebook!</span></span>
<span id="cb487-2"><a href="data-viz-with-ggplot-in-r.html#cb487-2" aria-hidden="true" tabindex="-1"></a><span class="fu">jpeg</span>(<span class="st">&quot;scatter_plot.jpeg&quot;</span>)</span>
<span id="cb487-3"><a href="data-viz-with-ggplot-in-r.html#cb487-3" aria-hidden="true" tabindex="-1"></a>wine_plot</span>
<span id="cb487-4"><a href="data-viz-with-ggplot-in-r.html#cb487-4" aria-hidden="true" tabindex="-1"></a><span class="fu">dev.off</span>()</span></code></pre></div>
</div>
</div>
<div id="example-bar-plot" class="section level3" number="14.3.3">
<h3><span class="header-section-number">14.3.3</span> Example: Bar Plot</h3>
<p>Let’s say we want to plot the number of wines for each region in the Central Valley. A bar plot is
an appropriate way to represent this visually.</p>
<p>The geometry for a bar plot is <code>geom_bar</code>. Since bar plots are mainly used to
display frequencies, the <code>geom_bar</code> function automatically computes frequencies
when given mapped to a categorical feature. So we can write:</p>
<div class="sourceCode" id="cb488"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb488-1"><a href="data-viz-with-ggplot-in-r.html#cb488-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(wine_cv, <span class="fu">aes</span>(<span class="at">x =</span> region_1)) <span class="sc">+</span> <span class="fu">geom_bar</span>() </span></code></pre></div>
<p><img src="12b_r-ggplot2_files/figure-html/unnamed-chunk-22-1.png" width="672" /></p>
<p>To prevent <code>geom_bar</code> from computing frequencies automatically, set <code>stat = "identity"</code>. This is mainly useful if you want to plot quantities you’ve
computed manually on the y-axis.</p>
<div id="position-adjustment" class="section level4" number="14.3.3.1">
<h4><span class="header-section-number">14.3.3.1</span> Position adjustment</h4>
<p>Just as you added color to group the scatter plot data, you may want to add a color grouping to the bar plot. For bar plots, this will take the <code>fill</code> argument instead of the <code>color</code> argument. (The <code>color</code> argument will outline the bars in a color, whereas the <code>fill</code> argument will fill them in with a default color scheme.)</p>
<div class="sourceCode" id="cb489"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb489-1"><a href="data-viz-with-ggplot-in-r.html#cb489-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(wine_cv, <span class="fu">aes</span>(<span class="at">x =</span> region_1)) <span class="sc">+</span> <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">fill =</span> taster_name)) </span></code></pre></div>
<p><img src="12b_r-ggplot2_files/figure-html/unnamed-chunk-23-1.png" width="672" /></p>
<p>Automatically, <code>geom_bar()</code> positions the grouped colors or fills on top of one another, with the default argument <code>position = "identity"</code>. If you want to change the position of the groupings, you can set <code>position = "dodge"</code> to set the groups side-by-side.</p>
<div class="sourceCode" id="cb490"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb490-1"><a href="data-viz-with-ggplot-in-r.html#cb490-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(wine_cv, <span class="fu">aes</span>(<span class="at">x =</span> region_1)) <span class="sc">+</span> </span>
<span id="cb490-2"><a href="data-viz-with-ggplot-in-r.html#cb490-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">fill =</span> taster_name), <span class="at">position =</span> <span class="st">&quot;dodge&quot;</span>) </span></code></pre></div>
<p><img src="12b_r-ggplot2_files/figure-html/unnamed-chunk-24-1.png" width="672" /></p>
</div>
</div>
</div>
<div id="remembering-factors" class="section level2" number="14.4">
<h2><span class="header-section-number">14.4</span> Remembering factors</h2>
<p>A feature is <strong>categorical</strong> if it measures a qualitative category. For
example, the genres <code>rock</code>, <code>blues</code>, <code>alternative</code>, <code>folk</code>, <code>pop</code> are
categories.</p>
<p>R uses the class <code>factor</code> to represent categorical data. Visualizations and
statistical models sometimes treat factors differently than other data types,
so it’s important to make sure you have the right data type. If you’re ever
unsure, remember that you can check the class of an object with the <code>class</code>
function.</p>
<p>When you load a data set, R usually can’t tell which features are categorical.
That means identifying and converting the categorical features is up to you.
This can be especially helpful to know if you are plotting categories, but want
them to have a particular order, other than the default (alphabetical).</p>
<p>Let’s think about which features are categorical in the class wine reviews data.</p>
<div class="sourceCode" id="cb491"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb491-1"><a href="data-viz-with-ggplot-in-r.html#cb491-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(wine_cv)</span></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    104 obs. of  14 variables:
##  $ X                    : int  954 2765 3397 4549 4686 4944 5426 5975 6964 8633 ...
##  $ country              : chr  &quot;US&quot; &quot;US&quot; &quot;US&quot; &quot;US&quot; ...
##  $ description          : chr  &quot;Full-bodied and smooth in texture, this generous-tasting wine has lots of ripe plum flavors and sweet-seeming oak accents.&quot; &quot;This full-bodied wine has earthy, woodsy aromas, ripe and mature fruit flavors and a broad, almost soft texture&quot;| __truncated__ &quot;This is on the light side, with simple flavors and a juicy, soft texture that shows very little tannin. Aromas &quot;| __truncated__ &quot;A very basic Cabernet Sauvignon, very low in alcohol, with a harshness on the finish.&quot; ...
##  $ designation          : chr  &quot;Reserve Bottling&quot; &quot;Judy&#39;s Vineyard&quot; &quot;&quot; &quot;&quot; ...
##  $ points               : int  87 84 84 81 91 86 88 87 86 86 ...
##  $ price                : num  15 29 13 11 20 11 12 10 13 14 ...
##  $ province             : chr  &quot;California&quot; &quot;California&quot; &quot;California&quot; &quot;California&quot; ...
##  $ region_1             : chr  &quot;Lodi&quot; &quot;Lodi&quot; &quot;Lodi&quot; &quot;Lodi&quot; ...
##  $ region_2             : chr  &quot;Central Valley&quot; &quot;Central Valley&quot; &quot;Central Valley&quot; &quot;Central Valley&quot; ...
##  $ taster_name          : chr  &quot;Jim Gordon&quot; &quot;Jim Gordon&quot; &quot;Jim Gordon&quot; &quot;Virginie Boone&quot; ...
##  $ taster_twitter_handle: chr  &quot;@gordone_cellars&quot; &quot;@gordone_cellars&quot; &quot;@gordone_cellars&quot; &quot;@vboone&quot; ...
##  $ title                : chr  &quot;Archgate Cellars 2014 Reserve Bottling Cabernet Sauvignon (Lodi)&quot; &quot;Housley&#39;s Century Oak 2013 Judy&#39;s Vineyard Cabernet Sauvignon (Lodi)&quot; &quot;Cable Car 2013 Cabernet Sauvignon (Lodi)&quot; &quot;Harlow Ridge 2011 Cabernet Sauvignon (Lodi)&quot; ...
##  $ variety              : chr  &quot;Cabernet Sauvignon&quot; &quot;Cabernet Sauvignon&quot; &quot;Cabernet Sauvignon&quot; &quot;Cabernet Sauvignon&quot; ...
##  $ winery               : chr  &quot;Archgate Cellars&quot; &quot;Housley&#39;s Century Oak&quot; &quot;Cable Car&quot; &quot;Harlow Ridge&quot; ...</code></pre>
<p>The numeric columns in this data set (<code>price</code>, <code>points</code>) are all quantitative,
so they’re not categorical. That leaves the character columns.</p>
<p>Because we have subsetted only the Cabernet Sauvignon varieties in the Central Valley,
we know that variables like <code>province</code>, <code>region_2</code>, and <code>variety</code> have no variation.
So that leaves us with the other character variables. Some of these, like winery,
have too many groups to really consider useful:</p>
<div class="sourceCode" id="cb493"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb493-1"><a href="data-viz-with-ggplot-in-r.html#cb493-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(wine_cv<span class="sc">$</span>winery)</span></code></pre></div>
<pre><code>## 
##          337 Wine Cellars          Archgate Cellars           Black&#39;s Station 
##                         1                         1                         2 
##                 Cable Car                Caricature          Christine Andrew 
##                         2                         1                         1 
##                  Concrete            Cooper Station                 Cosentino 
##                         2                         2                         1 
##               Criss Cross          Cycles Gladiator                Earthquake 
##                         2                         1                         4 
##                 Five Rows                 Freakshow                      Gen5 
##                         1                         2                         3 
##              Harlow Ridge            Herman Walters     Housley&#39;s Century Oak 
##                         1                         1                         1 
##                Insatiable                 Ironstone            James Mitchell 
##                         1                         3                         4 
##             Klinker Brick                LangeTwins                Lapis Luna 
##                         1                         4                         1 
## Leonardo Family Vineyards              Lodi Estates                      Loft 
##                         1                         2                         1 
##                 Matchbook  Mettler Family Vineyards             Michael David 
##                         1                         7                         6 
##                 Moon Eyes               Noble Vines                  Oak Farm 
##                         1                         3                         3 
##                 Oak Ridge                  Old Soul         Pavilion Crossing 
##                         1                         1                         1 
##        Pavillion Crossing                   Peirano                   Peltier 
##                         1                         5                         3 
##               Plungerhead                Sand Point     Scotto Family Cellars 
##                         1                         1                         2 
##          Sharabella Wines               Shenanigans               Table No. 7 
##                         1                         1                         1 
##               The Crusher           The Dancing Fox            The Federalist 
##                         1                         1                         1 
##               Toad Hollow            Tortoise Creek             Twisted Cedar 
##                         1                         7                         1 
##                   un4seen                Van Ruiten          Victor Vineyards 
##                         1                         2                         1 
##               Vino Vargas 
##                         1</code></pre>
<p>Others, such as <code>region_1</code> and <code>taster_name</code>, have fewer groupings – which is why
we have used them so far for simplfying our visualizations. To reorder our
<code>region_1</code> variable, lets’ convert to to a factor using the <code>factor</code>.</p>
<div class="sourceCode" id="cb495"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb495-1"><a href="data-viz-with-ggplot-in-r.html#cb495-1" aria-hidden="true" tabindex="-1"></a><span class="fu">factor</span>(wine_cv<span class="sc">$</span>region_1)</span></code></pre></div>
<pre><code>##   [1] Lodi           Lodi           Lodi           Lodi           Lodi          
##   [6] Lodi           Lodi           Lodi           Lodi           Lodi          
##  [11] Lodi           Lodi           Lodi           Clarksburg     Lodi          
##  [16] Lodi           Lodi           Lodi           Lodi           Lodi          
##  [21] Lodi           Lodi           Lodi           Lodi           Yolo County   
##  [26] Lodi           Lodi           Lodi           Lodi           Lodi          
##  [31] Dunnigan Hills Lodi           Lodi           Lodi           Lodi          
##  [36] Lodi           Lodi           Lodi           Clements Hills Lodi          
##  [41] Yolo County    Lodi           Lodi           Lodi           Lodi          
##  [46] Lodi           Lodi           Lodi           Lodi           Lodi          
##  [51] Lodi           Lodi           Lodi           Lodi           Lodi          
##  [56] Lodi           Lodi           Lodi           Lodi           Lodi          
##  [61] Lodi           Lodi           Lodi           Lodi           Lodi          
##  [66] Clarksburg     Lodi           Lodi           Lodi           Lodi          
##  [71] Lodi           Lodi           Lodi           Lodi           Lodi          
##  [76] Lodi           Lodi           Lodi           Lodi           Lodi          
##  [81] Lodi           Lodi           Lodi           Lodi           Lodi          
##  [86] Lodi           Lodi           Lodi           Clarksburg     Lodi          
##  [91] Lodi           Lodi           Lodi           Lodi           Lodi          
##  [96] Lodi           Lodi           Lodi           Clarksburg     Lodi          
## [101] Lodi           Lodi           Lodi           Lodi          
## Levels: Clarksburg Clements Hills Dunnigan Hills Lodi Yolo County</code></pre>
<p>The categories of a factor are called <strong>levels</strong>. You can list the levels with
the <code>levels</code> function:</p>
<div class="sourceCode" id="cb497"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb497-1"><a href="data-viz-with-ggplot-in-r.html#cb497-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(<span class="fu">factor</span>(wine_cv<span class="sc">$</span>region_1))</span></code></pre></div>
<pre><code>## [1] &quot;Clarksburg&quot;     &quot;Clements Hills&quot; &quot;Dunnigan Hills&quot; &quot;Lodi&quot;          
## [5] &quot;Yolo County&quot;</code></pre>
<p>Notice that factors default the level order to be in alphabetical order. This is also true when we plot characters, which you can notice if we again call the bar plot we made that counted up the regions in our wine reviews data.</p>
<div class="sourceCode" id="cb499"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb499-1"><a href="data-viz-with-ggplot-in-r.html#cb499-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(wine_cv, <span class="fu">aes</span>(<span class="at">x =</span> region_1)) <span class="sc">+</span> <span class="fu">geom_bar</span>()</span></code></pre></div>
<p><img src="12b_r-ggplot2_files/figure-html/unnamed-chunk-29-1.png" width="672" /></p>
<div id="assigning-factor-levels" class="section level3" number="14.4.1">
<h3><span class="header-section-number">14.4.1</span> Assigning factor levels</h3>
<p>But what if we wanted to change the order of the x axis to be in descending order? We can change the level assignments. The easier way to do this is to re-write the variable as a factor again, but specify the order of the levels as an argument in the <code>factor</code> function.</p>
<div class="sourceCode" id="cb500"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb500-1"><a href="data-viz-with-ggplot-in-r.html#cb500-1" aria-hidden="true" tabindex="-1"></a>wine_cv<span class="sc">$</span>region_1_f <span class="ot">&lt;-</span> <span class="fu">factor</span>(wine_cv<span class="sc">$</span>region_1, </span>
<span id="cb500-2"><a href="data-viz-with-ggplot-in-r.html#cb500-2" aria-hidden="true" tabindex="-1"></a>                             <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&quot;Lodi&quot;</span>, <span class="st">&quot;Clarksburg&quot;</span>, <span class="st">&quot;Yolo County&quot;</span>,</span>
<span id="cb500-3"><a href="data-viz-with-ggplot-in-r.html#cb500-3" aria-hidden="true" tabindex="-1"></a>                                        <span class="st">&quot;Clements Hills&quot;</span>, <span class="st">&quot;Dunnigan Hills&quot;</span>))</span>
<span id="cb500-4"><a href="data-viz-with-ggplot-in-r.html#cb500-4" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(wine_cv<span class="sc">$</span>region_1_f)</span></code></pre></div>
<pre><code>## [1] &quot;Lodi&quot;           &quot;Clarksburg&quot;     &quot;Yolo County&quot;    &quot;Clements Hills&quot;
## [5] &quot;Dunnigan Hills&quot;</code></pre>
<p>Now we can run the same plotting code, but see that the order of the x axis changed, based on the levels of the region_1 factor.</p>
<div class="sourceCode" id="cb502"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb502-1"><a href="data-viz-with-ggplot-in-r.html#cb502-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(wine_cv, <span class="fu">aes</span>(<span class="at">x =</span> region_1_f)) <span class="sc">+</span> <span class="fu">geom_bar</span>()</span></code></pre></div>
<p><img src="12b_r-ggplot2_files/figure-html/unnamed-chunk-31-1.png" width="672" /></p>
</div>
</div>
<div id="designing-a-visualization" class="section level2" number="14.5">
<h2><span class="header-section-number">14.5</span> Designing a Visualization</h2>
<p>What plot is appropriate?</p>
<table>
<thead>
<tr class="header">
<th>Variable</th>
<th>Versus</th>
<th>Plot</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>categorical</td>
<td></td>
<td>bar, dot</td>
</tr>
<tr class="even">
<td>categorical</td>
<td>categorical</td>
<td>bar, dot, mosaic</td>
</tr>
<tr class="odd">
<td>numerical</td>
<td></td>
<td>box, density, histogram</td>
</tr>
<tr class="even">
<td>numerical</td>
<td>categorical</td>
<td>box, density, ridge</td>
</tr>
<tr class="odd">
<td>numerical</td>
<td>numerical</td>
<td>line, scatter, smooth scatter</td>
</tr>
</tbody>
</table>
<p>If you want to add a:</p>
<ul>
<li>3rd numerical variable, use it to change point/line sizes.</li>
<li>3rd categorical variable, use it to change point/line styles.</li>
<li>4th categorical variable, use side-by-side plots.</li>
</ul>
<p>Also:</p>
<ul>
<li><p>Always add a title and axis labels. These should be in plain English, not
variable names!</p></li>
<li><p>Specify units after the axis label if the axis has units. For instance,
“Height (ft)”.</p></li>
<li><p>Don’t forget that many people are colorblind! Also, plots are often printed
in black and white. Use point and line styles to distinguish groups; color is
optional.</p></li>
<li><p>Add a legend whenever you’ve used more than one point or line style.</p></li>
<li><p>Always write a few sentences explaining what the plot reveals. Don’t
describe the plot, because the reader can just look at it. Instead,
explain what they can learn from the plot and point out important details
that are easily overlooked.</p></li>
<li><p>Sometimes points get plotted on top of each other. This is called
<em>overplotting</em>. Plots with a lot of overplotting can be hard to read and can
even misrepresent the data by hiding how many points are present. Use a
two-dimensional density plot or jitter the points to deal with overplotting.</p></li>
<li><p>For side-by-side plots, use the same axis scales for both plots so that
comparing them is not deceptive.</p></li>
</ul>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="data-visualization-principles-perception.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="how-the-web-works.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/ucdavisdatalab/adventures_in_data_science/edit/master/12b_r-ggplot2.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/ucdavisdatalab/adventures_in_data_science/blob/master/12b_r-ggplot2.Rmd",
"text": null
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
