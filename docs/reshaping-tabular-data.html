<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>21 Reshaping Tabular Data | Adventures in Data Science</title>
  <meta name="description" content="21 Reshaping Tabular Data | Adventures in Data Science" />
  <meta name="generator" content="bookdown 0.22 and GitBook 2.6.7" />

  <meta property="og:title" content="21 Reshaping Tabular Data | Adventures in Data Science" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://ucdavisdatalab.github.io/adventures_in_data_science/" />
  
  
  <meta name="github-repo" content="ucdavisdatalab/adventures_in_data_science" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="21 Reshaping Tabular Data | Adventures in Data Science" />
  
  
  

<meta name="author" content="Dr. Carl Stahmer" />
<meta name="author" content="Dr. Pamela L. Reynolds" />
<meta name="author" content="Dr. Nick Ulle" />
<meta name="author" content="Dr. Tyler Shoemaker" />
<meta name="author" content="Dr. Michele Tobias" />
<meta name="author" content="Dr. Wesley Brooks" />
<meta name="author" content="Arthur Koehl" />
<meta name="author" content="Carrie Alexander" />
<meta name="author" content="Jared Joseph" />
<meta name="author" content="Liza Wood" />


<meta name="date" content="2022-05-08" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="statistics.html"/>
<link rel="next" href="data-forensics-and-cleaning-unstructured-data.html"/>
<script src="libs/header-attrs-2.9/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<link href="libs/str_view-0.1.0/str_view.css" rel="stylesheet" />
<script src="libs/str_view-binding-1.4.0/str_view.js"></script>
<link href="libs/vis-4.20.1/vis.css" rel="stylesheet" />
<script src="libs/vis-4.20.1/vis.min.js"></script>
<script src="libs/visNetwork-binding-2.0.9/visNetwork.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="https://datalab.ucdavis.edu/">
  <img src="img/datalab-logo-full-color-rgb.png" style="height: 100%; width: 100%; object-fit: contain" />
</a></li>
<li><a href="./" style="font-size: 18px">Adventures in Data Science</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Overview</a></li>
<li class="chapter" data-level="1" data-path="working-with-the-command-line.html"><a href="working-with-the-command-line.html"><i class="fa fa-check"></i><b>1</b> Working with the Command Line</a>
<ul>
<li class="chapter" data-level="1.1" data-path="working-with-the-command-line.html"><a href="working-with-the-command-line.html#interacting-with-the-command-line"><i class="fa fa-check"></i><b>1.1</b> Interacting with the Command Line</a></li>
<li class="chapter" data-level="1.2" data-path="working-with-the-command-line.html"><a href="working-with-the-command-line.html#common-command-line-commands"><i class="fa fa-check"></i><b>1.2</b> Common Command Line Commands</a></li>
<li class="chapter" data-level="1.3" data-path="working-with-the-command-line.html"><a href="working-with-the-command-line.html#command-line-text-editors"><i class="fa fa-check"></i><b>1.3</b> Command Line Text Editors</a></li>
<li class="chapter" data-level="1.4" data-path="working-with-the-command-line.html"><a href="working-with-the-command-line.html#basic-vim-commands"><i class="fa fa-check"></i><b>1.4</b> Basic Vim Commands</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="introduction-to-version-control.html"><a href="introduction-to-version-control.html"><i class="fa fa-check"></i><b>2</b> Introduction to Version Control</a>
<ul>
<li class="chapter" data-level="2.1" data-path="introduction-to-version-control.html"><a href="introduction-to-version-control.html#what-is-version-control"><i class="fa fa-check"></i><b>2.1</b> What is Version Control?</a></li>
<li class="chapter" data-level="2.2" data-path="introduction-to-version-control.html"><a href="introduction-to-version-control.html#software-assisted-version-control"><i class="fa fa-check"></i><b>2.2</b> Software Assisted Version Control</a></li>
<li class="chapter" data-level="2.3" data-path="introduction-to-version-control.html"><a href="introduction-to-version-control.html#local-vs-server-based-version-control"><i class="fa fa-check"></i><b>2.3</b> Local vs Server Based Version Control</a></li>
<li class="chapter" data-level="2.4" data-path="introduction-to-version-control.html"><a href="introduction-to-version-control.html#central-version-control-systems"><i class="fa fa-check"></i><b>2.4</b> Central Version Control Systems</a></li>
<li class="chapter" data-level="2.5" data-path="introduction-to-version-control.html"><a href="introduction-to-version-control.html#distributed-version-control-systems"><i class="fa fa-check"></i><b>2.5</b> Distributed Version Control Systems</a></li>
<li class="chapter" data-level="2.6" data-path="introduction-to-version-control.html"><a href="introduction-to-version-control.html#the-best-of-both-worlds"><i class="fa fa-check"></i><b>2.6</b> The Best of Both Worlds</a></li>
<li class="chapter" data-level="2.7" data-path="introduction-to-version-control.html"><a href="introduction-to-version-control.html#vcs-and-the-computer-file-system"><i class="fa fa-check"></i><b>2.7</b> VCS and the Computer File System</a></li>
<li class="chapter" data-level="2.8" data-path="introduction-to-version-control.html"><a href="introduction-to-version-control.html#how-computers-store-and-access-information"><i class="fa fa-check"></i><b>2.8</b> How Computers Store and Access Information</a></li>
<li class="chapter" data-level="2.9" data-path="introduction-to-version-control.html"><a href="introduction-to-version-control.html#how-vcs-manage-your-files"><i class="fa fa-check"></i><b>2.9</b> How VCS Manage Your Files</a></li>
<li class="chapter" data-level="2.10" data-path="introduction-to-version-control.html"><a href="introduction-to-version-control.html#graph-based-data-management"><i class="fa fa-check"></i><b>2.10</b> Graph-Based Data Management</a></li>
<li class="chapter" data-level="2.11" data-path="introduction-to-version-control.html"><a href="introduction-to-version-control.html#additional-resources"><i class="fa fa-check"></i><b>2.11</b> Additional Resources</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="git-version-control-basics.html"><a href="git-version-control-basics.html"><i class="fa fa-check"></i><b>3</b> Git Version Control Basics</a>
<ul>
<li class="chapter" data-level="3.1" data-path="git-version-control-basics.html"><a href="git-version-control-basics.html#save-stage-commit"><i class="fa fa-check"></i><b>3.1</b> Save, Stage, Commit</a></li>
<li class="chapter" data-level="3.2" data-path="git-version-control-basics.html"><a href="git-version-control-basics.html#creating-your-first-repo"><i class="fa fa-check"></i><b>3.2</b> Creating Your First Repo</a></li>
<li class="chapter" data-level="3.3" data-path="git-version-control-basics.html"><a href="git-version-control-basics.html#checking-the-status-of-a-repo"><i class="fa fa-check"></i><b>3.3</b> Checking the Status of a Repo</a></li>
<li class="chapter" data-level="3.4" data-path="git-version-control-basics.html"><a href="git-version-control-basics.html#version-of-a-file"><i class="fa fa-check"></i><b>3.4</b> Version of a File</a></li>
<li class="chapter" data-level="3.5" data-path="git-version-control-basics.html"><a href="git-version-control-basics.html#view-a-history-of-your-commits"><i class="fa fa-check"></i><b>3.5</b> View a History of Your Commits</a></li>
<li class="chapter" data-level="3.6" data-path="git-version-control-basics.html"><a href="git-version-control-basics.html#comparing-commits"><i class="fa fa-check"></i><b>3.6</b> Comparing Commits</a></li>
<li class="chapter" data-level="3.7" data-path="git-version-control-basics.html"><a href="git-version-control-basics.html#comparing-files"><i class="fa fa-check"></i><b>3.7</b> Comparing Files</a></li>
<li class="chapter" data-level="3.8" data-path="git-version-control-basics.html"><a href="git-version-control-basics.html#to-view-an-earlier-commit"><i class="fa fa-check"></i><b>3.8</b> To View an Earlier Commit</a></li>
<li class="chapter" data-level="3.9" data-path="git-version-control-basics.html"><a href="git-version-control-basics.html#undoing-things"><i class="fa fa-check"></i><b>3.9</b> Undoing Things</a></li>
<li class="chapter" data-level="3.10" data-path="git-version-control-basics.html"><a href="git-version-control-basics.html#when-things-go-wrong"><i class="fa fa-check"></i><b>3.10</b> When Things go Wrong!</a></li>
<li class="chapter" data-level="3.11" data-path="git-version-control-basics.html"><a href="git-version-control-basics.html#git-branching"><i class="fa fa-check"></i><b>3.11</b> Git Branching</a>
<ul>
<li class="chapter" data-level="3.11.1" data-path="git-version-control-basics.html"><a href="git-version-control-basics.html#merging-branches"><i class="fa fa-check"></i><b>3.11.1</b> Merging Branches</a></li>
<li class="chapter" data-level="3.11.2" data-path="git-version-control-basics.html"><a href="git-version-control-basics.html#branching-workflows"><i class="fa fa-check"></i><b>3.11.2</b> Branching Workflows</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="working-with-remote-repositories.html"><a href="working-with-remote-repositories.html"><i class="fa fa-check"></i><b>4</b> Working with Remote Repositories</a>
<ul>
<li class="chapter" data-level="4.1" data-path="working-with-remote-repositories.html"><a href="working-with-remote-repositories.html#github-basics"><i class="fa fa-check"></i><b>4.1</b> GitHub Basics</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="working-with-remote-repositories.html"><a href="working-with-remote-repositories.html#communicating-through-github"><i class="fa fa-check"></i><b>4.1.1</b> Communicating Through GitHub</a></li>
<li class="chapter" data-level="4.1.2" data-path="working-with-remote-repositories.html"><a href="working-with-remote-repositories.html#what-should-i-push-to-github"><i class="fa fa-check"></i><b>4.1.2</b> What Should I Push to GitHub?</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="working-with-remote-repositories.html"><a href="working-with-remote-repositories.html#basic-github-account-setup"><i class="fa fa-check"></i><b>4.2</b> Basic GitHub Account Setup</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="working-with-remote-repositories.html"><a href="working-with-remote-repositories.html#locally-setting-up-your-git-credentials"><i class="fa fa-check"></i><b>4.2.1</b> Locally Setting Up Your Git Credentials</a></li>
<li class="chapter" data-level="4.2.2" data-path="working-with-remote-repositories.html"><a href="working-with-remote-repositories.html#ssh-keys-and-github"><i class="fa fa-check"></i><b>4.2.2</b> SSH Keys and GitHub</a></li>
<li class="chapter" data-level="4.2.3" data-path="working-with-remote-repositories.html"><a href="working-with-remote-repositories.html#connecting-to-github-with-ssh"><i class="fa fa-check"></i><b>4.2.3</b> Connecting to GitHub with SSH</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="working-with-remote-repositories.html"><a href="working-with-remote-repositories.html#github-desktop-or-the-command-line"><i class="fa fa-check"></i><b>4.3</b> GitHub Desktop, or the Command Line?</a></li>
<li class="chapter" data-level="4.4" data-path="working-with-remote-repositories.html"><a href="working-with-remote-repositories.html#sync-with-github"><i class="fa fa-check"></i><b>4.4</b> Sync with GitHub</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="working-with-remote-repositories.html"><a href="working-with-remote-repositories.html#preparing-to-sync-your-repository"><i class="fa fa-check"></i><b>4.4.1</b> Preparing to Sync Your Repository</a></li>
<li class="chapter" data-level="4.4.2" data-path="working-with-remote-repositories.html"><a href="working-with-remote-repositories.html#pushing-a-local-repository"><i class="fa fa-check"></i><b>4.4.2</b> Pushing a Local Repository</a></li>
<li class="chapter" data-level="4.4.3" data-path="working-with-remote-repositories.html"><a href="working-with-remote-repositories.html#tracking-files-remotely"><i class="fa fa-check"></i><b>4.4.3</b> Tracking Files Remotely</a></li>
<li class="chapter" data-level="4.4.4" data-path="working-with-remote-repositories.html"><a href="working-with-remote-repositories.html#pulling-changes-from-a-remote-repository"><i class="fa fa-check"></i><b>4.4.4</b> Pulling Changes from a Remote Repository</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="working-with-remote-repositories.html"><a href="working-with-remote-repositories.html#cloning-a-repository"><i class="fa fa-check"></i><b>4.5</b> Cloning a Repository</a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="working-with-remote-repositories.html"><a href="working-with-remote-repositories.html#how-to-clone-a-repository"><i class="fa fa-check"></i><b>4.5.1</b> How to Clone a Repository</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="introduction-to-r.html"><a href="introduction-to-r.html"><i class="fa fa-check"></i><b>5</b> Introduction to R</a>
<ul>
<li class="chapter" data-level="5.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#learning-objectives"><i class="fa fa-check"></i><b>5.1</b> Learning objectives</a></li>
<li class="chapter" data-level="5.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#before-we-start"><i class="fa fa-check"></i><b>5.2</b> Before We Start</a></li>
<li class="chapter" data-level="5.3" data-path="introduction-to-r.html"><a href="introduction-to-r.html#mathematical-operations"><i class="fa fa-check"></i><b>5.3</b> Mathematical Operations</a></li>
<li class="chapter" data-level="5.4" data-path="introduction-to-r.html"><a href="introduction-to-r.html#variables"><i class="fa fa-check"></i><b>5.4</b> Variables</a></li>
<li class="chapter" data-level="5.5" data-path="introduction-to-r.html"><a href="introduction-to-r.html#calling-functions"><i class="fa fa-check"></i><b>5.5</b> Calling Functions</a></li>
<li class="chapter" data-level="5.6" data-path="introduction-to-r.html"><a href="introduction-to-r.html#help"><i class="fa fa-check"></i><b>5.6</b> HELP!</a>
<ul>
<li class="chapter" data-level="5.6.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#when-something-goes-wrong-and-it-will"><i class="fa fa-check"></i><b>5.6.1</b> When Something Goes Wrong (and it will)</a></li>
</ul></li>
<li class="chapter" data-level="5.7" data-path="introduction-to-r.html"><a href="introduction-to-r.html#vectors"><i class="fa fa-check"></i><b>5.7</b> Vectors</a>
<ul>
<li class="chapter" data-level="5.7.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#indexing-vectors"><i class="fa fa-check"></i><b>5.7.1</b> Indexing Vectors</a></li>
<li class="chapter" data-level="5.7.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#vectorization"><i class="fa fa-check"></i><b>5.7.2</b> Vectorization</a></li>
</ul></li>
<li class="chapter" data-level="5.8" data-path="introduction-to-r.html"><a href="introduction-to-r.html#data-frames"><i class="fa fa-check"></i><b>5.8</b> Data Frames</a>
<ul>
<li class="chapter" data-level="5.8.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#selecting-columns"><i class="fa fa-check"></i><b>5.8.1</b> Selecting Columns</a></li>
<li class="chapter" data-level="5.8.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#inspecting-data"><i class="fa fa-check"></i><b>5.8.2</b> Inspecting Data</a></li>
</ul></li>
<li class="chapter" data-level="5.9" data-path="introduction-to-r.html"><a href="introduction-to-r.html#data-types-classes"><i class="fa fa-check"></i><b>5.9</b> Data Types &amp; Classes</a>
<ul>
<li class="chapter" data-level="5.9.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#lists"><i class="fa fa-check"></i><b>5.9.1</b> Lists</a></li>
<li class="chapter" data-level="5.9.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#implicit-coercion"><i class="fa fa-check"></i><b>5.9.2</b> Implicit Coercion</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="control-structures.html"><a href="control-structures.html"><i class="fa fa-check"></i><b>6</b> Control Structures</a>
<ul>
<li class="chapter" data-level="6.1" data-path="control-structures.html"><a href="control-structures.html#if-statement"><i class="fa fa-check"></i><b>6.1</b> <em>If</em> Statement</a></li>
<li class="chapter" data-level="6.2" data-path="control-structures.html"><a href="control-structures.html#relationship-operators"><i class="fa fa-check"></i><b>6.2</b> Relationship Operators</a></li>
<li class="chapter" data-level="6.3" data-path="control-structures.html"><a href="control-structures.html#if-else-statement"><i class="fa fa-check"></i><b>6.3</b> <em>If Else</em> Statement</a></li>
<li class="chapter" data-level="6.4" data-path="control-structures.html"><a href="control-structures.html#ifelse-statement"><i class="fa fa-check"></i><b>6.4</b> <em>ifelse</em> Statement</a></li>
<li class="chapter" data-level="6.5" data-path="control-structures.html"><a href="control-structures.html#the-switch-statement"><i class="fa fa-check"></i><b>6.5</b> The <em>switch</em> Statement</a></li>
<li class="chapter" data-level="6.6" data-path="control-structures.html"><a href="control-structures.html#the-which-statement"><i class="fa fa-check"></i><b>6.6</b> The <em>which</em> Statement</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="iterating-loops.html"><a href="iterating-loops.html"><i class="fa fa-check"></i><b>7</b> Iterating (Loops)</a>
<ul>
<li class="chapter" data-level="7.1" data-path="iterating-loops.html"><a href="iterating-loops.html#for-i-in-x-loops"><i class="fa fa-check"></i><b>7.1</b> For <em>i</em> in <em>x</em> Loops</a></li>
<li class="chapter" data-level="7.2" data-path="iterating-loops.html"><a href="iterating-loops.html#while-loops"><i class="fa fa-check"></i><b>7.2</b> <em>While</em> Loops</a></li>
<li class="chapter" data-level="7.3" data-path="iterating-loops.html"><a href="iterating-loops.html#repeat-loops"><i class="fa fa-check"></i><b>7.3</b> <em>Repeat</em> Loops</a></li>
<li class="chapter" data-level="7.4" data-path="iterating-loops.html"><a href="iterating-loops.html#break-and-next"><i class="fa fa-check"></i><b>7.4</b> <em>Break</em> and <em>Next</em></a></li>
<li class="chapter" data-level="7.5" data-path="iterating-loops.html"><a href="iterating-loops.html#iterating-data.frame-rows-in-r"><i class="fa fa-check"></i><b>7.5</b> Iterating Data.Frame Rows in R</a></li>
<li class="chapter" data-level="7.6" data-path="iterating-loops.html"><a href="iterating-loops.html#lapply"><i class="fa fa-check"></i><b>7.6</b> <em>lapply()</em></a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="functions.html"><a href="functions.html"><i class="fa fa-check"></i><b>8</b> Functions</a>
<ul>
<li class="chapter" data-level="8.1" data-path="functions.html"><a href="functions.html#learning-objectives-1"><i class="fa fa-check"></i><b>8.1</b> Learning objectives</a></li>
<li class="chapter" data-level="8.2" data-path="functions.html"><a href="functions.html#what-is-a-function"><i class="fa fa-check"></i><b>8.2</b> What is a function?</a></li>
<li class="chapter" data-level="8.3" data-path="functions.html"><a href="functions.html#what-is-the-basic-syntax-of-a-function-in-r"><i class="fa fa-check"></i><b>8.3</b> What is the basic syntax of a function in R?</a></li>
<li class="chapter" data-level="8.4" data-path="functions.html"><a href="functions.html#building-and-calling-functions"><i class="fa fa-check"></i><b>8.4</b> Building and calling functions</a>
<ul>
<li class="chapter" data-level="8.4.1" data-path="functions.html"><a href="functions.html#step-1-building-the-function"><i class="fa fa-check"></i><b>8.4.1</b> Step 1: Building the function</a></li>
<li class="chapter" data-level="8.4.2" data-path="functions.html"><a href="functions.html#step-2-calling-the-function"><i class="fa fa-check"></i><b>8.4.2</b> Step 2: Calling the function</a></li>
<li class="chapter" data-level="8.4.3" data-path="functions.html"><a href="functions.html#example-function-with-one-argument"><i class="fa fa-check"></i><b>8.4.3</b> Example function with one argument</a></li>
<li class="chapter" data-level="8.4.4" data-path="functions.html"><a href="functions.html#example-function-with-more-than-one-argument"><i class="fa fa-check"></i><b>8.4.4</b> Example function with more than one argument</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="functions.html"><a href="functions.html#saving-functions-and-sourcing-them-from-another-file"><i class="fa fa-check"></i><b>8.5</b> Saving functions and sourcing them from another file</a></li>
<li class="chapter" data-level="8.6" data-path="functions.html"><a href="functions.html#saving-functions-and-calling-them-from-another-file"><i class="fa fa-check"></i><b>8.6</b> Saving functions and calling them from another file</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="working-with-files-and-packages.html"><a href="working-with-files-and-packages.html"><i class="fa fa-check"></i><b>9</b> Working with Files and Packages</a>
<ul>
<li class="chapter" data-level="9.1" data-path="working-with-files-and-packages.html"><a href="working-with-files-and-packages.html#learning-objectives-2"><i class="fa fa-check"></i><b>9.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="9.2" data-path="working-with-files-and-packages.html"><a href="working-with-files-and-packages.html#setup"><i class="fa fa-check"></i><b>9.2</b> Setup</a></li>
<li class="chapter" data-level="9.3" data-path="working-with-files-and-packages.html"><a href="working-with-files-and-packages.html#exploring-files"><i class="fa fa-check"></i><b>9.3</b> Exploring Files</a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="working-with-files-and-packages.html"><a href="working-with-files-and-packages.html#file-extensions"><i class="fa fa-check"></i><b>9.3.1</b> File Extensions</a></li>
<li class="chapter" data-level="9.3.2" data-path="working-with-files-and-packages.html"><a href="working-with-files-and-packages.html#text-files"><i class="fa fa-check"></i><b>9.3.2</b> Text Files</a></li>
<li class="chapter" data-level="9.3.3" data-path="working-with-files-and-packages.html"><a href="working-with-files-and-packages.html#binary-files"><i class="fa fa-check"></i><b>9.3.3</b> Binary Files</a></li>
<li class="chapter" data-level="9.3.4" data-path="working-with-files-and-packages.html"><a href="working-with-files-and-packages.html#common-data-file-types"><i class="fa fa-check"></i><b>9.3.4</b> Common Data File Types</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="working-with-files-and-packages.html"><a href="working-with-files-and-packages.html#reading-and-writing-files-in-r"><i class="fa fa-check"></i><b>9.4</b> Reading and Writing Files in R</a>
<ul>
<li class="chapter" data-level="9.4.1" data-path="working-with-files-and-packages.html"><a href="working-with-files-and-packages.html#the-working-directory"><i class="fa fa-check"></i><b>9.4.1</b> The Working Directory</a></li>
<li class="chapter" data-level="9.4.2" data-path="working-with-files-and-packages.html"><a href="working-with-files-and-packages.html#reading-a-csv-file"><i class="fa fa-check"></i><b>9.4.2</b> Reading a CSV File</a></li>
<li class="chapter" data-level="9.4.3" data-path="working-with-files-and-packages.html"><a href="working-with-files-and-packages.html#reader-functions-for-tabular-data"><i class="fa fa-check"></i><b>9.4.3</b> Reader Functions for Tabular Data</a></li>
<li class="chapter" data-level="9.4.4" data-path="working-with-files-and-packages.html"><a href="working-with-files-and-packages.html#rds"><i class="fa fa-check"></i><b>9.4.4</b> RDS</a></li>
<li class="chapter" data-level="9.4.5" data-path="working-with-files-and-packages.html"><a href="working-with-files-and-packages.html#writing-a-csv"><i class="fa fa-check"></i><b>9.4.5</b> Writing a csv</a></li>
<li class="chapter" data-level="9.4.6" data-path="working-with-files-and-packages.html"><a href="working-with-files-and-packages.html#excel-files-in-r"><i class="fa fa-check"></i><b>9.4.6</b> Excel Files in R</a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="working-with-files-and-packages.html"><a href="working-with-files-and-packages.html#packages"><i class="fa fa-check"></i><b>9.5</b> Packages</a>
<ul>
<li class="chapter" data-level="9.5.1" data-path="working-with-files-and-packages.html"><a href="working-with-files-and-packages.html#cran"><i class="fa fa-check"></i><b>9.5.1</b> CRAN</a></li>
<li class="chapter" data-level="9.5.2" data-path="working-with-files-and-packages.html"><a href="working-with-files-and-packages.html#using-packages"><i class="fa fa-check"></i><b>9.5.2</b> Using Packages</a></li>
<li class="chapter" data-level="9.5.3" data-path="working-with-files-and-packages.html"><a href="working-with-files-and-packages.html#load-excel-data"><i class="fa fa-check"></i><b>9.5.3</b> Load Excel Data</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="factors-special-values-and-indexing.html"><a href="factors-special-values-and-indexing.html"><i class="fa fa-check"></i><b>10</b> Factors, Special Values, and Indexing</a>
<ul>
<li class="chapter" data-level="10.1" data-path="factors-special-values-and-indexing.html"><a href="factors-special-values-and-indexing.html#learning-objectives-3"><i class="fa fa-check"></i><b>10.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="10.2" data-path="factors-special-values-and-indexing.html"><a href="factors-special-values-and-indexing.html#factors"><i class="fa fa-check"></i><b>10.2</b> Factors</a></li>
<li class="chapter" data-level="10.3" data-path="factors-special-values-and-indexing.html"><a href="factors-special-values-and-indexing.html#special-values"><i class="fa fa-check"></i><b>10.3</b> Special Values</a>
<ul>
<li class="chapter" data-level="10.3.1" data-path="factors-special-values-and-indexing.html"><a href="factors-special-values-and-indexing.html#missing-values"><i class="fa fa-check"></i><b>10.3.1</b> Missing Values</a></li>
<li class="chapter" data-level="10.3.2" data-path="factors-special-values-and-indexing.html"><a href="factors-special-values-and-indexing.html#not-a-number"><i class="fa fa-check"></i><b>10.3.2</b> Not a Number</a></li>
<li class="chapter" data-level="10.3.3" data-path="factors-special-values-and-indexing.html"><a href="factors-special-values-and-indexing.html#null"><i class="fa fa-check"></i><b>10.3.3</b> Null</a></li>
<li class="chapter" data-level="10.3.4" data-path="factors-special-values-and-indexing.html"><a href="factors-special-values-and-indexing.html#infinity"><i class="fa fa-check"></i><b>10.3.4</b> Infinity</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="factors-special-values-and-indexing.html"><a href="factors-special-values-and-indexing.html#indexing"><i class="fa fa-check"></i><b>10.4</b> Indexing</a>
<ul>
<li class="chapter" data-level="10.4.1" data-path="factors-special-values-and-indexing.html"><a href="factors-special-values-and-indexing.html#all-elements"><i class="fa fa-check"></i><b>10.4.1</b> All Elements</a></li>
<li class="chapter" data-level="10.4.2" data-path="factors-special-values-and-indexing.html"><a href="factors-special-values-and-indexing.html#by-position"><i class="fa fa-check"></i><b>10.4.2</b> By Position</a></li>
<li class="chapter" data-level="10.4.3" data-path="factors-special-values-and-indexing.html"><a href="factors-special-values-and-indexing.html#by-name"><i class="fa fa-check"></i><b>10.4.3</b> By Name</a></li>
<li class="chapter" data-level="10.4.4" data-path="factors-special-values-and-indexing.html"><a href="factors-special-values-and-indexing.html#by-condition"><i class="fa fa-check"></i><b>10.4.4</b> By Condition</a></li>
<li class="chapter" data-level="10.4.5" data-path="factors-special-values-and-indexing.html"><a href="factors-special-values-and-indexing.html#logic"><i class="fa fa-check"></i><b>10.4.5</b> Logic</a></li>
<li class="chapter" data-level="10.4.6" data-path="factors-special-values-and-indexing.html"><a href="factors-special-values-and-indexing.html#indexing-lists"><i class="fa fa-check"></i><b>10.4.6</b> Indexing Lists</a></li>
<li class="chapter" data-level="10.4.7" data-path="factors-special-values-and-indexing.html"><a href="factors-special-values-and-indexing.html#indexing-data-frames"><i class="fa fa-check"></i><b>10.4.7</b> Indexing Data Frames</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="data-forensics.html"><a href="data-forensics.html"><i class="fa fa-check"></i><b>11</b> Data Forensics</a>
<ul>
<li class="chapter" data-level="11.1" data-path="data-forensics.html"><a href="data-forensics.html#learning-objectives-4"><i class="fa fa-check"></i><b>11.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="11.2" data-path="data-forensics.html"><a href="data-forensics.html#structural-summaries-cleaning"><i class="fa fa-check"></i><b>11.2</b> Structural Summaries &amp; Cleaning</a>
<ul>
<li class="chapter" data-level="11.2.1" data-path="data-forensics.html"><a href="data-forensics.html#dates"><i class="fa fa-check"></i><b>11.2.1</b> Dates</a></li>
<li class="chapter" data-level="11.2.2" data-path="data-forensics.html"><a href="data-forensics.html#tidy-data"><i class="fa fa-check"></i><b>11.2.2</b> Tidy Data</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="data-forensics.html"><a href="data-forensics.html#statistical-forensics"><i class="fa fa-check"></i><b>11.3</b> Statistical Forensics</a>
<ul>
<li class="chapter" data-level="11.3.1" data-path="data-forensics.html"><a href="data-forensics.html#missing-values-1"><i class="fa fa-check"></i><b>11.3.1</b> Missing Values</a></li>
<li class="chapter" data-level="11.3.2" data-path="data-forensics.html"><a href="data-forensics.html#outliers"><i class="fa fa-check"></i><b>11.3.2</b> Outliers</a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="data-forensics.html"><a href="data-forensics.html#apply-functions"><i class="fa fa-check"></i><b>11.4</b> Apply Functions</a>
<ul>
<li class="chapter" data-level="11.4.1" data-path="data-forensics.html"><a href="data-forensics.html#the-sapply-function"><i class="fa fa-check"></i><b>11.4.1</b> The <code>sapply</code> Function</a></li>
<li class="chapter" data-level="11.4.2" data-path="data-forensics.html"><a href="data-forensics.html#the-split-apply-pattern"><i class="fa fa-check"></i><b>11.4.2</b> The Split-Apply Pattern</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="data-structures.html"><a href="data-structures.html"><i class="fa fa-check"></i><b>12</b> Data Structures</a>
<ul>
<li class="chapter" data-level="12.1" data-path="data-structures.html"><a href="data-structures.html#tabular-data"><i class="fa fa-check"></i><b>12.1</b> Tabular Data</a></li>
<li class="chapter" data-level="12.2" data-path="data-structures.html"><a href="data-structures.html#tree-document-data-structures"><i class="fa fa-check"></i><b>12.2</b> Tree / Document Data Structures</a>
<ul>
<li class="chapter" data-level="12.2.1" data-path="data-structures.html"><a href="data-structures.html#structuring-data-as-xml"><i class="fa fa-check"></i><b>12.2.1</b> Structuring Data as XML</a></li>
<li class="chapter" data-level="12.2.2" data-path="data-structures.html"><a href="data-structures.html#structuring-data-as-json"><i class="fa fa-check"></i><b>12.2.2</b> Structuring Data as JSON</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="data-structures.html"><a href="data-structures.html#relational-databases"><i class="fa fa-check"></i><b>12.3</b> Relational Databases</a></li>
<li class="chapter" data-level="12.4" data-path="data-structures.html"><a href="data-structures.html#non-hierarchical-relational-data"><i class="fa fa-check"></i><b>12.4</b> Non-Hierarchical Relational Data</a></li>
<li class="chapter" data-level="12.5" data-path="data-structures.html"><a href="data-structures.html#geospatial-data"><i class="fa fa-check"></i><b>12.5</b> Geospatial Data</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="data-visualization-principles-perception.html"><a href="data-visualization-principles-perception.html"><i class="fa fa-check"></i><b>13</b> Data Visualization Principles &amp; Perception</a>
<ul>
<li class="chapter" data-level="13.1" data-path="data-visualization-principles-perception.html"><a href="data-visualization-principles-perception.html#learning-objectives-5"><i class="fa fa-check"></i><b>13.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="13.2" data-path="data-visualization-principles-perception.html"><a href="data-visualization-principles-perception.html#introduction"><i class="fa fa-check"></i><b>13.2</b> Introduction</a>
<ul>
<li class="chapter" data-level="13.2.1" data-path="data-visualization-principles-perception.html"><a href="data-visualization-principles-perception.html#a-brief-history-of-data-visualization"><i class="fa fa-check"></i><b>13.2.1</b> A Brief History of Data Visualization</a></li>
<li class="chapter" data-level="13.2.2" data-path="data-visualization-principles-perception.html"><a href="data-visualization-principles-perception.html#famous-data-visualizations"><i class="fa fa-check"></i><b>13.2.2</b> Famous Data Visualizations</a></li>
</ul></li>
<li class="chapter" data-level="13.3" data-path="data-visualization-principles-perception.html"><a href="data-visualization-principles-perception.html#what-is-data-visualization"><i class="fa fa-check"></i><b>13.3</b> What is Data Visualization?</a>
<ul>
<li class="chapter" data-level="13.3.1" data-path="data-visualization-principles-perception.html"><a href="data-visualization-principles-perception.html#why-viz"><i class="fa fa-check"></i><b>13.3.1</b> Why viz?</a></li>
<li class="chapter" data-level="13.3.2" data-path="data-visualization-principles-perception.html"><a href="data-visualization-principles-perception.html#good-data-visualizations"><i class="fa fa-check"></i><b>13.3.2</b> Good data visualizations</a></li>
<li class="chapter" data-level="13.3.3" data-path="data-visualization-principles-perception.html"><a href="data-visualization-principles-perception.html#bad-data-visualizations"><i class="fa fa-check"></i><b>13.3.3</b> Bad data visualizations</a></li>
</ul></li>
<li class="chapter" data-level="13.4" data-path="data-visualization-principles-perception.html"><a href="data-visualization-principles-perception.html#before-you-viz-make-a-plan"><i class="fa fa-check"></i><b>13.4</b> Before You Viz, Make a Plan</a>
<ul>
<li class="chapter" data-level="13.4.1" data-path="data-visualization-principles-perception.html"><a href="data-visualization-principles-perception.html#purpose"><i class="fa fa-check"></i><b>13.4.1</b> Purpose</a></li>
<li class="chapter" data-level="13.4.2" data-path="data-visualization-principles-perception.html"><a href="data-visualization-principles-perception.html#audience"><i class="fa fa-check"></i><b>13.4.2</b> Audience</a></li>
<li class="chapter" data-level="13.4.3" data-path="data-visualization-principles-perception.html"><a href="data-visualization-principles-perception.html#medium"><i class="fa fa-check"></i><b>13.4.3</b> Medium</a></li>
<li class="chapter" data-level="13.4.4" data-path="data-visualization-principles-perception.html"><a href="data-visualization-principles-perception.html#tools"><i class="fa fa-check"></i><b>13.4.4</b> Tools</a></li>
<li class="chapter" data-level="13.4.5" data-path="data-visualization-principles-perception.html"><a href="data-visualization-principles-perception.html#message"><i class="fa fa-check"></i><b>13.4.5</b> Message</a></li>
<li class="chapter" data-level="13.4.6" data-path="data-visualization-principles-perception.html"><a href="data-visualization-principles-perception.html#critical-approaches"><i class="fa fa-check"></i><b>13.4.6</b> Critical Approaches</a></li>
</ul></li>
<li class="chapter" data-level="13.5" data-path="data-visualization-principles-perception.html"><a href="data-visualization-principles-perception.html#graphical-elements-of-a-plot"><i class="fa fa-check"></i><b>13.5</b> Graphical Elements of a Plot</a></li>
<li class="chapter" data-level="13.6" data-path="data-visualization-principles-perception.html"><a href="data-visualization-principles-perception.html#principles-of-visual-perception"><i class="fa fa-check"></i><b>13.6</b> Principles of Visual Perception</a>
<ul>
<li class="chapter" data-level="13.6.1" data-path="data-visualization-principles-perception.html"><a href="data-visualization-principles-perception.html#visual-magic-tricks"><i class="fa fa-check"></i><b>13.6.1</b> Visual Magic Tricks</a></li>
<li class="chapter" data-level="13.6.2" data-path="data-visualization-principles-perception.html"><a href="data-visualization-principles-perception.html#stevens-psychophysical-power-law"><i class="fa fa-check"></i><b>13.6.2</b> Steven’s Psychophysical Power Law</a></li>
<li class="chapter" data-level="13.6.3" data-path="data-visualization-principles-perception.html"><a href="data-visualization-principles-perception.html#perception-and-encodings"><i class="fa fa-check"></i><b>13.6.3</b> Perception and Encodings</a></li>
<li class="chapter" data-level="13.6.4" data-path="data-visualization-principles-perception.html"><a href="data-visualization-principles-perception.html#evaluating-graphics"><i class="fa fa-check"></i><b>13.6.4</b> Evaluating Graphics</a></li>
<li class="chapter" data-level="13.6.5" data-path="data-visualization-principles-perception.html"><a href="data-visualization-principles-perception.html#gestalt-principles"><i class="fa fa-check"></i><b>13.6.5</b> Gestalt Principles</a></li>
</ul></li>
<li class="chapter" data-level="13.7" data-path="data-visualization-principles-perception.html"><a href="data-visualization-principles-perception.html#accessible-data-visualizations"><i class="fa fa-check"></i><b>13.7</b> Accessible Data Visualizations</a></li>
<li class="chapter" data-level="13.8" data-path="data-visualization-principles-perception.html"><a href="data-visualization-principles-perception.html#designing-statistical-graphics"><i class="fa fa-check"></i><b>13.8</b> Designing Statistical Graphics</a>
<ul>
<li class="chapter" data-level="13.8.1" data-path="data-visualization-principles-perception.html"><a href="data-visualization-principles-perception.html#step-1-identify-your-data-type"><i class="fa fa-check"></i><b>13.8.1</b> Step 1: Identify Your Data Type</a></li>
<li class="chapter" data-level="13.8.2" data-path="data-visualization-principles-perception.html"><a href="data-visualization-principles-perception.html#step-2-determine-your-functional-approach"><i class="fa fa-check"></i><b>13.8.2</b> Step 2: Determine Your Functional Approach</a></li>
<li class="chapter" data-level="13.8.3" data-path="data-visualization-principles-perception.html"><a href="data-visualization-principles-perception.html#step-3-select-a-plot-type"><i class="fa fa-check"></i><b>13.8.3</b> Step 3: Select a Plot Type</a></li>
<li class="chapter" data-level="13.8.4" data-path="data-visualization-principles-perception.html"><a href="data-visualization-principles-perception.html#step-4-iterate"><i class="fa fa-check"></i><b>13.8.4</b> Step 4: Iterate</a></li>
</ul></li>
<li class="chapter" data-level="13.9" data-path="data-visualization-principles-perception.html"><a href="data-visualization-principles-perception.html#tips-for-better-plots"><i class="fa fa-check"></i><b>13.9</b> Tips for Better Plots</a>
<ul>
<li class="chapter" data-level="13.9.1" data-path="data-visualization-principles-perception.html"><a href="data-visualization-principles-perception.html#get-rid-of-chartjunk"><i class="fa fa-check"></i><b>13.9.1</b> Get Rid of Chartjunk</a></li>
<li class="chapter" data-level="13.9.2" data-path="data-visualization-principles-perception.html"><a href="data-visualization-principles-perception.html#facilitate-comparisons"><i class="fa fa-check"></i><b>13.9.2</b> Facilitate Comparisons</a></li>
<li class="chapter" data-level="13.9.3" data-path="data-visualization-principles-perception.html"><a href="data-visualization-principles-perception.html#create-information-rich-plots"><i class="fa fa-check"></i><b>13.9.3</b> Create Information-Rich Plots</a></li>
<li class="chapter" data-level="13.9.4" data-path="data-visualization-principles-perception.html"><a href="data-visualization-principles-perception.html#dont-distort-the-data"><i class="fa fa-check"></i><b>13.9.4</b> Don’t Distort the Data</a></li>
<li class="chapter" data-level="13.9.5" data-path="data-visualization-principles-perception.html"><a href="data-visualization-principles-perception.html#practice"><i class="fa fa-check"></i><b>13.9.5</b> Practice</a></li>
</ul></li>
<li class="chapter" data-level="13.10" data-path="data-visualization-principles-perception.html"><a href="data-visualization-principles-perception.html#references-and-additional-resources"><i class="fa fa-check"></i><b>13.10</b> References and Additional Resources</a>
<ul>
<li class="chapter" data-level="13.10.1" data-path="data-visualization-principles-perception.html"><a href="data-visualization-principles-perception.html#articles"><i class="fa fa-check"></i><b>13.10.1</b> Articles</a></li>
<li class="chapter" data-level="13.10.2" data-path="data-visualization-principles-perception.html"><a href="data-visualization-principles-perception.html#websites"><i class="fa fa-check"></i><b>13.10.2</b> Websites</a></li>
<li class="chapter" data-level="13.10.3" data-path="data-visualization-principles-perception.html"><a href="data-visualization-principles-perception.html#books-and-chapters"><i class="fa fa-check"></i><b>13.10.3</b> Books and Chapters</a></li>
<li class="chapter" data-level="13.10.4" data-path="data-visualization-principles-perception.html"><a href="data-visualization-principles-perception.html#historical-books"><i class="fa fa-check"></i><b>13.10.4</b> Historical Books</a></li>
<li class="chapter" data-level="13.10.5" data-path="data-visualization-principles-perception.html"><a href="data-visualization-principles-perception.html#r-graphics-references"><i class="fa fa-check"></i><b>13.10.5</b> R Graphics References</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="14" data-path="data-viz-with-ggplot-in-r.html"><a href="data-viz-with-ggplot-in-r.html"><i class="fa fa-check"></i><b>14</b> Data Viz with ggplot in R</a>
<ul>
<li class="chapter" data-level="14.1" data-path="data-viz-with-ggplot-in-r.html"><a href="data-viz-with-ggplot-in-r.html#learning-objectives-6"><i class="fa fa-check"></i><b>14.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="14.2" data-path="data-viz-with-ggplot-in-r.html"><a href="data-viz-with-ggplot-in-r.html#r-graphics-overview"><i class="fa fa-check"></i><b>14.2</b> R Graphics Overview</a></li>
<li class="chapter" data-level="14.3" data-path="data-viz-with-ggplot-in-r.html"><a href="data-viz-with-ggplot-in-r.html#the-grammar-of-graphics"><i class="fa fa-check"></i><b>14.3</b> The Grammar of Graphics</a>
<ul>
<li class="chapter" data-level="14.3.1" data-path="data-viz-with-ggplot-in-r.html"><a href="data-viz-with-ggplot-in-r.html#making-a-plot"><i class="fa fa-check"></i><b>14.3.1</b> Making a Plot</a></li>
<li class="chapter" data-level="14.3.2" data-path="data-viz-with-ggplot-in-r.html"><a href="data-viz-with-ggplot-in-r.html#saving-plots"><i class="fa fa-check"></i><b>14.3.2</b> Saving Plots</a></li>
<li class="chapter" data-level="14.3.3" data-path="data-viz-with-ggplot-in-r.html"><a href="data-viz-with-ggplot-in-r.html#example-bar-plot"><i class="fa fa-check"></i><b>14.3.3</b> Example: Bar Plot</a></li>
</ul></li>
<li class="chapter" data-level="14.4" data-path="data-viz-with-ggplot-in-r.html"><a href="data-viz-with-ggplot-in-r.html#remembering-factors"><i class="fa fa-check"></i><b>14.4</b> Remembering factors</a>
<ul>
<li class="chapter" data-level="14.4.1" data-path="data-viz-with-ggplot-in-r.html"><a href="data-viz-with-ggplot-in-r.html#assigning-factor-levels"><i class="fa fa-check"></i><b>14.4.1</b> Assigning factor levels</a></li>
</ul></li>
<li class="chapter" data-level="14.5" data-path="data-viz-with-ggplot-in-r.html"><a href="data-viz-with-ggplot-in-r.html#designing-a-visualization"><i class="fa fa-check"></i><b>14.5</b> Designing a Visualization</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="how-the-web-works.html"><a href="how-the-web-works.html"><i class="fa fa-check"></i><b>15</b> How the Web Works</a>
<ul>
<li class="chapter" data-level="15.1" data-path="how-the-web-works.html"><a href="how-the-web-works.html#client-server-architecture"><i class="fa fa-check"></i><b>15.1</b> Client-Server Architecture</a>
<ul>
<li class="chapter" data-level="15.1.1" data-path="how-the-web-works.html"><a href="how-the-web-works.html#communication-between-clients-and-servers"><i class="fa fa-check"></i><b>15.1.1</b> Communication Between Clients and Servers</a></li>
<li class="chapter" data-level="15.1.2" data-path="how-the-web-works.html"><a href="how-the-web-works.html#domain-name-resolution"><i class="fa fa-check"></i><b>15.1.2</b> Domain Name Resolution</a></li>
<li class="chapter" data-level="15.1.3" data-path="how-the-web-works.html"><a href="how-the-web-works.html#request-routing"><i class="fa fa-check"></i><b>15.1.3</b> Request Routing</a></li>
<li class="chapter" data-level="15.1.4" data-path="how-the-web-works.html"><a href="how-the-web-works.html#the-server-response"><i class="fa fa-check"></i><b>15.1.4</b> The Server Response</a></li>
<li class="chapter" data-level="15.1.5" data-path="how-the-web-works.html"><a href="how-the-web-works.html#internet-transfer-protocols"><i class="fa fa-check"></i><b>15.1.5</b> Internet Transfer Protocols</a></li>
</ul></li>
<li class="chapter" data-level="15.2" data-path="how-the-web-works.html"><a href="how-the-web-works.html#understanding-urls"><i class="fa fa-check"></i><b>15.2</b> Understanding URLs</a>
<ul>
<li class="chapter" data-level="15.2.1" data-path="how-the-web-works.html"><a href="how-the-web-works.html#dynamic-files"><i class="fa fa-check"></i><b>15.2.1</b> Dynamic Files</a></li>
<li class="chapter" data-level="15.2.2" data-path="how-the-web-works.html"><a href="how-the-web-works.html#query-strings"><i class="fa fa-check"></i><b>15.2.2</b> Query Strings</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="16" data-path="getting-data-from-the-web.html"><a href="getting-data-from-the-web.html"><i class="fa fa-check"></i><b>16</b> Getting Data from the Web</a>
<ul>
<li class="chapter" data-level="16.1" data-path="getting-data-from-the-web.html"><a href="getting-data-from-the-web.html#overview-1"><i class="fa fa-check"></i><b>16.1</b> Overview</a></li>
<li class="chapter" data-level="16.2" data-path="getting-data-from-the-web.html"><a href="getting-data-from-the-web.html#apis"><i class="fa fa-check"></i><b>16.2</b> APIs</a>
<ul>
<li class="chapter" data-level="16.2.1" data-path="getting-data-from-the-web.html"><a href="getting-data-from-the-web.html#querying-to-an-api"><i class="fa fa-check"></i><b>16.2.1</b> Querying to an API</a></li>
</ul></li>
<li class="chapter" data-level="16.3" data-path="getting-data-from-the-web.html"><a href="getting-data-from-the-web.html#web-scraping"><i class="fa fa-check"></i><b>16.3</b> Web Scraping</a>
<ul>
<li class="chapter" data-level="16.3.1" data-path="getting-data-from-the-web.html"><a href="getting-data-from-the-web.html#whats-in-a-web-page"><i class="fa fa-check"></i><b>16.3.1</b> What’s in a Web Page?</a></li>
</ul></li>
<li class="chapter" data-level="16.4" data-path="getting-data-from-the-web.html"><a href="getting-data-from-the-web.html#rs-xml-parsers"><i class="fa fa-check"></i><b>16.4</b> R’s XML Parsers</a></li>
<li class="chapter" data-level="16.5" data-path="getting-data-from-the-web.html"><a href="getting-data-from-the-web.html#xpath"><i class="fa fa-check"></i><b>16.5</b> XPath</a>
<ul>
<li class="chapter" data-level="16.5.1" data-path="getting-data-from-the-web.html"><a href="getting-data-from-the-web.html#predicates"><i class="fa fa-check"></i><b>16.5.1</b> Predicates</a></li>
</ul></li>
<li class="chapter" data-level="16.6" data-path="getting-data-from-the-web.html"><a href="getting-data-from-the-web.html#the-web-scraping-workflow"><i class="fa fa-check"></i><b>16.6</b> The Web Scraping Workflow</a>
<ul>
<li class="chapter" data-level="16.6.1" data-path="getting-data-from-the-web.html"><a href="getting-data-from-the-web.html#being-polite"><i class="fa fa-check"></i><b>16.6.1</b> Being Polite</a></li>
</ul></li>
<li class="chapter" data-level="16.7" data-path="getting-data-from-the-web.html"><a href="getting-data-from-the-web.html#case-study-ca-cities"><i class="fa fa-check"></i><b>16.7</b> Case Study: CA Cities</a>
<ul>
<li class="chapter" data-level="16.7.1" data-path="getting-data-from-the-web.html"><a href="getting-data-from-the-web.html#data-cleaning"><i class="fa fa-check"></i><b>16.7.1</b> Data Cleaning</a></li>
</ul></li>
<li class="chapter" data-level="16.8" data-path="getting-data-from-the-web.html"><a href="getting-data-from-the-web.html#case-study-the-ca-aggie"><i class="fa fa-check"></i><b>16.8</b> Case Study: The CA Aggie</a></li>
<li class="chapter" data-level="16.9" data-path="getting-data-from-the-web.html"><a href="getting-data-from-the-web.html#css-selectors"><i class="fa fa-check"></i><b>16.9</b> CSS Selectors</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html"><i class="fa fa-check"></i><b>17</b> Strings and Regular Expressions</a>
<ul>
<li class="chapter" data-level="17.1" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#printing-output"><i class="fa fa-check"></i><b>17.1</b> Printing Output</a></li>
<li class="chapter" data-level="17.2" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#escape-sequences"><i class="fa fa-check"></i><b>17.2</b> Escape Sequences</a>
<ul>
<li class="chapter" data-level="17.2.1" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#raw-strings"><i class="fa fa-check"></i><b>17.2.1</b> Raw Strings</a></li>
</ul></li>
<li class="chapter" data-level="17.3" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#character-encodings"><i class="fa fa-check"></i><b>17.3</b> Character Encodings</a></li>
<li class="chapter" data-level="17.4" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#the-tidyverse"><i class="fa fa-check"></i><b>17.4</b> The Tidyverse</a></li>
<li class="chapter" data-level="17.5" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#the-stringr-package"><i class="fa fa-check"></i><b>17.5</b> The stringr Package</a>
<ul>
<li class="chapter" data-level="17.5.1" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#splitting-strings"><i class="fa fa-check"></i><b>17.5.1</b> Splitting Strings</a></li>
<li class="chapter" data-level="17.5.2" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#replacing-parts-of-strings"><i class="fa fa-check"></i><b>17.5.2</b> Replacing Parts of Strings</a></li>
</ul></li>
<li class="chapter" data-level="17.6" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#regular-expressions"><i class="fa fa-check"></i><b>17.6</b> Regular Expressions</a>
<ul>
<li class="chapter" data-level="17.6.1" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#the-wildcard"><i class="fa fa-check"></i><b>17.6.1</b> The Wildcard</a></li>
<li class="chapter" data-level="17.6.2" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#escape-sequences-1"><i class="fa fa-check"></i><b>17.6.2</b> Escape Sequences</a></li>
<li class="chapter" data-level="17.6.3" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#anchors"><i class="fa fa-check"></i><b>17.6.3</b> Anchors</a></li>
<li class="chapter" data-level="17.6.4" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#character-classes"><i class="fa fa-check"></i><b>17.6.4</b> Character Classes</a></li>
<li class="chapter" data-level="17.6.5" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#quantifiers"><i class="fa fa-check"></i><b>17.6.5</b> Quantifiers</a></li>
<li class="chapter" data-level="17.6.6" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#groups"><i class="fa fa-check"></i><b>17.6.6</b> Groups</a></li>
<li class="chapter" data-level="17.6.7" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#extracting-matches"><i class="fa fa-check"></i><b>17.6.7</b> Extracting Matches</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="18" data-path="optical-character-recognition.html"><a href="optical-character-recognition.html"><i class="fa fa-check"></i><b>18</b> Optical Character Recognition</a>
<ul>
<li class="chapter" data-level="18.1" data-path="optical-character-recognition.html"><a href="optical-character-recognition.html#loading-page-images"><i class="fa fa-check"></i><b>18.1</b> Loading Page Images</a></li>
<li class="chapter" data-level="18.2" data-path="optical-character-recognition.html"><a href="optical-character-recognition.html#running-ocr"><i class="fa fa-check"></i><b>18.2</b> Running OCR</a></li>
<li class="chapter" data-level="18.3" data-path="optical-character-recognition.html"><a href="optical-character-recognition.html#accuracy"><i class="fa fa-check"></i><b>18.3</b> Accuracy</a></li>
<li class="chapter" data-level="18.4" data-path="optical-character-recognition.html"><a href="optical-character-recognition.html#unreadable-text"><i class="fa fa-check"></i><b>18.4</b> Unreadable Text</a></li>
</ul></li>
<li class="chapter" data-level="19" data-path="network-analysis.html"><a href="network-analysis.html"><i class="fa fa-check"></i><b>19</b> Network Analysis</a>
<ul>
<li class="chapter" data-level="19.1" data-path="network-analysis.html"><a href="network-analysis.html#overview-2"><i class="fa fa-check"></i><b>19.1</b> Overview</a>
<ul>
<li class="chapter" data-level="19.1.1" data-path="network-analysis.html"><a href="network-analysis.html#while-you-wait"><i class="fa fa-check"></i><b>19.1.1</b> While you wait</a></li>
<li class="chapter" data-level="19.1.2" data-path="network-analysis.html"><a href="network-analysis.html#learning-objectives-7"><i class="fa fa-check"></i><b>19.1.2</b> Learning Objectives</a></li>
<li class="chapter" data-level="19.1.3" data-path="network-analysis.html"><a href="network-analysis.html#roadmap"><i class="fa fa-check"></i><b>19.1.3</b> Roadmap</a></li>
</ul></li>
<li class="chapter" data-level="19.2" data-path="network-analysis.html"><a href="network-analysis.html#what-is-network-analysis"><i class="fa fa-check"></i><b>19.2</b> What is Network Analysis</a>
<ul>
<li class="chapter" data-level="19.2.1" data-path="network-analysis.html"><a href="network-analysis.html#networks-in-research---social-sciences"><i class="fa fa-check"></i><b>19.2.1</b> Networks in research - Social Sciences</a></li>
<li class="chapter" data-level="19.2.2" data-path="network-analysis.html"><a href="network-analysis.html#networks-in-research---neuroscience"><i class="fa fa-check"></i><b>19.2.2</b> Networks in research - Neuroscience</a></li>
<li class="chapter" data-level="19.2.3" data-path="network-analysis.html"><a href="network-analysis.html#networks-in-research---chemistry"><i class="fa fa-check"></i><b>19.2.3</b> Networks in research - Chemistry</a></li>
<li class="chapter" data-level="19.2.4" data-path="network-analysis.html"><a href="network-analysis.html#networks-in-research---the-internet"><i class="fa fa-check"></i><b>19.2.4</b> Networks in research - The Internet</a></li>
<li class="chapter" data-level="19.2.5" data-path="network-analysis.html"><a href="network-analysis.html#networks-in-research---infrastructure"><i class="fa fa-check"></i><b>19.2.5</b> Networks in research - Infrastructure</a></li>
<li class="chapter" data-level="19.2.6" data-path="network-analysis.html"><a href="network-analysis.html#networks-in-research---security"><i class="fa fa-check"></i><b>19.2.6</b> Networks in research - Security</a></li>
</ul></li>
<li class="chapter" data-level="19.3" data-path="network-analysis.html"><a href="network-analysis.html#network-data"><i class="fa fa-check"></i><b>19.3</b> Network Data</a>
<ul>
<li class="chapter" data-level="19.3.1" data-path="network-analysis.html"><a href="network-analysis.html#edgelist"><i class="fa fa-check"></i><b>19.3.1</b> Edgelist</a></li>
<li class="chapter" data-level="19.3.2" data-path="network-analysis.html"><a href="network-analysis.html#adjacency-matrix"><i class="fa fa-check"></i><b>19.3.2</b> Adjacency Matrix</a></li>
<li class="chapter" data-level="19.3.3" data-path="network-analysis.html"><a href="network-analysis.html#edge-weights"><i class="fa fa-check"></i><b>19.3.3</b> Edge Weights</a></li>
<li class="chapter" data-level="19.3.4" data-path="network-analysis.html"><a href="network-analysis.html#attributes"><i class="fa fa-check"></i><b>19.3.4</b> Attributes</a></li>
<li class="chapter" data-level="19.3.5" data-path="network-analysis.html"><a href="network-analysis.html#create-an-example-network"><i class="fa fa-check"></i><b>19.3.5</b> Create an Example Network</a></li>
<li class="chapter" data-level="19.3.6" data-path="network-analysis.html"><a href="network-analysis.html#components"><i class="fa fa-check"></i><b>19.3.6</b> Components</a></li>
<li class="chapter" data-level="19.3.7" data-path="network-analysis.html"><a href="network-analysis.html#limitations-of-network-data"><i class="fa fa-check"></i><b>19.3.7</b> Limitations of Network Data</a></li>
<li class="chapter" data-level="19.3.8" data-path="network-analysis.html"><a href="network-analysis.html#projected-networks"><i class="fa fa-check"></i><b>19.3.8</b> Projected Networks</a></li>
</ul></li>
<li class="chapter" data-level="19.4" data-path="network-analysis.html"><a href="network-analysis.html#graph-level-properties"><i class="fa fa-check"></i><b>19.4</b> Graph Level Properties</a>
<ul>
<li class="chapter" data-level="19.4.1" data-path="network-analysis.html"><a href="network-analysis.html#directed-or-un-directed"><i class="fa fa-check"></i><b>19.4.1</b> Directed or Un-directed</a></li>
<li class="chapter" data-level="19.4.2" data-path="network-analysis.html"><a href="network-analysis.html#density"><i class="fa fa-check"></i><b>19.4.2</b> Density</a></li>
<li class="chapter" data-level="19.4.3" data-path="network-analysis.html"><a href="network-analysis.html#centralization"><i class="fa fa-check"></i><b>19.4.3</b> Centralization</a></li>
</ul></li>
<li class="chapter" data-level="19.5" data-path="network-analysis.html"><a href="network-analysis.html#node-level-properties"><i class="fa fa-check"></i><b>19.5</b> Node Level Properties</a>
<ul>
<li class="chapter" data-level="19.5.1" data-path="network-analysis.html"><a href="network-analysis.html#degree"><i class="fa fa-check"></i><b>19.5.1</b> Degree</a></li>
<li class="chapter" data-level="19.5.2" data-path="network-analysis.html"><a href="network-analysis.html#geodesic-distance"><i class="fa fa-check"></i><b>19.5.2</b> Geodesic Distance</a></li>
<li class="chapter" data-level="19.5.3" data-path="network-analysis.html"><a href="network-analysis.html#centrality"><i class="fa fa-check"></i><b>19.5.3</b> Centrality</a></li>
</ul></li>
<li class="chapter" data-level="19.6" data-path="network-analysis.html"><a href="network-analysis.html#network-workflow"><i class="fa fa-check"></i><b>19.6</b> Network Workflow</a></li>
<li class="chapter" data-level="19.7" data-path="network-analysis.html"><a href="network-analysis.html#network-tools"><i class="fa fa-check"></i><b>19.7</b> Network Tools</a>
<ul>
<li class="chapter" data-level="19.7.1" data-path="network-analysis.html"><a href="network-analysis.html#network-models"><i class="fa fa-check"></i><b>19.7.1</b> Network Models</a></li>
<li class="chapter" data-level="19.7.2" data-path="network-analysis.html"><a href="network-analysis.html#network-visualization"><i class="fa fa-check"></i><b>19.7.2</b> Network Visualization</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="20" data-path="statistics.html"><a href="statistics.html"><i class="fa fa-check"></i><b>20</b> Statistics</a>
<ul>
<li class="chapter" data-level="20.1" data-path="statistics.html"><a href="statistics.html#introduction-1"><i class="fa fa-check"></i><b>20.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="20.1.1" data-path="statistics.html"><a href="statistics.html#mice_pot-dataset"><i class="fa fa-check"></i><b>20.1.1</b> <code>mice_pot</code> dataset</a></li>
<li class="chapter" data-level="20.1.2" data-path="statistics.html"><a href="statistics.html#barnacles-dataset"><i class="fa fa-check"></i><b>20.1.2</b> <code>barnacles</code> dataset</a></li>
<li class="chapter" data-level="20.1.3" data-path="statistics.html"><a href="statistics.html#sample-and-population"><i class="fa fa-check"></i><b>20.1.3</b> Sample and population</a></li>
</ul></li>
<li class="chapter" data-level="20.2" data-path="statistics.html"><a href="statistics.html#uses-of-simulation"><i class="fa fa-check"></i><b>20.2</b> Uses of simulation</a></li>
<li class="chapter" data-level="20.3" data-path="statistics.html"><a href="statistics.html#mathematical-statistics"><i class="fa fa-check"></i><b>20.3</b> Mathematical statistics</a>
<ul>
<li class="chapter" data-level="20.3.1" data-path="statistics.html"><a href="statistics.html#law-of-large-numbers"><i class="fa fa-check"></i><b>20.3.1</b> Law of large numbers</a></li>
<li class="chapter" data-level="20.3.2" data-path="statistics.html"><a href="statistics.html#central-limit-theorem"><i class="fa fa-check"></i><b>20.3.2</b> Central limit theorem</a></li>
</ul></li>
<li class="chapter" data-level="20.4" data-path="statistics.html"><a href="statistics.html#statistical-inference"><i class="fa fa-check"></i><b>20.4</b> Statistical inference</a>
<ul>
<li class="chapter" data-level="20.4.1" data-path="statistics.html"><a href="statistics.html#confidence-intervals"><i class="fa fa-check"></i><b>20.4.1</b> Confidence intervals</a></li>
<li class="chapter" data-level="20.4.2" data-path="statistics.html"><a href="statistics.html#two-population-test"><i class="fa fa-check"></i><b>20.4.2</b> Two-population test</a></li>
<li class="chapter" data-level="20.4.3" data-path="statistics.html"><a href="statistics.html#hypothesis-tests-for-non-normal-data"><i class="fa fa-check"></i><b>20.4.3</b> Hypothesis tests for non-normal data</a></li>
</ul></li>
<li class="chapter" data-level="20.5" data-path="statistics.html"><a href="statistics.html#regression"><i class="fa fa-check"></i><b>20.5</b> Regression</a>
<ul>
<li class="chapter" data-level="20.5.1" data-path="statistics.html"><a href="statistics.html#fitting-a-regression-line"><i class="fa fa-check"></i><b>20.5.1</b> Fitting a regression line</a></li>
<li class="chapter" data-level="20.5.2" data-path="statistics.html"><a href="statistics.html#assumptions-and-diagnostics"><i class="fa fa-check"></i><b>20.5.2</b> Assumptions and diagnostics</a></li>
<li class="chapter" data-level="20.5.3" data-path="statistics.html"><a href="statistics.html#functions-for-inspecting-regression-fits"><i class="fa fa-check"></i><b>20.5.3</b> Functions for inspecting regression fits</a></li>
<li class="chapter" data-level="20.5.4" data-path="statistics.html"><a href="statistics.html#a-model-that-fails-diagnostics"><i class="fa fa-check"></i><b>20.5.4</b> A model that fails diagnostics</a></li>
<li class="chapter" data-level="20.5.5" data-path="statistics.html"><a href="statistics.html#predictions-and-variability"><i class="fa fa-check"></i><b>20.5.5</b> Predictions and variability</a></li>
</ul></li>
<li class="chapter" data-level="20.6" data-path="statistics.html"><a href="statistics.html#model-selection"><i class="fa fa-check"></i><b>20.6</b> Model selection</a></li>
<li class="chapter" data-level="20.7" data-path="statistics.html"><a href="statistics.html#cross-validation"><i class="fa fa-check"></i><b>20.7</b> Cross-validation</a></li>
</ul></li>
<li class="chapter" data-level="21" data-path="reshaping-tabular-data.html"><a href="reshaping-tabular-data.html"><i class="fa fa-check"></i><b>21</b> Reshaping Tabular Data</a>
<ul>
<li class="chapter" data-level="21.1" data-path="reshaping-tabular-data.html"><a href="reshaping-tabular-data.html#learning-objectives-8"><i class="fa fa-check"></i><b>21.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="21.2" data-path="reshaping-tabular-data.html"><a href="reshaping-tabular-data.html#introduction-2"><i class="fa fa-check"></i><b>21.2</b> Introduction</a>
<ul>
<li class="chapter" data-level="21.2.1" data-path="reshaping-tabular-data.html"><a href="reshaping-tabular-data.html#columns-into-rows"><i class="fa fa-check"></i><b>21.2.1</b> Columns into Rows</a></li>
<li class="chapter" data-level="21.2.2" data-path="reshaping-tabular-data.html"><a href="reshaping-tabular-data.html#rows-into-columns"><i class="fa fa-check"></i><b>21.2.2</b> Rows into Columns</a></li>
<li class="chapter" data-level="21.2.3" data-path="reshaping-tabular-data.html"><a href="reshaping-tabular-data.html#separating-values"><i class="fa fa-check"></i><b>21.2.3</b> Separating Values</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="22" data-path="data-forensics-and-cleaning-unstructured-data.html"><a href="data-forensics-and-cleaning-unstructured-data.html"><i class="fa fa-check"></i><b>22</b> Data Forensics and Cleaning: Unstructured Data</a>
<ul>
<li class="chapter" data-level="22.1" data-path="data-forensics-and-cleaning-unstructured-data.html"><a href="data-forensics-and-cleaning-unstructured-data.html#preliminaries"><i class="fa fa-check"></i><b>22.1</b> Preliminaries</a></li>
<li class="chapter" data-level="22.2" data-path="data-forensics-and-cleaning-unstructured-data.html"><a href="data-forensics-and-cleaning-unstructured-data.html#using-a-file-manifest"><i class="fa fa-check"></i><b>22.2</b> Using a File Manifest</a></li>
<li class="chapter" data-level="22.3" data-path="data-forensics-and-cleaning-unstructured-data.html"><a href="data-forensics-and-cleaning-unstructured-data.html#loading-a-corpus"><i class="fa fa-check"></i><b>22.3</b> Loading a Corpus</a></li>
<li class="chapter" data-level="22.4" data-path="data-forensics-and-cleaning-unstructured-data.html"><a href="data-forensics-and-cleaning-unstructured-data.html#preprocessing"><i class="fa fa-check"></i><b>22.4</b> Preprocessing</a>
<ul>
<li class="chapter" data-level="22.4.1" data-path="data-forensics-and-cleaning-unstructured-data.html"><a href="data-forensics-and-cleaning-unstructured-data.html#tokenizing-and-bags-of-words"><i class="fa fa-check"></i><b>22.4.1</b> Tokenizing and Bags of Words</a></li>
<li class="chapter" data-level="22.4.2" data-path="data-forensics-and-cleaning-unstructured-data.html"><a href="data-forensics-and-cleaning-unstructured-data.html#text-normalization"><i class="fa fa-check"></i><b>22.4.2</b> Text Normalization</a></li>
<li class="chapter" data-level="22.4.3" data-path="data-forensics-and-cleaning-unstructured-data.html"><a href="data-forensics-and-cleaning-unstructured-data.html#stop-words"><i class="fa fa-check"></i><b>22.4.3</b> Stop Words</a></li>
<li class="chapter" data-level="22.4.4" data-path="data-forensics-and-cleaning-unstructured-data.html"><a href="data-forensics-and-cleaning-unstructured-data.html#tokenizers"><i class="fa fa-check"></i><b>22.4.4</b> Tokenizers</a></li>
<li class="chapter" data-level="22.4.5" data-path="data-forensics-and-cleaning-unstructured-data.html"><a href="data-forensics-and-cleaning-unstructured-data.html#document-chunking-and-n-grams"><i class="fa fa-check"></i><b>22.4.5</b> Document Chunking and N-grams</a></li>
</ul></li>
<li class="chapter" data-level="22.5" data-path="data-forensics-and-cleaning-unstructured-data.html"><a href="data-forensics-and-cleaning-unstructured-data.html#counting-terms"><i class="fa fa-check"></i><b>22.5</b> Counting Terms</a>
<ul>
<li class="chapter" data-level="22.5.1" data-path="data-forensics-and-cleaning-unstructured-data.html"><a href="data-forensics-and-cleaning-unstructured-data.html#term-frequency"><i class="fa fa-check"></i><b>22.5.1</b> Term Frequency</a></li>
<li class="chapter" data-level="22.5.2" data-path="data-forensics-and-cleaning-unstructured-data.html"><a href="data-forensics-and-cleaning-unstructured-data.html#plotting-term-frequency"><i class="fa fa-check"></i><b>22.5.2</b> Plotting Term Frequency</a></li>
<li class="chapter" data-level="22.5.3" data-path="data-forensics-and-cleaning-unstructured-data.html"><a href="data-forensics-and-cleaning-unstructured-data.html#comparing-term-frequencies-across-documents"><i class="fa fa-check"></i><b>22.5.3</b> Comparing Term Frequencies Across Documents</a></li>
</ul></li>
<li class="chapter" data-level="22.6" data-path="data-forensics-and-cleaning-unstructured-data.html"><a href="data-forensics-and-cleaning-unstructured-data.html#text-mining-pipepline"><i class="fa fa-check"></i><b>22.6</b> Text Mining Pipepline</a></li>
<li class="chapter" data-level="22.7" data-path="data-forensics-and-cleaning-unstructured-data.html"><a href="data-forensics-and-cleaning-unstructured-data.html#document-term-matrix"><i class="fa fa-check"></i><b>22.7</b> Document Term Matrix</a></li>
<li class="chapter" data-level="22.8" data-path="data-forensics-and-cleaning-unstructured-data.html"><a href="data-forensics-and-cleaning-unstructured-data.html#corpus-analytics"><i class="fa fa-check"></i><b>22.8</b> Corpus Analytics</a>
<ul>
<li class="chapter" data-level="22.8.1" data-path="data-forensics-and-cleaning-unstructured-data.html"><a href="data-forensics-and-cleaning-unstructured-data.html#corpus-term-counts"><i class="fa fa-check"></i><b>22.8.1</b> Corpus Term Counts</a></li>
<li class="chapter" data-level="22.8.2" data-path="data-forensics-and-cleaning-unstructured-data.html"><a href="data-forensics-and-cleaning-unstructured-data.html#tfidf-scores"><i class="fa fa-check"></i><b>22.8.2</b> tf–idf Scores</a></li>
<li class="chapter" data-level="22.8.3" data-path="data-forensics-and-cleaning-unstructured-data.html"><a href="data-forensics-and-cleaning-unstructured-data.html#unique-terms-in-a-document"><i class="fa fa-check"></i><b>22.8.3</b> Unique Terms in a Document</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="23" data-path="data-forensics-and-cleaning-geospatial-data.html"><a href="data-forensics-and-cleaning-geospatial-data.html"><i class="fa fa-check"></i><b>23</b> Data Forensics and Cleaning: Geospatial Data</a>
<ul>
<li class="chapter" data-level="23.1" data-path="data-forensics-and-cleaning-geospatial-data.html"><a href="data-forensics-and-cleaning-geospatial-data.html#learning-objectives-9"><i class="fa fa-check"></i><b>23.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="23.2" data-path="data-forensics-and-cleaning-geospatial-data.html"><a href="data-forensics-and-cleaning-geospatial-data.html#what-is-geospatial-data"><i class="fa fa-check"></i><b>23.2</b> What is Geospatial Data?</a>
<ul>
<li class="chapter" data-level="23.2.1" data-path="data-forensics-and-cleaning-geospatial-data.html"><a href="data-forensics-and-cleaning-geospatial-data.html#attributes-1"><i class="fa fa-check"></i><b>23.2.1</b> Attributes</a></li>
<li class="chapter" data-level="23.2.2" data-path="data-forensics-and-cleaning-geospatial-data.html"><a href="data-forensics-and-cleaning-geospatial-data.html#coordinate-reference-system"><i class="fa fa-check"></i><b>23.2.2</b> Coordinate Reference System</a></li>
<li class="chapter" data-level="23.2.3" data-path="data-forensics-and-cleaning-geospatial-data.html"><a href="data-forensics-and-cleaning-geospatial-data.html#coordinates"><i class="fa fa-check"></i><b>23.2.3</b> Coordinates</a></li>
</ul></li>
<li class="chapter" data-level="23.3" data-path="data-forensics-and-cleaning-geospatial-data.html"><a href="data-forensics-and-cleaning-geospatial-data.html#geospatial-data-models"><i class="fa fa-check"></i><b>23.3</b> Geospatial Data Models</a>
<ul>
<li class="chapter" data-level="23.3.1" data-path="data-forensics-and-cleaning-geospatial-data.html"><a href="data-forensics-and-cleaning-geospatial-data.html#vector-data"><i class="fa fa-check"></i><b>23.3.1</b> Vector Data</a></li>
<li class="chapter" data-level="23.3.2" data-path="data-forensics-and-cleaning-geospatial-data.html"><a href="data-forensics-and-cleaning-geospatial-data.html#raster-data"><i class="fa fa-check"></i><b>23.3.2</b> Raster Data</a></li>
</ul></li>
<li class="chapter" data-level="23.4" data-path="data-forensics-and-cleaning-geospatial-data.html"><a href="data-forensics-and-cleaning-geospatial-data.html#data-structures-applied-to-geospatial-data"><i class="fa fa-check"></i><b>23.4</b> Data Structures Applied to Geospatial Data</a></li>
<li class="chapter" data-level="23.5" data-path="data-forensics-and-cleaning-geospatial-data.html"><a href="data-forensics-and-cleaning-geospatial-data.html#cleaning-geospatial-data"><i class="fa fa-check"></i><b>23.5</b> Cleaning Geospatial Data</a>
<ul>
<li class="chapter" data-level="23.5.1" data-path="data-forensics-and-cleaning-geospatial-data.html"><a href="data-forensics-and-cleaning-geospatial-data.html#example-data"><i class="fa fa-check"></i><b>23.5.1</b> Example Data</a></li>
<li class="chapter" data-level="23.5.2" data-path="data-forensics-and-cleaning-geospatial-data.html"><a href="data-forensics-and-cleaning-geospatial-data.html#making-location-data-usable"><i class="fa fa-check"></i><b>23.5.2</b> Making Location Data Usable</a></li>
<li class="chapter" data-level="23.5.3" data-path="data-forensics-and-cleaning-geospatial-data.html"><a href="data-forensics-and-cleaning-geospatial-data.html#cleaning-location-data"><i class="fa fa-check"></i><b>23.5.3</b> Cleaning Location Data</a></li>
<li class="chapter" data-level="23.5.4" data-path="data-forensics-and-cleaning-geospatial-data.html"><a href="data-forensics-and-cleaning-geospatial-data.html#cleaning-attribute-data"><i class="fa fa-check"></i><b>23.5.4</b> Cleaning Attribute Data</a></li>
<li class="chapter" data-level="23.5.5" data-path="data-forensics-and-cleaning-geospatial-data.html"><a href="data-forensics-and-cleaning-geospatial-data.html#checking-coordinate-reference-systems"><i class="fa fa-check"></i><b>23.5.5</b> Checking Coordinate Reference Systems</a></li>
</ul></li>
<li class="chapter" data-level="23.6" data-path="data-forensics-and-cleaning-geospatial-data.html"><a href="data-forensics-and-cleaning-geospatial-data.html#conclusions"><i class="fa fa-check"></i><b>23.6</b> Conclusions</a></li>
<li class="chapter" data-level="23.7" data-path="data-forensics-and-cleaning-geospatial-data.html"><a href="data-forensics-and-cleaning-geospatial-data.html#optional-further-reading"><i class="fa fa-check"></i><b>23.7</b> Optional Further Reading</a></li>
</ul></li>
<li class="chapter" data-level="24" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i><b>24</b> References</a></li>
<li class="divider"></li>
<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">
  <img alt="CC BY-SA 4.0" src="https://img.shields.io/badge/License-CC%20BY--NC--SA%204.0-lightgrey.svg" style="float: right; padding-right: 10px;" />
</a>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Adventures in Data Science</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="reshaping-tabular-data" class="section level1" number="21">
<h1><span class="header-section-number">21</span> Reshaping Tabular Data</h1>
<div id="learning-objectives-8" class="section level2" number="21.1">
<h2><span class="header-section-number">21.1</span> Learning Objectives</h2>
<p>After this lesson, you should be able to:</p>
<ul>
<li>Cleaning:
<ul>
<li>Pivot columns in a data set to make it tidy</li>
<li>Separate values in a column that contains multiple values per cell</li>
<li>Convert columns to appropriate data types</li>
</ul></li>
</ul>
</div>
<div id="introduction-2" class="section level2" number="21.2">
<h2><span class="header-section-number">21.2</span> Introduction</h2>
<p>This lesson focuses on how to identify untidy tabular data sets and reshape
them to be tidy, in the sense descriped in Section <a href="data-forensics.html#tidy-data">11.2.2</a>.</p>
<p>Let’s look at some examples of tidy and untidy data sets. The <strong>tidyr</strong> package
provides examples, and as we’ll see later, it also provides functions to make
untidy data sets tidy. As usual, we first need to load the package:</p>
<div class="sourceCode" id="cb782"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb782-1"><a href="reshaping-tabular-data.html#cb782-1" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages(&quot;tidyr&quot;)</span></span>
<span id="cb782-2"><a href="reshaping-tabular-data.html#cb782-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span></code></pre></div>
<p>Let’s start with an example of tidy data. This data set is included in the
<strong>tidyr</strong> package and records the number of tuberculosis cases across several
different countries and years:</p>
<div class="sourceCode" id="cb783"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb783-1"><a href="reshaping-tabular-data.html#cb783-1" aria-hidden="true" tabindex="-1"></a>table1</span></code></pre></div>
<pre><code>## # A tibble: 6 x 4
##   country      year  cases population
##   &lt;chr&gt;       &lt;int&gt;  &lt;int&gt;      &lt;int&gt;
## 1 Afghanistan  1999    745   19987071
## 2 Afghanistan  2000   2666   20595360
## 3 Brazil       1999  37737  172006362
## 4 Brazil       2000  80488  174504898
## 5 China        1999 212258 1272915272
## 6 China        2000 213766 1280428583</code></pre>
<p>When you first look at a data set, think about what the observations are and
what the features are. If the data set comes with documentation, it may help
you figure this out. Since this data set is a tidy data set, we already know
each row is an observation and each column is a feature.</p>
<p>Features in a data set tend to take one of two roles. Some features are
<em>identifiers</em> that describe the observed subject. These are usually not what
the researcher collecting the data is trying to find out. For example, in the
tuberculosis data set, the <code>country</code> and <code>year</code> columns are identifiers.</p>
<p>Other features are <em>measurements</em>. These are usually the reason the researcher
collected the data. For the tuberculosis data set, the <code>cases</code> and <code>population</code>
columns are measurements.</p>
<p>Thinking about whether features are identifiers or measurements can be helpful
when you need to use <strong>tidyr</strong> to rearrange a data set.</p>
<div id="columns-into-rows" class="section level3" number="21.2.1">
<h3><span class="header-section-number">21.2.1</span> Columns into Rows</h3>
<p>Tidy data rule 1 says each observation must have its own row. Here’s a table
that breaks rule 1:</p>
<div class="sourceCode" id="cb785"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb785-1"><a href="reshaping-tabular-data.html#cb785-1" aria-hidden="true" tabindex="-1"></a>table4a</span></code></pre></div>
<pre><code>## # A tibble: 3 x 3
##   country     `1999` `2000`
## * &lt;chr&gt;        &lt;int&gt;  &lt;int&gt;
## 1 Afghanistan    745   2666
## 2 Brazil       37737  80488
## 3 China       212258 213766</code></pre>
<p>All of the numbers measure the same thing: cases. To make the data tidy, we
must rotate the <code>1999</code> and <code>2000</code> column names into rows, one for each value in
the columns. The new columns are <code>year</code> and <code>cases</code>.</p>
<p>This process means less columns (generally) and more rows, so the data set
becomes longer.</p>
<p>We can use the <code>pivot_longer</code> function to rotate columns into rows. We need to
specify:</p>
<ul>
<li>Columns to rotate as <code>cols</code>.</li>
<li>Name(s) of new identifier column(s) as <code>names_to</code>.</li>
<li>Name(s) of new measuerment column(s) as <code>values_to</code>.</li>
</ul>
<p>Here’s the code:</p>
<div class="sourceCode" id="cb787"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb787-1"><a href="reshaping-tabular-data.html#cb787-1" aria-hidden="true" tabindex="-1"></a><span class="fu">pivot_longer</span>(table4a, <span class="sc">-</span>country, <span class="at">names_to =</span> <span class="st">&quot;year&quot;</span>, <span class="at">values_to =</span> <span class="st">&quot;cases&quot;</span>)</span></code></pre></div>
<pre><code>## # A tibble: 6 x 3
##   country     year   cases
##   &lt;chr&gt;       &lt;chr&gt;  &lt;int&gt;
## 1 Afghanistan 1999     745
## 2 Afghanistan 2000    2666
## 3 Brazil      1999   37737
## 4 Brazil      2000   80488
## 5 China       1999  212258
## 6 China       2000  213766</code></pre>
<div id="how-to-pivot-longer-without-tidyr" class="section level4" number="21.2.1.1">
<h4><span class="header-section-number">21.2.1.1</span> How to Pivot Longer without <strong>tidyr</strong></h4>
<p>You also can do this without <strong>tidyr</strong>:</p>
<ol style="list-style-type: decimal">
<li>Subset columns to separate <code>1999</code> and <code>2000</code> into two data frames.</li>
<li>Add a <code>year</code> column to each.</li>
<li>Rename the <code>1999</code> and <code>2000</code> columns to <code>cases</code>.</li>
<li>Stack the two data frames with <code>rbind</code>.</li>
</ol>
<div class="sourceCode" id="cb789"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb789-1"><a href="reshaping-tabular-data.html#cb789-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 1</span></span>
<span id="cb789-2"><a href="reshaping-tabular-data.html#cb789-2" aria-hidden="true" tabindex="-1"></a>df99 <span class="ot">=</span> table4a[<span class="sc">-</span><span class="dv">3</span>]</span>
<span id="cb789-3"><a href="reshaping-tabular-data.html#cb789-3" aria-hidden="true" tabindex="-1"></a>df00 <span class="ot">=</span> table4a[<span class="sc">-</span><span class="dv">2</span>]</span>
<span id="cb789-4"><a href="reshaping-tabular-data.html#cb789-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb789-5"><a href="reshaping-tabular-data.html#cb789-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 2</span></span>
<span id="cb789-6"><a href="reshaping-tabular-data.html#cb789-6" aria-hidden="true" tabindex="-1"></a>df99<span class="sc">$</span>year <span class="ot">=</span> <span class="st">&quot;1999&quot;</span></span>
<span id="cb789-7"><a href="reshaping-tabular-data.html#cb789-7" aria-hidden="true" tabindex="-1"></a>df00<span class="sc">$</span>year <span class="ot">=</span> <span class="st">&quot;2000&quot;</span></span>
<span id="cb789-8"><a href="reshaping-tabular-data.html#cb789-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb789-9"><a href="reshaping-tabular-data.html#cb789-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 3</span></span>
<span id="cb789-10"><a href="reshaping-tabular-data.html#cb789-10" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(df99)[<span class="dv">2</span>] <span class="ot">=</span> <span class="st">&quot;cases&quot;</span></span>
<span id="cb789-11"><a href="reshaping-tabular-data.html#cb789-11" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(df00)[<span class="dv">2</span>] <span class="ot">=</span> <span class="st">&quot;cases&quot;</span></span>
<span id="cb789-12"><a href="reshaping-tabular-data.html#cb789-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb789-13"><a href="reshaping-tabular-data.html#cb789-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 4</span></span>
<span id="cb789-14"><a href="reshaping-tabular-data.html#cb789-14" aria-hidden="true" tabindex="-1"></a><span class="fu">rbind</span>(df99, df00)</span></code></pre></div>
<pre><code>## # A tibble: 6 x 3
##   country      cases year 
##   &lt;chr&gt;        &lt;int&gt; &lt;chr&gt;
## 1 Afghanistan    745 1999 
## 2 Brazil       37737 1999 
## 3 China       212258 1999 
## 4 Afghanistan   2666 2000 
## 5 Brazil       80488 2000 
## 6 China       213766 2000</code></pre>
</div>
</div>
<div id="rows-into-columns" class="section level3" number="21.2.2">
<h3><span class="header-section-number">21.2.2</span> Rows into Columns</h3>
<p>Tidy data rule 2 says each feature must have its own column. Let’s look at a
table that breaks rule 2:</p>
<div class="sourceCode" id="cb791"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb791-1"><a href="reshaping-tabular-data.html#cb791-1" aria-hidden="true" tabindex="-1"></a>table2</span></code></pre></div>
<pre><code>## # A tibble: 12 x 4
##    country      year type            count
##    &lt;chr&gt;       &lt;int&gt; &lt;chr&gt;           &lt;int&gt;
##  1 Afghanistan  1999 cases             745
##  2 Afghanistan  1999 population   19987071
##  3 Afghanistan  2000 cases            2666
##  4 Afghanistan  2000 population   20595360
##  5 Brazil       1999 cases           37737
##  6 Brazil       1999 population  172006362
##  7 Brazil       2000 cases           80488
##  8 Brazil       2000 population  174504898
##  9 China        1999 cases          212258
## 10 China        1999 population 1272915272
## 11 China        2000 cases          213766
## 12 China        2000 population 1280428583</code></pre>
<p>Here the <code>count</code> column contains two different features: cases and population.
To make the data tidy, we must rotate the <code>count</code> values into columns, one for
each <code>type</code> value. New columns are <code>cases</code> and <code>population</code>.</p>
<p>This process means less rows and more columns, so the data set becomes wider.</p>
<p>We can use <code>pivot_wider</code> to rotate rows into columns. We need to specify:</p>
<ul>
<li>Column names to rotate as <code>names_from</code>.</li>
<li>Measurements to rotate as <code>values_from</code>.</li>
</ul>
<p>Here’s the code:</p>
<div class="sourceCode" id="cb793"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb793-1"><a href="reshaping-tabular-data.html#cb793-1" aria-hidden="true" tabindex="-1"></a><span class="fu">pivot_wider</span>(table2, <span class="at">names_from =</span> type, <span class="at">values_from =</span> count)</span></code></pre></div>
<pre><code>## # A tibble: 6 x 4
##   country      year  cases population
##   &lt;chr&gt;       &lt;int&gt;  &lt;int&gt;      &lt;int&gt;
## 1 Afghanistan  1999    745   19987071
## 2 Afghanistan  2000   2666   20595360
## 3 Brazil       1999  37737  172006362
## 4 Brazil       2000  80488  174504898
## 5 China        1999 212258 1272915272
## 6 China        2000 213766 1280428583</code></pre>
<div id="how-to-pivot-wider-without-tidyr" class="section level4" number="21.2.2.1">
<h4><span class="header-section-number">21.2.2.1</span> How to Pivot Wider without <strong>tidyr</strong></h4>
<p>You can also do this without <strong>tidyr</strong>:</p>
<ol style="list-style-type: decimal">
<li>Subset rows to separate <code>cases</code> and <code>population</code> values.</li>
<li>Remove the <code>type</code> column from each.</li>
<li>Rename the <code>count</code> column to <code>cases</code> and <code>population</code>.</li>
<li>Merge the two subsets by matching <code>country</code> and <code>year</code>.</li>
</ol>
<div class="sourceCode" id="cb795"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb795-1"><a href="reshaping-tabular-data.html#cb795-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 1</span></span>
<span id="cb795-2"><a href="reshaping-tabular-data.html#cb795-2" aria-hidden="true" tabindex="-1"></a>cases <span class="ot">=</span> table2[table2<span class="sc">$</span>type <span class="sc">==</span> <span class="st">&quot;cases&quot;</span>, ]</span>
<span id="cb795-3"><a href="reshaping-tabular-data.html#cb795-3" aria-hidden="true" tabindex="-1"></a>pop <span class="ot">=</span> table2[table2<span class="sc">$</span>type <span class="sc">==</span> <span class="st">&quot;population&quot;</span>, ]</span>
<span id="cb795-4"><a href="reshaping-tabular-data.html#cb795-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb795-5"><a href="reshaping-tabular-data.html#cb795-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 2</span></span>
<span id="cb795-6"><a href="reshaping-tabular-data.html#cb795-6" aria-hidden="true" tabindex="-1"></a>cases <span class="ot">=</span> cases[<span class="sc">-</span><span class="dv">3</span>]</span>
<span id="cb795-7"><a href="reshaping-tabular-data.html#cb795-7" aria-hidden="true" tabindex="-1"></a>pop <span class="ot">=</span> pop[<span class="sc">-</span><span class="dv">3</span>]</span>
<span id="cb795-8"><a href="reshaping-tabular-data.html#cb795-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb795-9"><a href="reshaping-tabular-data.html#cb795-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 3</span></span>
<span id="cb795-10"><a href="reshaping-tabular-data.html#cb795-10" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(cases)[<span class="dv">3</span>] <span class="ot">=</span> <span class="st">&quot;cases&quot;</span></span>
<span id="cb795-11"><a href="reshaping-tabular-data.html#cb795-11" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(pop)[<span class="dv">3</span>] <span class="ot">=</span> <span class="st">&quot;population&quot;</span></span>
<span id="cb795-12"><a href="reshaping-tabular-data.html#cb795-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb795-13"><a href="reshaping-tabular-data.html#cb795-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 4</span></span>
<span id="cb795-14"><a href="reshaping-tabular-data.html#cb795-14" aria-hidden="true" tabindex="-1"></a>tidy <span class="ot">=</span> <span class="fu">cbind</span>(cases, pop[<span class="dv">3</span>])</span></code></pre></div>
<p>This code uses the <code>cbind</code> function to merge the two subsets, but it would be
better to use the <code>merge</code> function. The <code>cbind</code> function does not use
identifier columns to check that the rows in each subset are from the same
observations.</p>
<p>Run <code>vignette("pivot")</code> for more examples of how to use <strong>tidyr</strong>.</p>
</div>
</div>
<div id="separating-values" class="section level3" number="21.2.3">
<h3><span class="header-section-number">21.2.3</span> Separating Values</h3>
<p>Tidy data rule 3 says each value must have its own cell. Here’s a table that
breaks rule 3:</p>
<div class="sourceCode" id="cb796"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb796-1"><a href="reshaping-tabular-data.html#cb796-1" aria-hidden="true" tabindex="-1"></a>table3</span></code></pre></div>
<pre><code>## # A tibble: 6 x 3
##   country      year rate             
## * &lt;chr&gt;       &lt;int&gt; &lt;chr&gt;            
## 1 Afghanistan  1999 745/19987071     
## 2 Afghanistan  2000 2666/20595360    
## 3 Brazil       1999 37737/172006362  
## 4 Brazil       2000 80488/174504898  
## 5 China        1999 212258/1272915272
## 6 China        2000 213766/1280428583</code></pre>
<p>Cells in the <code>rate</code> column contain two values: cases and population. These are
two different features, so to make the data set tidy, we need to separate them
into two different columns.</p>
<p>So how can we separate the <code>rate</code> column? The rate column is a character vector
(you can check this with <code>str(table3)</code>), so we can use the string processing
functions in the <strong>stringr</strong> package. In particular, we can use the
<code>str_split_fixed</code> function:</p>
<div class="sourceCode" id="cb798"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb798-1"><a href="reshaping-tabular-data.html#cb798-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stringr)</span>
<span id="cb798-2"><a href="reshaping-tabular-data.html#cb798-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb798-3"><a href="reshaping-tabular-data.html#cb798-3" aria-hidden="true" tabindex="-1"></a>columns <span class="ot">=</span> <span class="fu">str_split_fixed</span>(table3<span class="sc">$</span>rate, <span class="fu">fixed</span>(<span class="st">&quot;/&quot;</span>), <span class="dv">2</span>)</span></code></pre></div>
<p>Now we have a character matrix where the values are in separate columns. Now we
need to combine these with the original data frame. There are several ways to
approach this, but to be safe, let’s make a new data frame rather than
overwrite the original. First we make a copy of the original:</p>
<div class="sourceCode" id="cb799"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb799-1"><a href="reshaping-tabular-data.html#cb799-1" aria-hidden="true" tabindex="-1"></a>tidy_tb <span class="ot">=</span> table3</span></code></pre></div>
<p>Next, we need to assign each column in the character matrix to a column in the
<code>tidy_tb</code> data frame. Since the columns contain numbers, we can also use the
<code>as.numeric</code> function to convert them to the correct data type:</p>
<div class="sourceCode" id="cb800"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb800-1"><a href="reshaping-tabular-data.html#cb800-1" aria-hidden="true" tabindex="-1"></a>tidy_tb<span class="sc">$</span>cases <span class="ot">=</span> <span class="fu">as.numeric</span>(columns[, <span class="dv">1</span>])</span>
<span id="cb800-2"><a href="reshaping-tabular-data.html#cb800-2" aria-hidden="true" tabindex="-1"></a>tidy_tb<span class="sc">$</span>population <span class="ot">=</span> <span class="fu">as.numeric</span>(columns[, <span class="dv">2</span>])</span></code></pre></div>
<p>Extracting values, converting to appropriate data types, and then combining
everything into a single data frame is an extremely common pattern in data
science.</p>
<p>Using <strong>stringr</strong> functions is the most general way to separate out values in a
column, but the <strong>tidyr</strong> package also provides a function <code>separate</code>
specifically for the case we just worked through. Either package is appropriate
for solving this problem.</p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="statistics.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="data-forensics-and-cleaning-unstructured-data.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/ucdavisdatalab/adventures_in_data_science/edit/master/18_reshaping-tabular-data.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/ucdavisdatalab/adventures_in_data_science/blob/master/18_reshaping-tabular-data.Rmd",
"text": null
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
