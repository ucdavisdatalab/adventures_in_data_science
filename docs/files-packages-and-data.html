<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>5 Files, Packages, and Data | Adventures in Data Science</title>
  <meta name="description" content="5 Files, Packages, and Data | Adventures in Data Science" />
  <meta name="generator" content="bookdown 0.34 and GitBook 2.6.7" />

  <meta property="og:title" content="5 Files, Packages, and Data | Adventures in Data Science" />
  <meta property="og:type" content="book" />
  
  
  <meta name="github-repo" content="ucdavisdatalab/adventures_in_data_science" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="5 Files, Packages, and Data | Adventures in Data Science" />
  
  
  

<meta name="author" content="Dr. Carl Stahmer" />
<meta name="author" content="Dr. Pamela L. Reynolds" />
<meta name="author" content="Dr. Nick Ulle" />
<meta name="author" content="Dr. Tyler Shoemaker" />
<meta name="author" content="Dr. Michele Tobias" />
<meta name="author" content="Dr. Wesley Brooks" />
<meta name="author" content="Arthur Koehl" />
<meta name="author" content="Carrie Alexander" />
<meta name="author" content="Jared Joseph" />
<meta name="author" content="Liza Wood" />


<meta name="date" content="2023-07-26" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="core-programming-concepts.html"/>
<link rel="next" href="data-structures.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.6.2/htmlwidgets.js"></script>
<link href="libs/vis-9.1.0/vis-network.min.css" rel="stylesheet" />
<script src="libs/vis-9.1.0/vis-network.min.js"></script>
<script src="libs/visNetwork-binding-2.1.2/visNetwork.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>
<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="https://datalab.ucdavis.edu/">
  <img src="img/datalab-logo-full-color-rgb.png" style="height: 100%; width: 100%; object-fit: contain" />
</a></li>
<li><a href="./" style="font-size: 18px">Adventures in Data Science</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Overview</a></li>
<li class="chapter" data-level="1" data-path="command-line.html"><a href="command-line.html"><i class="fa fa-check"></i><b>1</b> Command Line</a>
<ul>
<li class="chapter" data-level="1.1" data-path="command-line.html"><a href="command-line.html#learning-objectives"><i class="fa fa-check"></i><b>1.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="1.2" data-path="command-line.html"><a href="command-line.html#understanding-the-command-line"><i class="fa fa-check"></i><b>1.2</b> Understanding the Command Line</a></li>
<li class="chapter" data-level="1.3" data-path="command-line.html"><a href="command-line.html#interacting-with-the-command-line"><i class="fa fa-check"></i><b>1.3</b> Interacting with the Command Line</a></li>
<li class="chapter" data-level="1.4" data-path="command-line.html"><a href="command-line.html#common-command-line-commands"><i class="fa fa-check"></i><b>1.4</b> Common Command Line Commands</a></li>
<li class="chapter" data-level="1.5" data-path="command-line.html"><a href="command-line.html#command-line-text-editors"><i class="fa fa-check"></i><b>1.5</b> Command Line Text Editors</a></li>
<li class="chapter" data-level="1.6" data-path="command-line.html"><a href="command-line.html#basic-vim-commands"><i class="fa fa-check"></i><b>1.6</b> Basic Vim Commands</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="version-control.html"><a href="version-control.html"><i class="fa fa-check"></i><b>2</b> Version Control</a>
<ul>
<li class="chapter" data-level="2.1" data-path="version-control.html"><a href="version-control.html#learning-objectives-1"><i class="fa fa-check"></i><b>2.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="2.2" data-path="version-control.html"><a href="version-control.html#introduction-to-version-control"><i class="fa fa-check"></i><b>2.2</b> Introduction to Version Control</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="version-control.html"><a href="version-control.html#what-is-version-control"><i class="fa fa-check"></i><b>2.2.1</b> What is Version Control?</a></li>
<li class="chapter" data-level="2.2.2" data-path="version-control.html"><a href="version-control.html#software-assisted-version-control"><i class="fa fa-check"></i><b>2.2.2</b> Software Assisted Version Control</a></li>
<li class="chapter" data-level="2.2.3" data-path="version-control.html"><a href="version-control.html#local-vs-server-based-version-control"><i class="fa fa-check"></i><b>2.2.3</b> Local vs Server Based Version Control</a></li>
<li class="chapter" data-level="2.2.4" data-path="version-control.html"><a href="version-control.html#central-vs-distributed-based-version-control"><i class="fa fa-check"></i><b>2.2.4</b> Central vs Distributed Based Version Control</a></li>
<li class="chapter" data-level="2.2.5" data-path="version-control.html"><a href="version-control.html#how-computers-store-and-access-information"><i class="fa fa-check"></i><b>2.2.5</b> How Computers Store and Access Information</a></li>
<li class="chapter" data-level="2.2.6" data-path="version-control.html"><a href="version-control.html#how-vcs-manage-your-files"><i class="fa fa-check"></i><b>2.2.6</b> How VCS Manage Your Files</a></li>
<li class="chapter" data-level="2.2.7" data-path="version-control.html"><a href="version-control.html#additional-resources"><i class="fa fa-check"></i><b>2.2.7</b> Additional Resources</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="version-control.html"><a href="version-control.html#git-local-version-control-basics"><i class="fa fa-check"></i><b>2.3</b> Git Local Version Control Basics</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="version-control.html"><a href="version-control.html#creating-your-first-repo"><i class="fa fa-check"></i><b>2.3.1</b> Creating Your First Repo</a></li>
<li class="chapter" data-level="2.3.2" data-path="version-control.html"><a href="version-control.html#storing-versions-of-a-file"><i class="fa fa-check"></i><b>2.3.2</b> Storing Versions of a File</a></li>
<li class="chapter" data-level="2.3.3" data-path="version-control.html"><a href="version-control.html#view-a-history-of-your-commits"><i class="fa fa-check"></i><b>2.3.3</b> View a History of Your Commits</a></li>
<li class="chapter" data-level="2.3.4" data-path="version-control.html"><a href="version-control.html#comparing-commits-and-files"><i class="fa fa-check"></i><b>2.3.4</b> Comparing Commits and Files</a></li>
<li class="chapter" data-level="2.3.5" data-path="version-control.html"><a href="version-control.html#undoing-things"><i class="fa fa-check"></i><b>2.3.5</b> Undoing Things</a></li>
<li class="chapter" data-level="2.3.6" data-path="version-control.html"><a href="version-control.html#git-branching"><i class="fa fa-check"></i><b>2.3.6</b> Git Branching</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="version-control.html"><a href="version-control.html#git-remote-repositories"><i class="fa fa-check"></i><b>2.4</b> Git Remote Repositories</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="version-control.html"><a href="version-control.html#github-basics"><i class="fa fa-check"></i><b>2.4.1</b> GitHub Basics</a></li>
<li class="chapter" data-level="2.4.2" data-path="version-control.html"><a href="version-control.html#basic-github-account-setup"><i class="fa fa-check"></i><b>2.4.2</b> Basic GitHub Account Setup</a></li>
<li class="chapter" data-level="2.4.3" data-path="version-control.html"><a href="version-control.html#github-desktop-or-the-command-line"><i class="fa fa-check"></i><b>2.4.3</b> GitHub Desktop, or the Command Line?</a></li>
<li class="chapter" data-level="2.4.4" data-path="version-control.html"><a href="version-control.html#sync-with-github"><i class="fa fa-check"></i><b>2.4.4</b> Sync with GitHub</a></li>
<li class="chapter" data-level="2.4.5" data-path="version-control.html"><a href="version-control.html#cloning-a-repository"><i class="fa fa-check"></i><b>2.4.5</b> Cloning a Repository</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="introduction-to-r.html"><a href="introduction-to-r.html"><i class="fa fa-check"></i><b>3</b> Introduction to R</a>
<ul>
<li class="chapter" data-level="3.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#learning-objectives-2"><i class="fa fa-check"></i><b>3.1</b> Learning objectives</a></li>
<li class="chapter" data-level="3.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#before-we-start"><i class="fa fa-check"></i><b>3.2</b> Before We Start</a></li>
<li class="chapter" data-level="3.3" data-path="introduction-to-r.html"><a href="introduction-to-r.html#mathematical-operations"><i class="fa fa-check"></i><b>3.3</b> Mathematical Operations</a></li>
<li class="chapter" data-level="3.4" data-path="introduction-to-r.html"><a href="introduction-to-r.html#variables"><i class="fa fa-check"></i><b>3.4</b> Variables</a></li>
<li class="chapter" data-level="3.5" data-path="introduction-to-r.html"><a href="introduction-to-r.html#calling-functions"><i class="fa fa-check"></i><b>3.5</b> Calling Functions</a></li>
<li class="chapter" data-level="3.6" data-path="introduction-to-r.html"><a href="introduction-to-r.html#help"><i class="fa fa-check"></i><b>3.6</b> HELP!</a>
<ul>
<li class="chapter" data-level="3.6.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#when-something-goes-wrong-and-it-will"><i class="fa fa-check"></i><b>3.6.1</b> When Something Goes Wrong (and it will)</a></li>
</ul></li>
<li class="chapter" data-level="3.7" data-path="introduction-to-r.html"><a href="introduction-to-r.html#vectors"><i class="fa fa-check"></i><b>3.7</b> Vectors</a>
<ul>
<li class="chapter" data-level="3.7.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#indexing-vectors"><i class="fa fa-check"></i><b>3.7.1</b> Indexing Vectors</a></li>
<li class="chapter" data-level="3.7.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#vectorization"><i class="fa fa-check"></i><b>3.7.2</b> Vectorization</a></li>
</ul></li>
<li class="chapter" data-level="3.8" data-path="introduction-to-r.html"><a href="introduction-to-r.html#data-frames"><i class="fa fa-check"></i><b>3.8</b> Data Frames</a>
<ul>
<li class="chapter" data-level="3.8.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#selecting-columns"><i class="fa fa-check"></i><b>3.8.1</b> Selecting Columns</a></li>
<li class="chapter" data-level="3.8.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#inspecting-data"><i class="fa fa-check"></i><b>3.8.2</b> Inspecting Data</a></li>
</ul></li>
<li class="chapter" data-level="3.9" data-path="introduction-to-r.html"><a href="introduction-to-r.html#data-types-classes"><i class="fa fa-check"></i><b>3.9</b> Data Types &amp; Classes</a>
<ul>
<li class="chapter" data-level="3.9.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#lists"><i class="fa fa-check"></i><b>3.9.1</b> Lists</a></li>
<li class="chapter" data-level="3.9.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#implicit-coercion"><i class="fa fa-check"></i><b>3.9.2</b> Implicit Coercion</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="core-programming-concepts.html"><a href="core-programming-concepts.html"><i class="fa fa-check"></i><b>4</b> Core Programming Concepts</a>
<ul>
<li class="chapter" data-level="4.1" data-path="core-programming-concepts.html"><a href="core-programming-concepts.html#learning-objectives-3"><i class="fa fa-check"></i><b>4.1</b> Learning objectives</a></li>
<li class="chapter" data-level="4.2" data-path="core-programming-concepts.html"><a href="core-programming-concepts.html#control-structures"><i class="fa fa-check"></i><b>4.2</b> Control Structures</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="core-programming-concepts.html"><a href="core-programming-concepts.html#if-statement"><i class="fa fa-check"></i><b>4.2.1</b> <em>If</em> Statement</a></li>
<li class="chapter" data-level="4.2.2" data-path="core-programming-concepts.html"><a href="core-programming-concepts.html#relationship-operators"><i class="fa fa-check"></i><b>4.2.2</b> Relationship Operators</a></li>
<li class="chapter" data-level="4.2.3" data-path="core-programming-concepts.html"><a href="core-programming-concepts.html#if-else-statement"><i class="fa fa-check"></i><b>4.2.3</b> <em>If Else</em> Statement</a></li>
<li class="chapter" data-level="4.2.4" data-path="core-programming-concepts.html"><a href="core-programming-concepts.html#ifelse-statement"><i class="fa fa-check"></i><b>4.2.4</b> <em>ifelse</em> Statement</a></li>
<li class="chapter" data-level="4.2.5" data-path="core-programming-concepts.html"><a href="core-programming-concepts.html#the-switch-statement"><i class="fa fa-check"></i><b>4.2.5</b> The <em>switch</em> Statement</a></li>
<li class="chapter" data-level="4.2.6" data-path="core-programming-concepts.html"><a href="core-programming-concepts.html#the-which-statement"><i class="fa fa-check"></i><b>4.2.6</b> The <em>which</em> Statement</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="core-programming-concepts.html"><a href="core-programming-concepts.html#iteration"><i class="fa fa-check"></i><b>4.3</b> Iteration</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="core-programming-concepts.html"><a href="core-programming-concepts.html#for-i-in-x-loops"><i class="fa fa-check"></i><b>4.3.1</b> For <em>i</em> in <em>x</em> Loops</a></li>
<li class="chapter" data-level="4.3.2" data-path="core-programming-concepts.html"><a href="core-programming-concepts.html#while-loops"><i class="fa fa-check"></i><b>4.3.2</b> <em>While</em> Loops</a></li>
<li class="chapter" data-level="4.3.3" data-path="core-programming-concepts.html"><a href="core-programming-concepts.html#repeat-loops"><i class="fa fa-check"></i><b>4.3.3</b> <em>Repeat</em> Loops</a></li>
<li class="chapter" data-level="4.3.4" data-path="core-programming-concepts.html"><a href="core-programming-concepts.html#break-and-next"><i class="fa fa-check"></i><b>4.3.4</b> <em>Break</em> and <em>Next</em></a></li>
<li class="chapter" data-level="4.3.5" data-path="core-programming-concepts.html"><a href="core-programming-concepts.html#iterating-data.frame-rows-in-r"><i class="fa fa-check"></i><b>4.3.5</b> Iterating Data.Frame Rows in R</a></li>
<li class="chapter" data-level="4.3.6" data-path="core-programming-concepts.html"><a href="core-programming-concepts.html#lapply"><i class="fa fa-check"></i><b>4.3.6</b> <em>lapply()</em></a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="core-programming-concepts.html"><a href="core-programming-concepts.html#functions"><i class="fa fa-check"></i><b>4.4</b> Functions</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="core-programming-concepts.html"><a href="core-programming-concepts.html#what-is-a-function"><i class="fa fa-check"></i><b>4.4.1</b> What is a function?</a></li>
<li class="chapter" data-level="4.4.2" data-path="core-programming-concepts.html"><a href="core-programming-concepts.html#what-is-the-basic-syntax-of-a-function-in-r"><i class="fa fa-check"></i><b>4.4.2</b> What is the basic syntax of a function in R?</a></li>
<li class="chapter" data-level="4.4.3" data-path="core-programming-concepts.html"><a href="core-programming-concepts.html#building-and-calling-functions"><i class="fa fa-check"></i><b>4.4.3</b> Building and calling functions</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="files-packages-and-data.html"><a href="files-packages-and-data.html"><i class="fa fa-check"></i><b>5</b> Files, Packages, and Data</a>
<ul>
<li class="chapter" data-level="5.1" data-path="files-packages-and-data.html"><a href="files-packages-and-data.html#learning-objectives-4"><i class="fa fa-check"></i><b>5.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="5.2" data-path="files-packages-and-data.html"><a href="files-packages-and-data.html#working-with-files"><i class="fa fa-check"></i><b>5.2</b> Working with Files</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="files-packages-and-data.html"><a href="files-packages-and-data.html#setup"><i class="fa fa-check"></i><b>5.2.1</b> Setup</a></li>
<li class="chapter" data-level="5.2.2" data-path="files-packages-and-data.html"><a href="files-packages-and-data.html#exploring-files"><i class="fa fa-check"></i><b>5.2.2</b> Exploring Files</a></li>
<li class="chapter" data-level="5.2.3" data-path="files-packages-and-data.html"><a href="files-packages-and-data.html#reading-and-writing-files-in-r"><i class="fa fa-check"></i><b>5.2.3</b> Reading and Writing Files in R</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="files-packages-and-data.html"><a href="files-packages-and-data.html#packages"><i class="fa fa-check"></i><b>5.3</b> Packages</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="files-packages-and-data.html"><a href="files-packages-and-data.html#cran"><i class="fa fa-check"></i><b>5.3.1</b> CRAN</a></li>
<li class="chapter" data-level="5.3.2" data-path="files-packages-and-data.html"><a href="files-packages-and-data.html#using-packages"><i class="fa fa-check"></i><b>5.3.2</b> Using Packages</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="files-packages-and-data.html"><a href="files-packages-and-data.html#factors-special-values-and-indexing"><i class="fa fa-check"></i><b>5.4</b> Factors, Special Values, and Indexing</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="files-packages-and-data.html"><a href="files-packages-and-data.html#factors"><i class="fa fa-check"></i><b>5.4.1</b> Factors</a></li>
<li class="chapter" data-level="5.4.2" data-path="files-packages-and-data.html"><a href="files-packages-and-data.html#special-values"><i class="fa fa-check"></i><b>5.4.2</b> Special Values</a></li>
<li class="chapter" data-level="5.4.3" data-path="files-packages-and-data.html"><a href="files-packages-and-data.html#indexing"><i class="fa fa-check"></i><b>5.4.3</b> Indexing</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="data-structures.html"><a href="data-structures.html"><i class="fa fa-check"></i><b>6</b> Data Structures</a>
<ul>
<li class="chapter" data-level="6.1" data-path="data-structures.html"><a href="data-structures.html#learning-objectives-5"><i class="fa fa-check"></i><b>6.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="6.2" data-path="data-structures.html"><a href="data-structures.html#what-are-data"><i class="fa fa-check"></i><b>6.2</b> What are data?</a></li>
<li class="chapter" data-level="6.3" data-path="data-structures.html"><a href="data-structures.html#tabular-data"><i class="fa fa-check"></i><b>6.3</b> Tabular Data</a></li>
<li class="chapter" data-level="6.4" data-path="data-structures.html"><a href="data-structures.html#tree-document-data-structures"><i class="fa fa-check"></i><b>6.4</b> Tree / Document Data Structures</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="data-structures.html"><a href="data-structures.html#structuring-data-as-xml"><i class="fa fa-check"></i><b>6.4.1</b> Structuring Data as XML</a></li>
<li class="chapter" data-level="6.4.2" data-path="data-structures.html"><a href="data-structures.html#structuring-data-as-json"><i class="fa fa-check"></i><b>6.4.2</b> Structuring Data as JSON</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="data-structures.html"><a href="data-structures.html#relational-databases"><i class="fa fa-check"></i><b>6.5</b> Relational Databases</a></li>
<li class="chapter" data-level="6.6" data-path="data-structures.html"><a href="data-structures.html#non-hierarchical-relational-data"><i class="fa fa-check"></i><b>6.6</b> Non-Hierarchical Relational Data</a></li>
<li class="chapter" data-level="6.7" data-path="data-structures.html"><a href="data-structures.html#geospatial-data"><i class="fa fa-check"></i><b>6.7</b> Geospatial Data</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="data-forensics.html"><a href="data-forensics.html"><i class="fa fa-check"></i><b>7</b> Data Forensics</a>
<ul>
<li class="chapter" data-level="7.1" data-path="data-forensics.html"><a href="data-forensics.html#learning-objectives-6"><i class="fa fa-check"></i><b>7.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="7.2" data-path="data-forensics.html"><a href="data-forensics.html#structural-summaries-cleaning"><i class="fa fa-check"></i><b>7.2</b> Structural Summaries &amp; Cleaning</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="data-forensics.html"><a href="data-forensics.html#dates"><i class="fa fa-check"></i><b>7.2.1</b> Dates</a></li>
<li class="chapter" data-level="7.2.2" data-path="data-forensics.html"><a href="data-forensics.html#tidy-data"><i class="fa fa-check"></i><b>7.2.2</b> Tidy Data</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="data-forensics.html"><a href="data-forensics.html#statistical-forensics"><i class="fa fa-check"></i><b>7.3</b> Statistical Forensics</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="data-forensics.html"><a href="data-forensics.html#missing-values-1"><i class="fa fa-check"></i><b>7.3.1</b> Missing Values</a></li>
<li class="chapter" data-level="7.3.2" data-path="data-forensics.html"><a href="data-forensics.html#outliers"><i class="fa fa-check"></i><b>7.3.2</b> Outliers</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="data-forensics.html"><a href="data-forensics.html#apply-functions"><i class="fa fa-check"></i><b>7.4</b> Apply Functions</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="data-forensics.html"><a href="data-forensics.html#the-sapply-function"><i class="fa fa-check"></i><b>7.4.1</b> The <code>sapply</code> Function</a></li>
<li class="chapter" data-level="7.4.2" data-path="data-forensics.html"><a href="data-forensics.html#the-split-apply-pattern"><i class="fa fa-check"></i><b>7.4.2</b> The Split-Apply Pattern</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="data-visualization.html"><a href="data-visualization.html"><i class="fa fa-check"></i><b>8</b> Data Visualization</a>
<ul>
<li class="chapter" data-level="8.1" data-path="data-visualization.html"><a href="data-visualization.html#learning-objectives-7"><i class="fa fa-check"></i><b>8.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="8.2" data-path="data-visualization.html"><a href="data-visualization.html#principles-perception"><i class="fa fa-check"></i><b>8.2</b> Principles &amp; Perception</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="data-visualization.html"><a href="data-visualization.html#a-brief-history-of-data-visualization"><i class="fa fa-check"></i><b>8.2.1</b> A Brief History of Data Visualization</a></li>
<li class="chapter" data-level="8.2.2" data-path="data-visualization.html"><a href="data-visualization.html#what-is-data-visualization"><i class="fa fa-check"></i><b>8.2.2</b> What is Data Visualization?</a></li>
<li class="chapter" data-level="8.2.3" data-path="data-visualization.html"><a href="data-visualization.html#before-you-viz-make-a-plan"><i class="fa fa-check"></i><b>8.2.3</b> Before You Viz, Make a Plan</a></li>
<li class="chapter" data-level="8.2.4" data-path="data-visualization.html"><a href="data-visualization.html#graphical-elements-of-a-plot"><i class="fa fa-check"></i><b>8.2.4</b> Graphical Elements of a Plot</a></li>
<li class="chapter" data-level="8.2.5" data-path="data-visualization.html"><a href="data-visualization.html#principles-of-visual-perception"><i class="fa fa-check"></i><b>8.2.5</b> Principles of Visual Perception</a></li>
<li class="chapter" data-level="8.2.6" data-path="data-visualization.html"><a href="data-visualization.html#accessible-data-visualizations"><i class="fa fa-check"></i><b>8.2.6</b> Accessible Data Visualizations</a></li>
<li class="chapter" data-level="8.2.7" data-path="data-visualization.html"><a href="data-visualization.html#designing-statistical-graphics"><i class="fa fa-check"></i><b>8.2.7</b> Designing Statistical Graphics</a></li>
<li class="chapter" data-level="8.2.8" data-path="data-visualization.html"><a href="data-visualization.html#tips-for-better-plots"><i class="fa fa-check"></i><b>8.2.8</b> Tips for Better Plots</a></li>
<li class="chapter" data-level="8.2.9" data-path="data-visualization.html"><a href="data-visualization.html#references-and-additional-resources"><i class="fa fa-check"></i><b>8.2.9</b> References and Additional Resources</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="data-visualization.html"><a href="data-visualization.html#data-viz-with-ggplot-in-r"><i class="fa fa-check"></i><b>8.3</b> Data Viz with <code>ggplot</code> in R</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="data-visualization.html"><a href="data-visualization.html#r-graphics-overview"><i class="fa fa-check"></i><b>8.3.1</b> R Graphics Overview</a></li>
<li class="chapter" data-level="8.3.2" data-path="data-visualization.html"><a href="data-visualization.html#the-grammar-of-graphics"><i class="fa fa-check"></i><b>8.3.2</b> The Grammar of Graphics</a></li>
<li class="chapter" data-level="8.3.3" data-path="data-visualization.html"><a href="data-visualization.html#saving-plots"><i class="fa fa-check"></i><b>8.3.3</b> Saving Plots</a></li>
<li class="chapter" data-level="8.3.4" data-path="data-visualization.html"><a href="data-visualization.html#example-bar-plot"><i class="fa fa-check"></i><b>8.3.4</b> Example: Bar Plot</a></li>
<li class="chapter" data-level="8.3.5" data-path="data-visualization.html"><a href="data-visualization.html#remembering-factors"><i class="fa fa-check"></i><b>8.3.5</b> Remembering factors</a></li>
<li class="chapter" data-level="8.3.6" data-path="data-visualization.html"><a href="data-visualization.html#designing-a-visualization"><i class="fa fa-check"></i><b>8.3.6</b> Designing a Visualization</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="getting-data-from-the-web.html"><a href="getting-data-from-the-web.html"><i class="fa fa-check"></i><b>9</b> Getting Data from the Web</a>
<ul>
<li class="chapter" data-level="9.1" data-path="getting-data-from-the-web.html"><a href="getting-data-from-the-web.html#learning-objectives-8"><i class="fa fa-check"></i><b>9.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="9.2" data-path="getting-data-from-the-web.html"><a href="getting-data-from-the-web.html#how-the-web-works"><i class="fa fa-check"></i><b>9.2</b> How the Web Works</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="getting-data-from-the-web.html"><a href="getting-data-from-the-web.html#client-server-architecture"><i class="fa fa-check"></i><b>9.2.1</b> Client-Server Architecture</a></li>
<li class="chapter" data-level="9.2.2" data-path="getting-data-from-the-web.html"><a href="getting-data-from-the-web.html#understanding-urls"><i class="fa fa-check"></i><b>9.2.2</b> Understanding URLs</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="getting-data-from-the-web.html"><a href="getting-data-from-the-web.html#accessing-data-online"><i class="fa fa-check"></i><b>9.3</b> Accessing Data Online</a></li>
<li class="chapter" data-level="9.4" data-path="getting-data-from-the-web.html"><a href="getting-data-from-the-web.html#apis"><i class="fa fa-check"></i><b>9.4</b> APIs</a>
<ul>
<li class="chapter" data-level="9.4.1" data-path="getting-data-from-the-web.html"><a href="getting-data-from-the-web.html#querying-to-an-api"><i class="fa fa-check"></i><b>9.4.1</b> Querying to an API</a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="getting-data-from-the-web.html"><a href="getting-data-from-the-web.html#web-scraping"><i class="fa fa-check"></i><b>9.5</b> Web Scraping</a>
<ul>
<li class="chapter" data-level="9.5.1" data-path="getting-data-from-the-web.html"><a href="getting-data-from-the-web.html#whats-in-a-web-page"><i class="fa fa-check"></i><b>9.5.1</b> What’s in a Web Page?</a></li>
<li class="chapter" data-level="9.5.2" data-path="getting-data-from-the-web.html"><a href="getting-data-from-the-web.html#rs-xml-parsers"><i class="fa fa-check"></i><b>9.5.2</b> R’s XML Parsers</a></li>
<li class="chapter" data-level="9.5.3" data-path="getting-data-from-the-web.html"><a href="getting-data-from-the-web.html#xpath"><i class="fa fa-check"></i><b>9.5.3</b> XPath</a></li>
<li class="chapter" data-level="9.5.4" data-path="getting-data-from-the-web.html"><a href="getting-data-from-the-web.html#the-web-scraping-workflow"><i class="fa fa-check"></i><b>9.5.4</b> The Web Scraping Workflow</a></li>
<li class="chapter" data-level="9.5.5" data-path="getting-data-from-the-web.html"><a href="getting-data-from-the-web.html#css-selectors"><i class="fa fa-check"></i><b>9.5.5</b> CSS Selectors</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html"><i class="fa fa-check"></i><b>10</b> Strings and Regular Expressions</a>
<ul>
<li class="chapter" data-level="10.1" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#learning-objectives-9"><i class="fa fa-check"></i><b>10.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="10.2" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#printing-output"><i class="fa fa-check"></i><b>10.2</b> Printing Output</a></li>
<li class="chapter" data-level="10.3" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#escape-sequences"><i class="fa fa-check"></i><b>10.3</b> Escape Sequences</a>
<ul>
<li class="chapter" data-level="10.3.1" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#raw-strings"><i class="fa fa-check"></i><b>10.3.1</b> Raw Strings</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#character-encodings"><i class="fa fa-check"></i><b>10.4</b> Character Encodings</a>
<ul>
<li class="chapter" data-level="10.4.1" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#character-encodings-in-text-files"><i class="fa fa-check"></i><b>10.4.1</b> Character Encodings in Text Files</a></li>
</ul></li>
<li class="chapter" data-level="10.5" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#stringr-and-the-tidyverse"><i class="fa fa-check"></i><b>10.5</b> <code>stringr</code> and the <code>tidyverse</code></a>
<ul>
<li class="chapter" data-level="10.5.1" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#the-tidyverse"><i class="fa fa-check"></i><b>10.5.1</b> The Tidyverse</a></li>
<li class="chapter" data-level="10.5.2" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#stringr"><i class="fa fa-check"></i><b>10.5.2</b> <code>stringr</code></a></li>
</ul></li>
<li class="chapter" data-level="10.6" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#regular-expressions"><i class="fa fa-check"></i><b>10.6</b> Regular Expressions</a>
<ul>
<li class="chapter" data-level="10.6.1" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#the-wildcard"><i class="fa fa-check"></i><b>10.6.1</b> The Wildcard</a></li>
<li class="chapter" data-level="10.6.2" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#escape-sequences-1"><i class="fa fa-check"></i><b>10.6.2</b> Escape Sequences</a></li>
<li class="chapter" data-level="10.6.3" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#anchors"><i class="fa fa-check"></i><b>10.6.3</b> Anchors</a></li>
<li class="chapter" data-level="10.6.4" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#character-classes"><i class="fa fa-check"></i><b>10.6.4</b> Character Classes</a></li>
<li class="chapter" data-level="10.6.5" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#quantifiers"><i class="fa fa-check"></i><b>10.6.5</b> Quantifiers</a></li>
<li class="chapter" data-level="10.6.6" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#groups"><i class="fa fa-check"></i><b>10.6.6</b> Groups</a></li>
<li class="chapter" data-level="10.6.7" data-path="strings-and-regular-expressions.html"><a href="strings-and-regular-expressions.html#extracting-matches"><i class="fa fa-check"></i><b>10.6.7</b> Extracting Matches</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="optical-character-recognition.html"><a href="optical-character-recognition.html"><i class="fa fa-check"></i><b>11</b> Optical Character Recognition</a>
<ul>
<li class="chapter" data-level="11.1" data-path="optical-character-recognition.html"><a href="optical-character-recognition.html#learning-objectives-10"><i class="fa fa-check"></i><b>11.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="11.2" data-path="optical-character-recognition.html"><a href="optical-character-recognition.html#what-is-optical-character-recognition"><i class="fa fa-check"></i><b>11.2</b> What is Optical Character Recognition?</a></li>
<li class="chapter" data-level="11.3" data-path="optical-character-recognition.html"><a href="optical-character-recognition.html#loading-page-images"><i class="fa fa-check"></i><b>11.3</b> Loading Page Images</a></li>
<li class="chapter" data-level="11.4" data-path="optical-character-recognition.html"><a href="optical-character-recognition.html#running-ocr"><i class="fa fa-check"></i><b>11.4</b> Running OCR</a></li>
<li class="chapter" data-level="11.5" data-path="optical-character-recognition.html"><a href="optical-character-recognition.html#accuracy"><i class="fa fa-check"></i><b>11.5</b> Accuracy</a></li>
<li class="chapter" data-level="11.6" data-path="optical-character-recognition.html"><a href="optical-character-recognition.html#unreadable-text"><i class="fa fa-check"></i><b>11.6</b> Unreadable Text</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="statistics.html"><a href="statistics.html"><i class="fa fa-check"></i><b>12</b> Statistics</a>
<ul>
<li class="chapter" data-level="12.1" data-path="statistics.html"><a href="statistics.html#introduction"><i class="fa fa-check"></i><b>12.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="12.1.1" data-path="statistics.html"><a href="statistics.html#mice_pot-dataset"><i class="fa fa-check"></i><b>12.1.1</b> <code>mice_pot</code> dataset</a></li>
<li class="chapter" data-level="12.1.2" data-path="statistics.html"><a href="statistics.html#barnacles-dataset"><i class="fa fa-check"></i><b>12.1.2</b> <code>barnacles</code> dataset</a></li>
<li class="chapter" data-level="12.1.3" data-path="statistics.html"><a href="statistics.html#sample-and-population"><i class="fa fa-check"></i><b>12.1.3</b> Sample and population</a></li>
</ul></li>
<li class="chapter" data-level="12.2" data-path="statistics.html"><a href="statistics.html#uses-of-simulation"><i class="fa fa-check"></i><b>12.2</b> Uses of simulation</a></li>
<li class="chapter" data-level="12.3" data-path="statistics.html"><a href="statistics.html#mathematical-statistics"><i class="fa fa-check"></i><b>12.3</b> Mathematical statistics</a>
<ul>
<li class="chapter" data-level="12.3.1" data-path="statistics.html"><a href="statistics.html#law-of-large-numbers"><i class="fa fa-check"></i><b>12.3.1</b> Law of large numbers</a></li>
<li class="chapter" data-level="12.3.2" data-path="statistics.html"><a href="statistics.html#central-limit-theorem"><i class="fa fa-check"></i><b>12.3.2</b> Central limit theorem</a></li>
</ul></li>
<li class="chapter" data-level="12.4" data-path="statistics.html"><a href="statistics.html#statistical-inference"><i class="fa fa-check"></i><b>12.4</b> Statistical inference</a>
<ul>
<li class="chapter" data-level="12.4.1" data-path="statistics.html"><a href="statistics.html#confidence-intervals"><i class="fa fa-check"></i><b>12.4.1</b> Confidence intervals</a></li>
<li class="chapter" data-level="12.4.2" data-path="statistics.html"><a href="statistics.html#two-population-test"><i class="fa fa-check"></i><b>12.4.2</b> Two-population test</a></li>
<li class="chapter" data-level="12.4.3" data-path="statistics.html"><a href="statistics.html#hypothesis-tests-for-non-normal-data"><i class="fa fa-check"></i><b>12.4.3</b> Hypothesis tests for non-normal data</a></li>
</ul></li>
<li class="chapter" data-level="12.5" data-path="statistics.html"><a href="statistics.html#regression"><i class="fa fa-check"></i><b>12.5</b> Regression</a>
<ul>
<li class="chapter" data-level="12.5.1" data-path="statistics.html"><a href="statistics.html#fitting-a-regression-line"><i class="fa fa-check"></i><b>12.5.1</b> Fitting a regression line</a></li>
<li class="chapter" data-level="12.5.2" data-path="statistics.html"><a href="statistics.html#assumptions-and-diagnostics"><i class="fa fa-check"></i><b>12.5.2</b> Assumptions and diagnostics</a></li>
<li class="chapter" data-level="12.5.3" data-path="statistics.html"><a href="statistics.html#functions-for-inspecting-regression-fits"><i class="fa fa-check"></i><b>12.5.3</b> Functions for inspecting regression fits</a></li>
<li class="chapter" data-level="12.5.4" data-path="statistics.html"><a href="statistics.html#a-model-that-fails-diagnostics"><i class="fa fa-check"></i><b>12.5.4</b> A model that fails diagnostics</a></li>
<li class="chapter" data-level="12.5.5" data-path="statistics.html"><a href="statistics.html#predictions-and-variability"><i class="fa fa-check"></i><b>12.5.5</b> Predictions and variability</a></li>
</ul></li>
<li class="chapter" data-level="12.6" data-path="statistics.html"><a href="statistics.html#model-selection"><i class="fa fa-check"></i><b>12.6</b> Model selection</a></li>
<li class="chapter" data-level="12.7" data-path="statistics.html"><a href="statistics.html#cross-validation"><i class="fa fa-check"></i><b>12.7</b> Cross-validation</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="reshaping-tabular-data.html"><a href="reshaping-tabular-data.html"><i class="fa fa-check"></i><b>13</b> Reshaping Tabular Data</a>
<ul>
<li class="chapter" data-level="13.1" data-path="reshaping-tabular-data.html"><a href="reshaping-tabular-data.html#learning-objectives-11"><i class="fa fa-check"></i><b>13.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="13.2" data-path="reshaping-tabular-data.html"><a href="reshaping-tabular-data.html#introduction-1"><i class="fa fa-check"></i><b>13.2</b> Introduction</a></li>
<li class="chapter" data-level="13.3" data-path="reshaping-tabular-data.html"><a href="reshaping-tabular-data.html#columns-into-rows"><i class="fa fa-check"></i><b>13.3</b> Columns into Rows</a>
<ul>
<li class="chapter" data-level="13.3.1" data-path="reshaping-tabular-data.html"><a href="reshaping-tabular-data.html#how-to-pivot-longer-without-tidyr"><i class="fa fa-check"></i><b>13.3.1</b> How to Pivot Longer without <strong>tidyr</strong></a></li>
</ul></li>
<li class="chapter" data-level="13.4" data-path="reshaping-tabular-data.html"><a href="reshaping-tabular-data.html#rows-into-columns"><i class="fa fa-check"></i><b>13.4</b> Rows into Columns</a></li>
<li class="chapter" data-level="13.5" data-path="reshaping-tabular-data.html"><a href="reshaping-tabular-data.html#separating-values"><i class="fa fa-check"></i><b>13.5</b> Separating Values</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="network-analysis.html"><a href="network-analysis.html"><i class="fa fa-check"></i><b>14</b> Network Analysis</a>
<ul>
<li class="chapter" data-level="14.1" data-path="network-analysis.html"><a href="network-analysis.html#learning-objectives-12"><i class="fa fa-check"></i><b>14.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="14.2" data-path="network-analysis.html"><a href="network-analysis.html#what-is-a-network"><i class="fa fa-check"></i><b>14.2</b> What is a network?</a>
<ul>
<li class="chapter" data-level="14.2.1" data-path="network-analysis.html"><a href="network-analysis.html#networks-in-research"><i class="fa fa-check"></i><b>14.2.1</b> Networks in research</a></li>
</ul></li>
<li class="chapter" data-level="14.3" data-path="network-analysis.html"><a href="network-analysis.html#network-data"><i class="fa fa-check"></i><b>14.3</b> Network Data</a>
<ul>
<li class="chapter" data-level="14.3.1" data-path="network-analysis.html"><a href="network-analysis.html#edgelist"><i class="fa fa-check"></i><b>14.3.1</b> Edgelist</a></li>
<li class="chapter" data-level="14.3.2" data-path="network-analysis.html"><a href="network-analysis.html#adjacency-matrix"><i class="fa fa-check"></i><b>14.3.2</b> Adjacency Matrix</a></li>
<li class="chapter" data-level="14.3.3" data-path="network-analysis.html"><a href="network-analysis.html#edge-weights"><i class="fa fa-check"></i><b>14.3.3</b> Edge Weights</a></li>
<li class="chapter" data-level="14.3.4" data-path="network-analysis.html"><a href="network-analysis.html#attributes"><i class="fa fa-check"></i><b>14.3.4</b> Attributes</a></li>
<li class="chapter" data-level="14.3.5" data-path="network-analysis.html"><a href="network-analysis.html#create-an-example-network"><i class="fa fa-check"></i><b>14.3.5</b> Create an Example Network</a></li>
<li class="chapter" data-level="14.3.6" data-path="network-analysis.html"><a href="network-analysis.html#components"><i class="fa fa-check"></i><b>14.3.6</b> Components</a></li>
<li class="chapter" data-level="14.3.7" data-path="network-analysis.html"><a href="network-analysis.html#limitations-of-network-data"><i class="fa fa-check"></i><b>14.3.7</b> Limitations of Network Data</a></li>
<li class="chapter" data-level="14.3.8" data-path="network-analysis.html"><a href="network-analysis.html#projected-networks"><i class="fa fa-check"></i><b>14.3.8</b> Projected Networks</a></li>
</ul></li>
<li class="chapter" data-level="14.4" data-path="network-analysis.html"><a href="network-analysis.html#graph-level-properties"><i class="fa fa-check"></i><b>14.4</b> Graph Level Properties</a>
<ul>
<li class="chapter" data-level="14.4.1" data-path="network-analysis.html"><a href="network-analysis.html#directed-or-un-directed"><i class="fa fa-check"></i><b>14.4.1</b> Directed or Un-directed</a></li>
<li class="chapter" data-level="14.4.2" data-path="network-analysis.html"><a href="network-analysis.html#density"><i class="fa fa-check"></i><b>14.4.2</b> Density</a></li>
<li class="chapter" data-level="14.4.3" data-path="network-analysis.html"><a href="network-analysis.html#centralization"><i class="fa fa-check"></i><b>14.4.3</b> Centralization</a></li>
</ul></li>
<li class="chapter" data-level="14.5" data-path="network-analysis.html"><a href="network-analysis.html#node-level-properties"><i class="fa fa-check"></i><b>14.5</b> Node Level Properties</a>
<ul>
<li class="chapter" data-level="14.5.1" data-path="network-analysis.html"><a href="network-analysis.html#degree"><i class="fa fa-check"></i><b>14.5.1</b> Degree</a></li>
<li class="chapter" data-level="14.5.2" data-path="network-analysis.html"><a href="network-analysis.html#geodesic-distance"><i class="fa fa-check"></i><b>14.5.2</b> Geodesic Distance</a></li>
<li class="chapter" data-level="14.5.3" data-path="network-analysis.html"><a href="network-analysis.html#centrality"><i class="fa fa-check"></i><b>14.5.3</b> Centrality</a></li>
</ul></li>
<li class="chapter" data-level="14.6" data-path="network-analysis.html"><a href="network-analysis.html#network-workflow"><i class="fa fa-check"></i><b>14.6</b> Network Workflow</a></li>
<li class="chapter" data-level="14.7" data-path="network-analysis.html"><a href="network-analysis.html#network-tools"><i class="fa fa-check"></i><b>14.7</b> Network Tools</a>
<ul>
<li class="chapter" data-level="14.7.1" data-path="network-analysis.html"><a href="network-analysis.html#network-models"><i class="fa fa-check"></i><b>14.7.1</b> Network Models</a></li>
<li class="chapter" data-level="14.7.2" data-path="network-analysis.html"><a href="network-analysis.html#network-visualization"><i class="fa fa-check"></i><b>14.7.2</b> Network Visualization</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="15" data-path="data-forensics-and-cleaning-unstructured-data.html"><a href="data-forensics-and-cleaning-unstructured-data.html"><i class="fa fa-check"></i><b>15</b> Data Forensics and Cleaning: Unstructured Data</a>
<ul>
<li class="chapter" data-level="15.1" data-path="data-forensics-and-cleaning-unstructured-data.html"><a href="data-forensics-and-cleaning-unstructured-data.html#learning-objectives-13"><i class="fa fa-check"></i><b>15.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="15.2" data-path="data-forensics-and-cleaning-unstructured-data.html"><a href="data-forensics-and-cleaning-unstructured-data.html#using-a-file-manifest"><i class="fa fa-check"></i><b>15.2</b> Using a File Manifest</a></li>
<li class="chapter" data-level="15.3" data-path="data-forensics-and-cleaning-unstructured-data.html"><a href="data-forensics-and-cleaning-unstructured-data.html#loading-a-corpus"><i class="fa fa-check"></i><b>15.3</b> Loading a Corpus</a></li>
<li class="chapter" data-level="15.4" data-path="data-forensics-and-cleaning-unstructured-data.html"><a href="data-forensics-and-cleaning-unstructured-data.html#preprocessing"><i class="fa fa-check"></i><b>15.4</b> Preprocessing</a>
<ul>
<li class="chapter" data-level="15.4.1" data-path="data-forensics-and-cleaning-unstructured-data.html"><a href="data-forensics-and-cleaning-unstructured-data.html#tokenizing-and-bags-of-words"><i class="fa fa-check"></i><b>15.4.1</b> Tokenizing and Bags of Words</a></li>
<li class="chapter" data-level="15.4.2" data-path="data-forensics-and-cleaning-unstructured-data.html"><a href="data-forensics-and-cleaning-unstructured-data.html#text-normalization"><i class="fa fa-check"></i><b>15.4.2</b> Text Normalization</a></li>
<li class="chapter" data-level="15.4.3" data-path="data-forensics-and-cleaning-unstructured-data.html"><a href="data-forensics-and-cleaning-unstructured-data.html#stop-words"><i class="fa fa-check"></i><b>15.4.3</b> Stop Words</a></li>
<li class="chapter" data-level="15.4.4" data-path="data-forensics-and-cleaning-unstructured-data.html"><a href="data-forensics-and-cleaning-unstructured-data.html#tokenizers"><i class="fa fa-check"></i><b>15.4.4</b> Tokenizers</a></li>
<li class="chapter" data-level="15.4.5" data-path="data-forensics-and-cleaning-unstructured-data.html"><a href="data-forensics-and-cleaning-unstructured-data.html#document-chunking-and-n-grams"><i class="fa fa-check"></i><b>15.4.5</b> Document Chunking and N-grams</a></li>
</ul></li>
<li class="chapter" data-level="15.5" data-path="data-forensics-and-cleaning-unstructured-data.html"><a href="data-forensics-and-cleaning-unstructured-data.html#counting-terms"><i class="fa fa-check"></i><b>15.5</b> Counting Terms</a>
<ul>
<li class="chapter" data-level="15.5.1" data-path="data-forensics-and-cleaning-unstructured-data.html"><a href="data-forensics-and-cleaning-unstructured-data.html#term-frequency"><i class="fa fa-check"></i><b>15.5.1</b> Term Frequency</a></li>
<li class="chapter" data-level="15.5.2" data-path="data-forensics-and-cleaning-unstructured-data.html"><a href="data-forensics-and-cleaning-unstructured-data.html#plotting-term-frequency"><i class="fa fa-check"></i><b>15.5.2</b> Plotting Term Frequency</a></li>
<li class="chapter" data-level="15.5.3" data-path="data-forensics-and-cleaning-unstructured-data.html"><a href="data-forensics-and-cleaning-unstructured-data.html#comparing-term-frequencies-across-documents"><i class="fa fa-check"></i><b>15.5.3</b> Comparing Term Frequencies Across Documents</a></li>
</ul></li>
<li class="chapter" data-level="15.6" data-path="data-forensics-and-cleaning-unstructured-data.html"><a href="data-forensics-and-cleaning-unstructured-data.html#text-mining-pipepline"><i class="fa fa-check"></i><b>15.6</b> Text Mining Pipepline</a></li>
<li class="chapter" data-level="15.7" data-path="data-forensics-and-cleaning-unstructured-data.html"><a href="data-forensics-and-cleaning-unstructured-data.html#document-term-matrix"><i class="fa fa-check"></i><b>15.7</b> Document Term Matrix</a></li>
<li class="chapter" data-level="15.8" data-path="data-forensics-and-cleaning-unstructured-data.html"><a href="data-forensics-and-cleaning-unstructured-data.html#corpus-analytics"><i class="fa fa-check"></i><b>15.8</b> Corpus Analytics</a>
<ul>
<li class="chapter" data-level="15.8.1" data-path="data-forensics-and-cleaning-unstructured-data.html"><a href="data-forensics-and-cleaning-unstructured-data.html#corpus-term-counts"><i class="fa fa-check"></i><b>15.8.1</b> Corpus Term Counts</a></li>
<li class="chapter" data-level="15.8.2" data-path="data-forensics-and-cleaning-unstructured-data.html"><a href="data-forensics-and-cleaning-unstructured-data.html#tfidf-scores"><i class="fa fa-check"></i><b>15.8.2</b> tf–idf Scores</a></li>
<li class="chapter" data-level="15.8.3" data-path="data-forensics-and-cleaning-unstructured-data.html"><a href="data-forensics-and-cleaning-unstructured-data.html#unique-terms-in-a-document"><i class="fa fa-check"></i><b>15.8.3</b> Unique Terms in a Document</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="16" data-path="data-forensics-and-cleaning-geospatial-data.html"><a href="data-forensics-and-cleaning-geospatial-data.html"><i class="fa fa-check"></i><b>16</b> Data Forensics and Cleaning: Geospatial Data</a>
<ul>
<li class="chapter" data-level="16.1" data-path="data-forensics-and-cleaning-geospatial-data.html"><a href="data-forensics-and-cleaning-geospatial-data.html#learning-objectives-14"><i class="fa fa-check"></i><b>16.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="16.2" data-path="data-forensics-and-cleaning-geospatial-data.html"><a href="data-forensics-and-cleaning-geospatial-data.html#what-is-geospatial-data"><i class="fa fa-check"></i><b>16.2</b> What is Geospatial Data?</a>
<ul>
<li class="chapter" data-level="16.2.1" data-path="data-forensics-and-cleaning-geospatial-data.html"><a href="data-forensics-and-cleaning-geospatial-data.html#attributes-1"><i class="fa fa-check"></i><b>16.2.1</b> Attributes</a></li>
<li class="chapter" data-level="16.2.2" data-path="data-forensics-and-cleaning-geospatial-data.html"><a href="data-forensics-and-cleaning-geospatial-data.html#coordinate-reference-system"><i class="fa fa-check"></i><b>16.2.2</b> Coordinate Reference System</a></li>
<li class="chapter" data-level="16.2.3" data-path="data-forensics-and-cleaning-geospatial-data.html"><a href="data-forensics-and-cleaning-geospatial-data.html#coordinates"><i class="fa fa-check"></i><b>16.2.3</b> Coordinates</a></li>
</ul></li>
<li class="chapter" data-level="16.3" data-path="data-forensics-and-cleaning-geospatial-data.html"><a href="data-forensics-and-cleaning-geospatial-data.html#geospatial-data-models"><i class="fa fa-check"></i><b>16.3</b> Geospatial Data Models</a>
<ul>
<li class="chapter" data-level="16.3.1" data-path="data-forensics-and-cleaning-geospatial-data.html"><a href="data-forensics-and-cleaning-geospatial-data.html#vector-data"><i class="fa fa-check"></i><b>16.3.1</b> Vector Data</a></li>
<li class="chapter" data-level="16.3.2" data-path="data-forensics-and-cleaning-geospatial-data.html"><a href="data-forensics-and-cleaning-geospatial-data.html#raster-data"><i class="fa fa-check"></i><b>16.3.2</b> Raster Data</a></li>
</ul></li>
<li class="chapter" data-level="16.4" data-path="data-forensics-and-cleaning-geospatial-data.html"><a href="data-forensics-and-cleaning-geospatial-data.html#data-structures-applied-to-geospatial-data"><i class="fa fa-check"></i><b>16.4</b> Data Structures Applied to Geospatial Data</a></li>
<li class="chapter" data-level="16.5" data-path="data-forensics-and-cleaning-geospatial-data.html"><a href="data-forensics-and-cleaning-geospatial-data.html#cleaning-geospatial-data"><i class="fa fa-check"></i><b>16.5</b> Cleaning Geospatial Data</a>
<ul>
<li class="chapter" data-level="16.5.1" data-path="data-forensics-and-cleaning-geospatial-data.html"><a href="data-forensics-and-cleaning-geospatial-data.html#example-data"><i class="fa fa-check"></i><b>16.5.1</b> Example Data</a></li>
<li class="chapter" data-level="16.5.2" data-path="data-forensics-and-cleaning-geospatial-data.html"><a href="data-forensics-and-cleaning-geospatial-data.html#making-location-data-usable"><i class="fa fa-check"></i><b>16.5.2</b> Making Location Data Usable</a></li>
<li class="chapter" data-level="16.5.3" data-path="data-forensics-and-cleaning-geospatial-data.html"><a href="data-forensics-and-cleaning-geospatial-data.html#cleaning-location-data"><i class="fa fa-check"></i><b>16.5.3</b> Cleaning Location Data</a></li>
<li class="chapter" data-level="16.5.4" data-path="data-forensics-and-cleaning-geospatial-data.html"><a href="data-forensics-and-cleaning-geospatial-data.html#cleaning-attribute-data"><i class="fa fa-check"></i><b>16.5.4</b> Cleaning Attribute Data</a></li>
<li class="chapter" data-level="16.5.5" data-path="data-forensics-and-cleaning-geospatial-data.html"><a href="data-forensics-and-cleaning-geospatial-data.html#checking-coordinate-reference-systems"><i class="fa fa-check"></i><b>16.5.5</b> Checking Coordinate Reference Systems</a></li>
</ul></li>
<li class="chapter" data-level="16.6" data-path="data-forensics-and-cleaning-geospatial-data.html"><a href="data-forensics-and-cleaning-geospatial-data.html#conclusions"><i class="fa fa-check"></i><b>16.6</b> Conclusions</a></li>
<li class="chapter" data-level="16.7" data-path="data-forensics-and-cleaning-geospatial-data.html"><a href="data-forensics-and-cleaning-geospatial-data.html#optional-further-reading"><i class="fa fa-check"></i><b>16.7</b> Optional Further Reading</a></li>
</ul></li>
<li class="divider"></li>
<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">
  <img alt="CC BY-SA 4.0" src="https://img.shields.io/badge/License-CC%20BY--NC--SA%204.0-lightgrey.svg" style="float: right; padding-right: 10px;" />
</a>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Adventures in Data Science</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="files-packages-and-data" class="section level1 hasAnchor" number="5">
<h1><span class="header-section-number">5</span> Files, Packages, and Data<a href="files-packages-and-data.html#files-packages-and-data" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>This lesson will focus on working with data files in R. It will reinforce understanding of the command line, as well as RStudio, demonstrate finding and loading packages in R, and introduce new ways of inspecting and working with data.</p>
<div id="learning-objectives-4" class="section level2 hasAnchor" number="5.1">
<h2><span class="header-section-number">5.1</span> Learning Objectives<a href="files-packages-and-data.html#learning-objectives-4" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>After this lesson you should be able to:</p>
<ul>
<li>Identify some common file extensions</li>
<li>Read and write csv files into R</li>
<li>Read and save data to disk as RDS</li>
<li>Download packages from CRAN</li>
<li>Recognize categorical data</li>
<li>Explain what factors are and when to use them</li>
<li>Explain the purpose of R’s special values, especially missing values</li>
<li>Explain the four different types of indexes and how to use them</li>
<li>Explain why the <code>[[</code> operator is necessary and how to use it</li>
<li>Explain the syntax to subset a data frame</li>
</ul>
</div>
<div id="working-with-files" class="section level2 hasAnchor" number="5.2">
<h2><span class="header-section-number">5.2</span> Working with Files<a href="files-packages-and-data.html#working-with-files" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="setup" class="section level3 hasAnchor" number="5.2.1">
<h3><span class="header-section-number">5.2.1</span> Setup<a href="files-packages-and-data.html#setup" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>To follow along, download this zip file from the following URL:
<a href="https://datalab.ucdavis.edu/adventures-in-datascience/best_in_show.zip">https://datalab.ucdavis.edu/adventures-in-datascience/best_in_show.zip</a></p>
<p>Navigate to where you want to save your work:</p>
<pre><code>cd ~/Documents/</code></pre>
<p>Next, make a directory:</p>
<pre><code>mkdir files_in_r</code></pre>
<pre><code>cd files_in_r</code></pre>
<p>Copy the downloaded zip file into that directory:</p>
<pre><code>cp ~/Downloads/best_in_show.zip .</code></pre>
<p>Unzip the file:</p>
<pre><code>unzip best_in_show.zip</code></pre>
<p>Navigate to the newly created directory</p>
<pre><code>cd best_in_show</code></pre>
</div>
<div id="exploring-files" class="section level3 hasAnchor" number="5.2.2">
<h3><span class="header-section-number">5.2.2</span> Exploring Files<a href="files-packages-and-data.html#exploring-files" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>When working with files, its important to gather lots of information, and
constantly test assumptions that you may have.</p>
<p>This process is a key part of programming and of working in the command line.</p>
<p>Lets start by seeing what we have, which we do with the <code>ls</code> command:</p>
<pre><code>ls</code></pre>
<p>Remember that <code>ls</code> can be modified with flags, for example, to see <em>all</em> the
files including hidden ones, use the <code>-a</code> flag:</p>
<pre><code>ls -a</code></pre>
<p>You can see more information about the files with the <code>-l</code> flag:</p>
<pre><code>ls -l</code></pre>
<p>Modifiers can be combined for <code>ls</code>:</p>
<pre><code>ls -la</code></pre>
<p>You can use <code>du -h</code> to see the disk usage (file size) of a given file:</p>
<pre><code>du -h dogs.csv</code></pre>
<p><code>-h</code> refers to human readable as by default <code>du</code> displays the size in block
units. Being aware of the size of a file early on can help debug issues with
running out of disk space, as well as issues down the line in the analysis
process. For example, reading in too many too large files into R can create
issues for you by overloading your system’s RAM (your computer’s working memory).</p>
<p>You can view the disk usage for all the files in the directory with the
wildcard symbol <code>*</code>:</p>
<pre><code>du -h *</code></pre>
<div id="file-extensions" class="section level4 hasAnchor" number="5.2.2.1">
<h4><span class="header-section-number">5.2.2.1</span> File Extensions<a href="files-packages-and-data.html#file-extensions" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Most of the time, you can guess the format of a file by looking at its
extension, the characters (usually three) after the last dot <code>.</code> in the
file name. For example, the extension <code>.jpg</code> or <code>.jpeg</code> indicates a JPEG image
file. Some operating systems hide extensions by default, but you can find
instructions to change this setting online by searching for “show file
extensions” and your operating system’s name. The extension is just part of the
file’s name, so it should be taken as a hint about the file’s format rather
than a guarantee.</p>
</div>
<div id="text-files" class="section level4 hasAnchor" number="5.2.2.2">
<h4><span class="header-section-number">5.2.2.2</span> Text Files<a href="files-packages-and-data.html#text-files" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>A text file is one that contains human-readable lines of text. You can check
this by opening the file with a text editor such as Microsoft Notepad or macOS
TextEdit. Many file formats use text in order to make the format easier to work
with.</p>
<p>On the command line, you can get information about the type of a file
by using the <code>file</code> command followed by the name of a file:</p>
<pre><code>file dogs.csv</code></pre>
<p>Note that <code>file</code> uses a series of tests (learn more by reading <code>man file</code>),
to determine the file type and may not always perfectly report the type of the
file.</p>
<p>The output of <code>file</code> is the file name followed by a colon and then a description
of the file type.</p>
<p>In this case, the output tells us that dogs.csv is a CSV text file.</p>
<p>A <strong>comma-separated values</strong> (CSV) file records tabular data
using one line per row, with commas separating columns.</p>
<p>From the command line we can read text files with <code>vim</code>:</p>
<pre><code>vim dogs.csv</code></pre>
<p>To see the type of all the files in the directory you can use the wildcard <code>*</code>
operator:</p>
<pre><code>file *</code></pre>
</div>
<div id="binary-files" class="section level4 hasAnchor" number="5.2.2.3">
<h4><span class="header-section-number">5.2.2.3</span> Binary Files<a href="files-packages-and-data.html#binary-files" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>A binary file is one that’s not human-readable. You can’t just read off the
data if you open a binary file in a text editor, but they have a number of
other advantages. Compared to text files, binary files are often faster to read
and take up less storage space (bytes).</p>
<p>For demonstrations sake, see what happens when you try to use vim to ‘read’
a binary data file:</p>
<pre><code>vim dogs.rds</code></pre>
<p>Notice that the editor displays data but it isn’t human readable, it looks
like a bunch of random symbols with potentially the occasional recognizable
word.</p>
</div>
<div id="common-data-file-types" class="section level4 hasAnchor" number="5.2.2.4">
<h4><span class="header-section-number">5.2.2.4</span> Common Data File Types<a href="files-packages-and-data.html#common-data-file-types" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<table>
<thead>
<tr class="header">
<th align="left">Name</th>
<th align="left">Extension</th>
<th align="left">Tabular?</th>
<th align="left">Text?</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Comma-separated Values</td>
<td align="left"><code>.csv</code></td>
<td align="left">Yes</td>
<td align="left">Yes</td>
</tr>
<tr class="even">
<td align="left">Tab-separated Values</td>
<td align="left"><code>.tsv</code></td>
<td align="left">Yes</td>
<td align="left">Yes</td>
</tr>
<tr class="odd">
<td align="left">Fixed-width File</td>
<td align="left"><code>.fwf</code></td>
<td align="left">Yes</td>
<td align="left">Yes</td>
</tr>
<tr class="even">
<td align="left">Microsoft Excel</td>
<td align="left"><code>.xlsx</code></td>
<td align="left">Yes</td>
<td align="left">No</td>
</tr>
<tr class="odd">
<td align="left">Microsoft Excel 1993-2007</td>
<td align="left"><code>.xls</code></td>
<td align="left">Yes</td>
<td align="left">No</td>
</tr>
<tr class="even">
<td align="left"><a href="https://arrow.apache.org/">Apache Arrow</a></td>
<td align="left"><code>.feather</code></td>
<td align="left">Yes</td>
<td align="left">No</td>
</tr>
<tr class="odd">
<td align="left">R Data</td>
<td align="left"><code>.rds</code></td>
<td align="left">Sometimes</td>
<td align="left">No</td>
</tr>
<tr class="even">
<td align="left">R Data</td>
<td align="left"><code>.rda</code></td>
<td align="left">Sometimes</td>
<td align="left">No</td>
</tr>
<tr class="odd">
<td align="left">Plaintext</td>
<td align="left"><code>.txt</code></td>
<td align="left">Sometimes</td>
<td align="left">Yes</td>
</tr>
<tr class="even">
<td align="left">Extensible Markup Language</td>
<td align="left"><code>.xml</code></td>
<td align="left">No</td>
<td align="left">Yes</td>
</tr>
<tr class="odd">
<td align="left">JavaScript Object Notation</td>
<td align="left"><code>.json</code></td>
<td align="left">No</td>
<td align="left">Yes</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="reading-and-writing-files-in-r" class="section level3 hasAnchor" number="5.2.3">
<h3><span class="header-section-number">5.2.3</span> Reading and Writing Files in R<a href="files-packages-and-data.html#reading-and-writing-files-in-r" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>R has many functions for working with file systems, reading and writing
files.</p>
<div id="the-working-directory" class="section level4 hasAnchor" number="5.2.3.1">
<h4><span class="header-section-number">5.2.3.1</span> The Working Directory<a href="files-packages-and-data.html#the-working-directory" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>The <em>working directory</em> is the starting point R uses for relative paths.
Think of the working directory as the directory R is currently “at” or watching.</p>
<p>The function <code>getwd</code> returns the absolute path for the current working
directory, as a string. It doesn’t require any arguments:</p>
<div class="sourceCode" id="cb176"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb176-1"><a href="files-packages-and-data.html#cb176-1" tabindex="-1"></a><span class="fu">getwd</span>()</span></code></pre></div>
<p>On your computer, the output from <code>getwd</code> will likely be different. This is a
very useful function for getting your bearings when you write relative paths.
If you write a relative path and it doesn’t work as expected, the first thing
to do is check the working directory.</p>
<p>The related <code>setwd</code> function changes the working directory. It takes one
argument: a path to the new working directory. Here’s an example:</p>
<div class="sourceCode" id="cb177"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb177-1"><a href="files-packages-and-data.html#cb177-1" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">&quot;..&quot;</span>)</span>
<span id="cb177-2"><a href="files-packages-and-data.html#cb177-2" tabindex="-1"></a><span class="co"># Now check the working directory.</span></span>
<span id="cb177-3"><a href="files-packages-and-data.html#cb177-3" tabindex="-1"></a><span class="fu">getwd</span>()</span></code></pre></div>
<p>Generally, you should avoid using calls to <code>setwd</code> in your R scripts and R
Markdown files. Calling <code>setwd</code> makes your code more difficult to understand,
and can always be avoided by using appropriate relative paths. If you call
<code>setwd</code> with an absolute path, it also makes your code less portable to other
computers. It’s fine to use <code>setwd</code> interactively (in the R console), but avoid
making your saved code dependent on it.</p>
<p>When working in RStudio, you can set the working directory <em>at the start of your
session</em> in <code>session</code> -&gt; <code>Set Working Directory</code> -&gt; <code>To Source File Location</code></p>
<p>Another function that’s useful for dealing with the working directory and file
system is <code>list.files</code>. The <code>list.files</code> function returns the names of all of
the files and directories inside of a directory. It accepts a path to a
directory as an argument, or assumes the working directory if you don’t pass a
path. For instance:</p>
<div class="sourceCode" id="cb178"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb178-1"><a href="files-packages-and-data.html#cb178-1" tabindex="-1"></a><span class="co"># List files and directories in ~/.</span></span>
<span id="cb178-2"><a href="files-packages-and-data.html#cb178-2" tabindex="-1"></a><span class="fu">list.files</span>(<span class="st">&quot;~/&quot;</span>)</span>
<span id="cb178-3"><a href="files-packages-and-data.html#cb178-3" tabindex="-1"></a><span class="co"># List files and directories in the working directory.</span></span>
<span id="cb178-4"><a href="files-packages-and-data.html#cb178-4" tabindex="-1"></a><span class="fu">list.files</span>()</span></code></pre></div>
<p>If you call <code>list.files</code> with an invalid path or
an empty directory, the output is <code>character(0)</code>:</p>
<div class="sourceCode" id="cb179"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb179-1"><a href="files-packages-and-data.html#cb179-1" tabindex="-1"></a><span class="fu">list.files</span>(<span class="st">&quot;/this/path/is/fake/&quot;</span>)</span></code></pre></div>
<p>Later on, we’ll learn about what <code>character(0)</code> means more generally.</p>
</div>
<div id="reading-a-csv-file" class="section level4 hasAnchor" number="5.2.3.2">
<h4><span class="header-section-number">5.2.3.2</span> Reading a CSV File<a href="files-packages-and-data.html#reading-a-csv-file" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Let’s go ahead and read the <code>dogs.csv</code> file we extracted from the zip file
at the start.</p>
<p>R provides a very easy built-in function for reading CSV files, and a variety
of other formats for text files containing tabular data.</p>
<p>To read a csv file into R, use <code>read.csv</code>:</p>
<div class="sourceCode" id="cb180"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb180-1"><a href="files-packages-and-data.html#cb180-1" tabindex="-1"></a>dogs <span class="ot">=</span> <span class="fu">read.csv</span>(<span class="st">&#39;dogs.csv&#39;</span>)</span></code></pre></div>
<div id="inspecting-the-data" class="section level5 hasAnchor" number="5.2.3.2.1">
<h5><span class="header-section-number">5.2.3.2.1</span> Inspecting the Data<a href="files-packages-and-data.html#inspecting-the-data" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<div class="sourceCode" id="cb181"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb181-1"><a href="files-packages-and-data.html#cb181-1" tabindex="-1"></a>dogs <span class="ot">=</span> <span class="fu">readRDS</span>(<span class="st">&#39;data/dogs.RDS&#39;</span>)</span></code></pre></div>
<p>Whenever you import data into R, it is crucial to check that things went
as expected. To check things went according to our expectation, look at the output of the <code>read.csv</code> function, which we saved into <code>dogs</code>.</p>
<p>Let’s see what the output is. We can check what the object is with the <code>class</code>
function.</p>
<div class="sourceCode" id="cb182"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb182-1"><a href="files-packages-and-data.html#cb182-1" tabindex="-1"></a><span class="fu">class</span>(dogs)</span></code></pre></div>
<p>We can see that the <code>read.csv</code> function returned a data frame. This makes sense
because data frames represent tabular data, and csv files contain tabular data.</p>
<p>We can get more information with the <code>str</code> function. <code>str</code> concisely gives
information about the content of an R object:</p>
<div class="sourceCode" id="cb183"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb183-1"><a href="files-packages-and-data.html#cb183-1" tabindex="-1"></a><span class="fu">str</span>(dogs)</span></code></pre></div>
<p>Let’s check the dimensions of our dataset:</p>
<div class="sourceCode" id="cb184"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb184-1"><a href="files-packages-and-data.html#cb184-1" tabindex="-1"></a><span class="fu">dim</span>(dogs)</span></code></pre></div>
<p>Recall we can access the number of rows with:</p>
<div class="sourceCode" id="cb185"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb185-1"><a href="files-packages-and-data.html#cb185-1" tabindex="-1"></a><span class="fu">nrow</span>(dogs)</span></code></pre></div>
<p>And the number of columns:</p>
<div class="sourceCode" id="cb186"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb186-1"><a href="files-packages-and-data.html#cb186-1" tabindex="-1"></a><span class="fu">ncol</span>(dogs)</span></code></pre></div>
<p>To display the first rows from the dataset, use <code>head</code>:</p>
<div class="sourceCode" id="cb187"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb187-1"><a href="files-packages-and-data.html#cb187-1" tabindex="-1"></a><span class="fu">head</span>(dogs)</span></code></pre></div>
<p>And to display the last rows from the dataset, use <code>tail</code>:</p>
<div class="sourceCode" id="cb188"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb188-1"><a href="files-packages-and-data.html#cb188-1" tabindex="-1"></a><span class="fu">tail</span>(dogs)</span></code></pre></div>
</div>
</div>
<div id="reader-functions-for-tabular-data" class="section level4 hasAnchor" number="5.2.3.3">
<h4><span class="header-section-number">5.2.3.3</span> Reader Functions for Tabular Data<a href="files-packages-and-data.html#reader-functions-for-tabular-data" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>The <code>read.csv</code> function is a shortcut for <code>read.table</code>, a general purpose
function for reading tabular data from plain-text files into R.</p>
<p>The <code>read.csv</code> function acts just like <code>read.table</code>, but with the arguments
<code>sep = ","</code> and <code>header = TRUE</code>.</p>
<p>Table of R’s read functions (<a href="https://rstudio-education.github.io/hopr/dataio.html" class="uri">https://rstudio-education.github.io/hopr/dataio.html</a>)</p>
<table>
<colgroup>
<col width="40%" />
<col width="40%" />
<col width="18%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Function</th>
<th align="left">Defaults</th>
<th align="left">Use</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><code>read.table</code></td>
<td align="left">sep = ” “, header = FALSE</td>
<td align="left">General-purpose read function</td>
</tr>
<tr class="even">
<td align="left"><code>read.csv</code></td>
<td align="left">sep = “,”, header = TRUE</td>
<td align="left">Comma-separated-variable (CSV) files</td>
</tr>
<tr class="odd">
<td align="left"><code>read.delim</code></td>
<td align="left">sep = “, header = TRUE</td>
<td align="left">Tab-delimited files</td>
</tr>
<tr class="even">
<td align="left"><code>read.csv2</code></td>
<td align="left">sep = “;”, header = TRUE, dec = “,”</td>
<td align="left">CSV files with European decimal format</td>
</tr>
<tr class="odd">
<td align="left"><code>read.delim2</code></td>
<td align="left">sep = “, header = TRUE, dec =”,”</td>
<td align="left">Tab-delimited files with European decimal format</td>
</tr>
</tbody>
</table>
<p>Note that the main differences between these functions relates to the ‘sep’ argument, which specifies a separator character. In .csv files, the columns of the table are separated by commas (hence the name: CSV = comma separated values). In other versions of these read functions the columns are separated by tabs, signaled as <code>\t</code>. These separators – the commas and tabs – can also be called <strong>delimiters</strong>. Knowing which delimiter a function uses is important, particularly if you have those symbols in your data.</p>
</div>
<div id="writing-an-rds" class="section level4 hasAnchor" number="5.2.3.4">
<h4><span class="header-section-number">5.2.3.4</span> Writing an RDS<a href="files-packages-and-data.html#writing-an-rds" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>You can save any R object, such as a data frame, as an RDS file.
RDS files are a great option for storing data that is intended to be loaded
into R. Data saved as RDS can be quickly and accurately loaded out of and
back into R without losing any information.</p>
<p>This isn’t always the case when saving data in plain text formats such as CSV.
Any R-related metadata associated with the object you are saving will be
maintained in the RDS format. This is useful in the case of data frames if
your data contains factors, or dates, or other specific class attributes that
won’t be represented in a csv. You would need to reproduce the process for
parsing the data into R.</p>
<p>Additionally, RDS files often times take significantly less disk space to save,
as they are a compressed format. RDS files in general are faster to read.</p>
<p>However, its important to keep in mind that RDS files are meant to be used
only in R. If you save data as an RDS, you are assuming that however is using
that data will have access to and an understanding of R.</p>
<p>As a result, its common to use the RDS format for saving intermediary data
in a project. While when exporting results to a collaborator, or the internet
you would most likely want to use a commonly used plain-text format such as
CSV.</p>
<p>Use <code>saveRDS</code> to save our data as an rds file with the <code>rds</code> file extension.</p>
<div class="sourceCode" id="cb189"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb189-1"><a href="files-packages-and-data.html#cb189-1" tabindex="-1"></a><span class="fu">saveRDS</span>(dogs, <span class="st">&quot;./outputs/dogs.rds&quot;</span>)</span></code></pre></div>
<p>It’s easy to load RDS files in R with <code>readRDS</code>:</p>
<div class="sourceCode" id="cb190"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb190-1"><a href="files-packages-and-data.html#cb190-1" tabindex="-1"></a>dogs <span class="ot">=</span> <span class="fu">readRDS</span>(<span class="st">&quot;./outputs/dogs.rds&quot;</span>)</span></code></pre></div>
</div>
<div id="writing-a-csv" class="section level4 hasAnchor" number="5.2.3.5">
<h4><span class="header-section-number">5.2.3.5</span> Writing a csv<a href="files-packages-and-data.html#writing-a-csv" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>We just saved and read the dogs data as an RDS file, and we can practice saving data in other forms, such as a comma separated values (csv) file. Because we will be re-using the class survey data from the first week, let’s go ahead and save this data frame as a csv in your working directory.</p>
<p>First, you will want to create a folder called “data” in your working directory. You can do this in your console with the <code>dir.create()</code> function (this is like the <code>mkdir</code> command used in the command line). (Hint: make sure you are in your class working directory). You can run the following in your console:</p>
<pre><code>dir.create(&quot;data&quot;)</code></pre>
<p>You can also use a point-and-click method by finding the New Folder button in the bottom right pane of RStudio, under the Files tab.</p>
<p>Next, let’s manually create the <code>my.data</code> data frame once more, by copying and pasting the code below.</p>
<div class="sourceCode" id="cb192"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb192-1"><a href="files-packages-and-data.html#cb192-1" tabindex="-1"></a>pets <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;woof&quot;</span>, <span class="st">&quot;woof&quot;</span>, <span class="st">&quot;cat&quot;</span>, <span class="st">&quot;woof&quot;</span>, <span class="st">&quot;woof&quot;</span>, <span class="st">&quot;cat&quot;</span>, </span>
<span id="cb192-2"><a href="files-packages-and-data.html#cb192-2" tabindex="-1"></a>          <span class="st">&quot;woof&quot;</span>, <span class="st">&quot;woof&quot;</span>, <span class="st">&quot;woof&quot;</span>, <span class="st">&quot;woof&quot;</span>, <span class="st">&quot;woof&quot;</span>)</span>
<span id="cb192-3"><a href="files-packages-and-data.html#cb192-3" tabindex="-1"></a>place <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Temple&quot;</span>, <span class="st">&quot;Yakitori&quot;</span>, <span class="st">&quot;Panera&quot;</span>, <span class="st">&quot;Yakitori&quot;</span>, <span class="st">&quot;Guads&quot;</span>, </span>
<span id="cb192-4"><a href="files-packages-and-data.html#cb192-4" tabindex="-1"></a>           <span class="st">&quot;Home&quot;</span>, <span class="st">&quot;Tea List&quot;</span>, <span class="st">&quot;Raising Canes&quot;</span>, <span class="st">&quot;Pachamama&quot;</span>, </span>
<span id="cb192-5"><a href="files-packages-and-data.html#cb192-5" tabindex="-1"></a>           <span class="st">&quot;Lazi Cow&quot;</span>, <span class="st">&quot;Wok of Flame&quot;</span>)</span>
<span id="cb192-6"><a href="files-packages-and-data.html#cb192-6" tabindex="-1"></a>time.min <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">5</span>, <span class="dv">4</span>, <span class="dv">4</span>, <span class="dv">12</span>, <span class="dv">10</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">19</span>)</span>
<span id="cb192-7"><a href="files-packages-and-data.html#cb192-7" tabindex="-1"></a>distance.mi <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">0.9</span>, <span class="fl">0.6</span>, <span class="fl">0.8</span>, <span class="fl">0.6</span>, <span class="dv">2</span>, <span class="dv">100</span>, <span class="fl">0.6</span>, <span class="fl">0.7</span>, <span class="fl">0.8</span>, <span class="dv">1</span>, <span class="fl">3.7</span>)</span>
<span id="cb192-8"><a href="files-packages-and-data.html#cb192-8" tabindex="-1"></a>major <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;chicanx studies&quot;</span>, <span class="st">&quot;human development&quot;</span>, <span class="st">&quot;economics&quot;</span>,</span>
<span id="cb192-9"><a href="files-packages-and-data.html#cb192-9" tabindex="-1"></a>           <span class="st">&quot;undeclared&quot;</span>, <span class="st">&quot;psychology&quot;</span>, <span class="st">&quot;MMM&quot;</span>,</span>
<span id="cb192-10"><a href="files-packages-and-data.html#cb192-10" tabindex="-1"></a>           <span class="st">&quot;psychology&quot;</span>, <span class="st">&quot;undeclared&quot;</span>, <span class="st">&quot;human development&quot;</span>, <span class="st">&quot;undeclared&quot;</span>, <span class="st">&quot;GG&quot;</span>)</span>
<span id="cb192-11"><a href="files-packages-and-data.html#cb192-11" tabindex="-1"></a></span>
<span id="cb192-12"><a href="files-packages-and-data.html#cb192-12" tabindex="-1"></a>my.data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(place, distance.mi, time.min, major, pets)</span></code></pre></div>
<p>Now that we have a data frame called <code>my.data</code>, we can use the <code>write.csv()</code> function to save this data frame as a csv in our data folder. Let’s call it class_survey.csv.</p>
<div class="sourceCode" id="cb193"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb193-1"><a href="files-packages-and-data.html#cb193-1" tabindex="-1"></a><span class="fu">write.csv</span>(my.data, <span class="st">&quot;data/class_survey.csv&quot;</span>, <span class="at">row.names =</span> F)</span></code></pre></div>
<p>Now this data will be available to us for future use without having to copy and paste anymore.</p>
</div>
<div id="excel-files-in-r" class="section level4 hasAnchor" number="5.2.3.6">
<h4><span class="header-section-number">5.2.3.6</span> Excel Files in R<a href="files-packages-and-data.html#excel-files-in-r" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Excel is very popular in the data analysis world. Millions of people use Excel
to input, clean, analyze, and store data. R doesn’t provide a built-in function
to load Excel files. Fortunately, members of the R community share code for a
variety of tasks, including loading Excel files.</p>
</div>
</div>
</div>
<div id="packages" class="section level2 hasAnchor" number="5.3">
<h2><span class="header-section-number">5.3</span> Packages<a href="files-packages-and-data.html#packages" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Lots of the most useful parts of R do not come pre-loaded when you install R.
Packages bundle together code, documentation and data. It’s easy to share,
and easy to include in your own code. Users have contributed thousands
of R packages which can be found online.</p>
<p>You can think of a package as one or more functions that are related to a
specific task, that you can include in your code.</p>
<p>Packages need to be installed on your system and then loaded into
your R session.</p>
<div id="cran" class="section level3 hasAnchor" number="5.3.1">
<h3><span class="header-section-number">5.3.1</span> CRAN<a href="files-packages-and-data.html#cran" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>Comprehensive R Archive Network</strong> (CRAN) is the main website that makes
R packages accessible.</p>
<div id="readxl" class="section level4 hasAnchor" number="5.3.1.1">
<h4><span class="header-section-number">5.3.1.1</span> readxl<a href="files-packages-and-data.html#readxl" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p><strong>readxl</strong> is a package written to provide functions for working with Excel
files in R.</p>
</div>
</div>
<div id="using-packages" class="section level3 hasAnchor" number="5.3.2">
<h3><span class="header-section-number">5.3.2</span> Using Packages<a href="files-packages-and-data.html#using-packages" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>To use an R package, it first needs to be installed on your system,
and then loaded into the R session.</p>
<div id="installing-packages" class="section level4 hasAnchor" number="5.3.2.1">
<h4><span class="header-section-number">5.3.2.1</span> Installing Packages<a href="files-packages-and-data.html#installing-packages" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>You can install packages from CRAN onto your system using <code>install.packages</code>.
It will search for the package on CRAN, and download the code onto your computer
in a place that R can access.</p>
<p>To install the <code>readxl</code> package, we pass the name to <code>install.packages</code>:</p>
<div class="sourceCode" id="cb194"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb194-1"><a href="files-packages-and-data.html#cb194-1" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;readxl&quot;</span>)</span></code></pre></div>
</div>
<div id="loading-packages" class="section level4 hasAnchor" number="5.3.2.2">
<h4><span class="header-section-number">5.3.2.2</span> Loading Packages<a href="files-packages-and-data.html#loading-packages" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Even if the package is on your system, it is not automatically loaded into R.</p>
<p>Every time you restart R you will need to reload each package that your script
uses. Do so with <code>library</code> at the top of your script for each package that
you will use.</p>
<p>This signals to you and anyone else that uses your script which packages are
required to run the code, and will stop the execution of the script if any of
the packages are not found.</p>
<p>To load in the <code>readxl</code> package we installed in the previous step, use <code>library</code>:</p>
<div class="sourceCode" id="cb195"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb195-1"><a href="files-packages-and-data.html#cb195-1" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&quot;readxl&quot;</span>)</span></code></pre></div>
<p>This will load in all the functions, data, and documentation from the <code>readxl</code>
library, so we can now access them in our R session.</p>
<p>To see all the packages installed you can run <code>library</code> without any arguments:</p>
<div class="sourceCode" id="cb196"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb196-1"><a href="files-packages-and-data.html#cb196-1" tabindex="-1"></a><span class="fu">library</span>()</span></code></pre></div>
<p>This displays all the installed libraries as well the path R is searching
to find them.</p>
</div>
<div id="example-load-excel-data" class="section level4 hasAnchor" number="5.3.2.3">
<h4><span class="header-section-number">5.3.2.3</span> Example: Load Excel Data<a href="files-packages-and-data.html#example-load-excel-data" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>With the <code>excel_sheets</code> function in <code>readxl</code>, we can list all the sheets in an excel spreadsheet:</p>
<div class="sourceCode" id="cb197"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb197-1"><a href="files-packages-and-data.html#cb197-1" tabindex="-1"></a>sheets <span class="ot">=</span> <span class="fu">excel_sheets</span>(<span class="st">&quot;./data/dogs.xlsx&quot;</span>)</span></code></pre></div>
<p>We can then load the data with <code>read_xlsx</code>:</p>
<div class="sourceCode" id="cb198"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb198-1"><a href="files-packages-and-data.html#cb198-1" tabindex="-1"></a>data <span class="ot">=</span> <span class="fu">read_xlsx</span>(<span class="st">&quot;./data/dogs.xlsx&quot;</span>)</span></code></pre></div>
</div>
</div>
</div>
<div id="factors-special-values-and-indexing" class="section level2 hasAnchor" number="5.4">
<h2><span class="header-section-number">5.4</span> Factors, Special Values, and Indexing<a href="files-packages-and-data.html#factors-special-values-and-indexing" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="factors" class="section level3 hasAnchor" number="5.4.1">
<h3><span class="header-section-number">5.4.1</span> Factors<a href="files-packages-and-data.html#factors" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>A feature in a data set is <strong>categorical</strong> if it measures a qualitative
category. Some examples of categories are:</p>
<ul>
<li>Music genres <code>rock</code>, <code>blues</code>, <code>alternative</code>, <code>folk</code>, <code>pop</code></li>
<li>Colors <code>red</code>, <code>green</code>, <code>blue</code>, <code>yellow</code></li>
<li>Answers <code>yes</code>, <code>no</code></li>
<li>Months <code>January</code>, <code>February</code>, and so on</li>
</ul>
<p>In some cases, a feature can be interpreted as categorical or quantitative. For
instance, months can be interpreted as categories, but they can also be
interpreted as numbers. There’s not necessarily a “correct” interpretation;
each can be useful for different kinds of analyses.</p>
<p>R uses the class <code>factor</code> to represent categorical data. For instance, in the
dogs data set, the <code>group</code> column is a factor:</p>
<div class="sourceCode" id="cb199"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb199-1"><a href="files-packages-and-data.html#cb199-1" tabindex="-1"></a><span class="fu">class</span>(dogs<span class="sc">$</span>group)</span></code></pre></div>
<pre><code>## [1] &quot;factor&quot;</code></pre>
<p>Visualizations and statistical models sometimes treat factors differently than
other data types, so it’s important to think about whether you want R to
interpret data as categorical.</p>
<p>When you load a data set, R usually can’t tell which features are categorical.
That means identifying and converting the categorical features is up to you.
For beginners, it can be difficult to understand whether a feature is
categorical or not. The key is to think about whether you want to use the
feature to divide the data into groups.</p>
<p>For example, if we want to know how many songs are in the <code>rock</code> genre, we
first need to divide the songs by genre, and then count the number of songs in
each group (or at least the <code>rock</code> group).</p>
<p>As a second example, months recorded as numbers can be categorical or not,
depending on how you want to use them. You might want to treat them as
categorical (for example, to compute max rainfall in each month) or you might
want to treat them as numbers (for example, to compute the number of months
time between two events).</p>
<p>The bottom line is that you have to think about what you’ll be doing in the
analysis. In some cases, you might treat a feature as categorical only for part
of the analysis.</p>
<p>You can use the <code>factor</code> function to convert a vector into a factor:</p>
<div class="sourceCode" id="cb201"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb201-1"><a href="files-packages-and-data.html#cb201-1" tabindex="-1"></a>colors <span class="ot">=</span> <span class="fu">c</span>(<span class="st">&quot;red&quot;</span>, <span class="st">&quot;green&quot;</span>, <span class="st">&quot;red&quot;</span>, <span class="st">&quot;blue&quot;</span>)</span>
<span id="cb201-2"><a href="files-packages-and-data.html#cb201-2" tabindex="-1"></a>colors <span class="ot">=</span> <span class="fu">factor</span>(colors)</span>
<span id="cb201-3"><a href="files-packages-and-data.html#cb201-3" tabindex="-1"></a>colors</span></code></pre></div>
<pre><code>## [1] red   green red   blue 
## Levels: blue green red</code></pre>
<p>Notice that factors are printed differently than strings.</p>
<p>The categories of a factor are called <em>levels</em>. You can list the levels with
the <code>levels</code> function:</p>
<div class="sourceCode" id="cb203"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb203-1"><a href="files-packages-and-data.html#cb203-1" tabindex="-1"></a><span class="fu">levels</span>(colors)</span></code></pre></div>
<pre><code>## [1] &quot;blue&quot;  &quot;green&quot; &quot;red&quot;</code></pre>
<p>Factors remember all possible levels even if you take a subset:</p>
<div class="sourceCode" id="cb205"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb205-1"><a href="files-packages-and-data.html#cb205-1" tabindex="-1"></a>colors[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>]</span></code></pre></div>
<pre><code>## [1] red   green red  
## Levels: blue green red</code></pre>
<p>This is another way factors are different from strings. Factors “remember” all
possible levels even if they aren’t present. This ensures that if you plot a
factor, the missing levels will still be represented on the plot.</p>
<p>You can make a factor forget levels that aren’t present with the <code>droplevels</code>
function:</p>
<div class="sourceCode" id="cb207"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb207-1"><a href="files-packages-and-data.html#cb207-1" tabindex="-1"></a><span class="fu">droplevels</span>(colors[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>])</span></code></pre></div>
<pre><code>## [1] red   green red  
## Levels: green red</code></pre>
</div>
<div id="special-values" class="section level3 hasAnchor" number="5.4.2">
<h3><span class="header-section-number">5.4.2</span> Special Values<a href="files-packages-and-data.html#special-values" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>R has four special values to represent missing or invalid data.</p>
<div id="missing-values" class="section level4 hasAnchor" number="5.4.2.1">
<h4><span class="header-section-number">5.4.2.1</span> Missing Values<a href="files-packages-and-data.html#missing-values" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>The value <code>NA</code> is called the <strong>missing value</strong>. Most of the time, missing
values originate from how the data were collected (as opposed to computer
errors). As an example, imagine the data came from a survey, and respondents
chose not to answer some questions. In the data set, their answers for those
questions might be recorded as <code>NA</code>.</p>
<p>Of course, there are sometimes exceptions where missing values <em>are</em> the result
of a computation. When you see missing values in a data set, you should think
carefully about what the cause might be. Sometimes documentation or other parts
of the data set provide clues.</p>
<p>The missing value is a chameleon: it can be a logical, integer, numeric,
complex, or character value. By default, the missing value is logical, and the
other types occur through coercion (<a href="introduction-to-r.html#implicit-coercion">3.9.2</a>):</p>
<div class="sourceCode" id="cb209"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb209-1"><a href="files-packages-and-data.html#cb209-1" tabindex="-1"></a><span class="fu">class</span>(<span class="cn">NA</span>)</span></code></pre></div>
<pre><code>## [1] &quot;logical&quot;</code></pre>
<div class="sourceCode" id="cb211"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb211-1"><a href="files-packages-and-data.html#cb211-1" tabindex="-1"></a><span class="fu">class</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="cn">NA</span>))</span></code></pre></div>
<pre><code>## [1] &quot;numeric&quot;</code></pre>
<div class="sourceCode" id="cb213"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb213-1"><a href="files-packages-and-data.html#cb213-1" tabindex="-1"></a><span class="fu">class</span>(<span class="fu">c</span>(<span class="st">&quot;hi&quot;</span>, <span class="cn">NA</span>, <span class="cn">NA</span>))</span></code></pre></div>
<pre><code>## [1] &quot;character&quot;</code></pre>
<p>The missing value is also contagious: it represents an unknown quantity, so
using it as an argument to a function usually produces another missing value.
The idea is that if the inputs to a computation are unknown, generally so is
the output:</p>
<div class="sourceCode" id="cb215"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb215-1"><a href="files-packages-and-data.html#cb215-1" tabindex="-1"></a><span class="cn">NA</span> <span class="sc">-</span> <span class="dv">3</span></span></code></pre></div>
<pre><code>## [1] NA</code></pre>
<div class="sourceCode" id="cb217"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb217-1"><a href="files-packages-and-data.html#cb217-1" tabindex="-1"></a><span class="fu">mean</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="cn">NA</span>))</span></code></pre></div>
<pre><code>## [1] NA</code></pre>
<p>As a consequence, testing whether an object is equal to the missing value with
<code>==</code> doesn’t return a meaningful result:</p>
<div class="sourceCode" id="cb219"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb219-1"><a href="files-packages-and-data.html#cb219-1" tabindex="-1"></a><span class="dv">5</span> <span class="sc">==</span> <span class="cn">NA</span></span></code></pre></div>
<pre><code>## [1] NA</code></pre>
<div class="sourceCode" id="cb221"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb221-1"><a href="files-packages-and-data.html#cb221-1" tabindex="-1"></a><span class="cn">NA</span> <span class="sc">==</span> <span class="cn">NA</span></span></code></pre></div>
<pre><code>## [1] NA</code></pre>
<p>You can use the <code>is.na</code> function instead:</p>
<div class="sourceCode" id="cb223"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb223-1"><a href="files-packages-and-data.html#cb223-1" tabindex="-1"></a><span class="fu">is.na</span>(<span class="dv">5</span>)</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="cb225"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb225-1"><a href="files-packages-and-data.html#cb225-1" tabindex="-1"></a><span class="fu">is.na</span>(<span class="cn">NA</span>)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb227"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb227-1"><a href="files-packages-and-data.html#cb227-1" tabindex="-1"></a><span class="fu">is.na</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="cn">NA</span>, <span class="dv">3</span>))</span></code></pre></div>
<pre><code>## [1] FALSE  TRUE FALSE</code></pre>
<p>Missing values are a feature that sets R apart from most other programming
languages.</p>
</div>
<div id="not-a-number" class="section level4 hasAnchor" number="5.4.2.2">
<h4><span class="header-section-number">5.4.2.2</span> Not a Number<a href="files-packages-and-data.html#not-a-number" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>The value <code>NaN</code>, called <strong>not a number</strong>, represents a quantity that’s
undefined mathematically. For instance, dividing 0 by 0 is undefined:</p>
<div class="sourceCode" id="cb229"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb229-1"><a href="files-packages-and-data.html#cb229-1" tabindex="-1"></a><span class="dv">0</span> <span class="sc">/</span> <span class="dv">0</span></span></code></pre></div>
<pre><code>## [1] NaN</code></pre>
<div class="sourceCode" id="cb231"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb231-1"><a href="files-packages-and-data.html#cb231-1" tabindex="-1"></a><span class="fu">class</span>(<span class="cn">NaN</span>)</span></code></pre></div>
<pre><code>## [1] &quot;numeric&quot;</code></pre>
<p><code>NaN</code> can be numeric or complex.</p>
<p>You can use the <code>is.nan</code> function to test whether a value is <code>NaN</code>:</p>
<div class="sourceCode" id="cb233"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb233-1"><a href="files-packages-and-data.html#cb233-1" tabindex="-1"></a><span class="fu">is.nan</span>(<span class="fu">c</span>(<span class="fl">10.1</span>, <span class="fu">log</span>(<span class="sc">-</span><span class="dv">1</span>), <span class="dv">3</span>))</span></code></pre></div>
<pre><code>## Warning in log(-1): NaNs produced</code></pre>
<pre><code>## [1] FALSE  TRUE FALSE</code></pre>
</div>
<div id="infinity" class="section level4 hasAnchor" number="5.4.2.3">
<h4><span class="header-section-number">5.4.2.3</span> Infinity<a href="files-packages-and-data.html#infinity" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>The value <code>Inf</code> represents infinity, and can be numeric or complex. You’re most
likely to encounter it as the result of certain computations:</p>
<div class="sourceCode" id="cb236"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb236-1"><a href="files-packages-and-data.html#cb236-1" tabindex="-1"></a><span class="dv">13</span> <span class="sc">/</span> <span class="dv">0</span></span></code></pre></div>
<pre><code>## [1] Inf</code></pre>
<div class="sourceCode" id="cb238"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb238-1"><a href="files-packages-and-data.html#cb238-1" tabindex="-1"></a><span class="fu">class</span>(<span class="cn">Inf</span>)</span></code></pre></div>
<pre><code>## [1] &quot;numeric&quot;</code></pre>
<p>You can use the <code>is.infinite</code> function to test whether a value is infinite:</p>
<div class="sourceCode" id="cb240"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb240-1"><a href="files-packages-and-data.html#cb240-1" tabindex="-1"></a><span class="fu">is.infinite</span>(<span class="dv">3</span>)</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="cb242"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb242-1"><a href="files-packages-and-data.html#cb242-1" tabindex="-1"></a><span class="fu">is.infinite</span>(<span class="fu">c</span>(<span class="sc">-</span><span class="cn">Inf</span>, <span class="dv">0</span>, <span class="cn">Inf</span>))</span></code></pre></div>
<pre><code>## [1]  TRUE FALSE  TRUE</code></pre>
</div>
</div>
<div id="indexing" class="section level3 hasAnchor" number="5.4.3">
<h3><span class="header-section-number">5.4.3</span> Indexing<a href="files-packages-and-data.html#indexing" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The way to get and set elements of a data structure is by <strong>indexing</strong>.
Sometimes this is also called <strong>subsetting</strong> or (element) <strong>extraction</strong>.
Indexing is a fundamental operation in R, key to reasoning about how to solve
problems with the language.</p>
<p>We first saw indexing in Section <a href="introduction-to-r.html#indexing-vectors">3.7.1</a>, where we used <code>[</code>,
the indexing or square bracket operator, to get and set elements of vectors.
We saw indexing again in Section <a href="introduction-to-r.html#data-frames">3.8</a>, where we used <code>$</code>, the
dollar sign operator, to get and set data frame columns.</p>
<p>The indexing operator <code>[</code> is R’s primary operator for indexing. It works in
four different ways, depending on the type of the index you use:</p>
<ol style="list-style-type: decimal">
<li>An empty index selects all elements</li>
<li>A numeric index selects elements by position</li>
<li>A character index selects elements by name</li>
<li>A logical index selects elements for which the index is <code>TRUE</code></li>
</ol>
<p>Let’s explore each in more detail. We’ll use this vector as an example, to keep
things concise:</p>
<div class="sourceCode" id="cb244"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb244-1"><a href="files-packages-and-data.html#cb244-1" tabindex="-1"></a>x <span class="ot">=</span> <span class="fu">c</span>(<span class="at">a =</span> <span class="dv">10</span>, <span class="at">b =</span> <span class="dv">20</span>, <span class="at">c =</span> <span class="dv">30</span>, <span class="at">d =</span> <span class="dv">40</span>, <span class="at">e =</span> <span class="dv">50</span>)</span>
<span id="cb244-2"><a href="files-packages-and-data.html#cb244-2" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>##  a  b  c  d  e 
## 10 20 30 40 50</code></pre>
<p>Even though we’re using a vector here, the indexing operator works with almost
all data structures, including factors, lists, matrices, and data frames. We’ll
look at unique behavior for some of these later on.</p>
<div id="all-elements" class="section level4 hasAnchor" number="5.4.3.1">
<h4><span class="header-section-number">5.4.3.1</span> All Elements<a href="files-packages-and-data.html#all-elements" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>The first way to use <code>[</code> to select elements is to leave the index blank. This
selects all elements:</p>
<div class="sourceCode" id="cb246"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb246-1"><a href="files-packages-and-data.html#cb246-1" tabindex="-1"></a>x[]</span></code></pre></div>
<pre><code>##  a  b  c  d  e 
## 10 20 30 40 50</code></pre>
<p>This way of indexing is rarely used for getting elements, since it’s the same
as entering the variable name without the indexing operator. Instead, its main
use is for setting elements. Suppose we want to set all the elements of <code>x</code> to
<code>5</code>. You might try writing this:</p>
<div class="sourceCode" id="cb248"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb248-1"><a href="files-packages-and-data.html#cb248-1" tabindex="-1"></a>x <span class="ot">=</span> <span class="dv">5</span></span>
<span id="cb248-2"><a href="files-packages-and-data.html#cb248-2" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>## [1] 5</code></pre>
<p>Rather than setting each element to <code>5</code>, this sets <code>x</code> to the scalar <code>5</code>, which
is not what we want. Let’s reset the vector and try again, this time using the
indexing operator:</p>
<div class="sourceCode" id="cb250"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb250-1"><a href="files-packages-and-data.html#cb250-1" tabindex="-1"></a>x <span class="ot">=</span> <span class="fu">c</span>(<span class="at">a =</span> <span class="dv">10</span>, <span class="at">b =</span> <span class="dv">20</span>, <span class="at">c =</span> <span class="dv">30</span>, <span class="at">d =</span> <span class="dv">40</span>, <span class="at">e =</span> <span class="dv">50</span>)</span>
<span id="cb250-2"><a href="files-packages-and-data.html#cb250-2" tabindex="-1"></a>x[] <span class="ot">=</span> <span class="dv">5</span></span>
<span id="cb250-3"><a href="files-packages-and-data.html#cb250-3" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>## a b c d e 
## 5 5 5 5 5</code></pre>
<p>As you can see, now all the elements are <code>5</code>. So the indexing operator is
necessary to specify that we want to set the elements rather than the whole
variable.</p>
<p>Let’s reset <code>x</code> one more time, so that we can use it again in the next example:</p>
<div class="sourceCode" id="cb252"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb252-1"><a href="files-packages-and-data.html#cb252-1" tabindex="-1"></a>x <span class="ot">=</span> <span class="fu">c</span>(<span class="at">a =</span> <span class="dv">10</span>, <span class="at">b =</span> <span class="dv">20</span>, <span class="at">c =</span> <span class="dv">30</span>, <span class="at">d =</span> <span class="dv">40</span>, <span class="at">e =</span> <span class="dv">50</span>)</span></code></pre></div>
</div>
<div id="by-position" class="section level4 hasAnchor" number="5.4.3.2">
<h4><span class="header-section-number">5.4.3.2</span> By Position<a href="files-packages-and-data.html#by-position" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>The second way to use <code>[</code> is to select elements by position. This happens when
you use an integer or numeric index. We already saw the basics of this in
Section <a href="introduction-to-r.html#indexing-vectors">3.7.1</a>.</p>
<p>The positions of the elements in a vector (or other data structure) correspond
to numbers starting from 1 for the first element. This way of indexing is
frequently used together with the sequence operator <code>:</code> to get ranges of
values. For instance, let’s get the 2nd through 4th elements of <code>x</code>:</p>
<div class="sourceCode" id="cb253"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb253-1"><a href="files-packages-and-data.html#cb253-1" tabindex="-1"></a>x[<span class="dv">2</span><span class="sc">:</span><span class="dv">4</span>]</span></code></pre></div>
<pre><code>##  b  c  d 
## 20 30 40</code></pre>
<p>You can also use this way of indexing to set specific elements or ranges of
elements. For example, let’s set the 3rd and 5th elements of <code>x</code> to <code>9</code> and
<code>7</code>, respectively:</p>
<div class="sourceCode" id="cb255"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb255-1"><a href="files-packages-and-data.html#cb255-1" tabindex="-1"></a>x[<span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">5</span>)] <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">9</span>, <span class="dv">7</span>)</span>
<span id="cb255-2"><a href="files-packages-and-data.html#cb255-2" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>##  a  b  c  d  e 
## 10 20  9 40  7</code></pre>
<p>When getting elements, you can repeat numbers in the index to get the same
element more than once. You can also use the order of the numbers to control
the order of the elements:</p>
<div class="sourceCode" id="cb257"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb257-1"><a href="files-packages-and-data.html#cb257-1" tabindex="-1"></a>x[<span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">2</span>)]</span></code></pre></div>
<pre><code>##  b  a  b  b 
## 20 10 20 20</code></pre>
<p>Finally, if the index contains only negative numbers, the elements at those
positions are excluded rather than selected. For instance, let’s get all
elements except the 1st and 5th:</p>
<div class="sourceCode" id="cb259"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb259-1"><a href="files-packages-and-data.html#cb259-1" tabindex="-1"></a>x[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">5</span>)]</span></code></pre></div>
<pre><code>##  b  c  d 
## 20  9 40</code></pre>
<p>When you index by position, the index should always be all positive or all
negative. Using a mix of positive and negative numbers causes R to emit error
rather than returning elements, since it’s unclear what the result should be:</p>
<div class="sourceCode" id="cb261"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb261-1"><a href="files-packages-and-data.html#cb261-1" tabindex="-1"></a>x[<span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>, <span class="dv">2</span>)]</span></code></pre></div>
<pre><code>## Error in x[c(-1, 2)]: only 0&#39;s may be mixed with negative subscripts</code></pre>
</div>
<div id="by-name" class="section level4 hasAnchor" number="5.4.3.3">
<h4><span class="header-section-number">5.4.3.3</span> By Name<a href="files-packages-and-data.html#by-name" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>The third way to use <code>[</code> is to select elements by name. This happens when you
use a character vector as the index, and only works with named data structures.</p>
<p>Like indexing by position, you can use indexing by name to get or set elements.
You can also use it to repeat elements or change the order. Let’s get elements
<code>a</code>, <code>c</code>, <code>d</code>, and <code>a</code> again from the vector <code>x</code>:</p>
<div class="sourceCode" id="cb263"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb263-1"><a href="files-packages-and-data.html#cb263-1" tabindex="-1"></a>y <span class="ot">=</span> x[<span class="fu">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;c&quot;</span>, <span class="st">&quot;d&quot;</span>, <span class="st">&quot;a&quot;</span>)]</span>
<span id="cb263-2"><a href="files-packages-and-data.html#cb263-2" tabindex="-1"></a>y</span></code></pre></div>
<pre><code>##  a  c  d  a 
## 10  9 40 10</code></pre>
<p>Element names are generally unique, but if they’re not, indexing by name gets
or sets the first element whose name matches the index:</p>
<div class="sourceCode" id="cb265"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb265-1"><a href="files-packages-and-data.html#cb265-1" tabindex="-1"></a>y[<span class="st">&quot;a&quot;</span>]</span></code></pre></div>
<pre><code>##  a 
## 10</code></pre>
<p>Let’s reset <code>x</code> again to prepare for learning about the final way to index:</p>
<div class="sourceCode" id="cb267"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb267-1"><a href="files-packages-and-data.html#cb267-1" tabindex="-1"></a>x <span class="ot">=</span> <span class="fu">c</span>(<span class="at">a =</span> <span class="dv">10</span>, <span class="at">b =</span> <span class="dv">20</span>, <span class="at">c =</span> <span class="dv">30</span>, <span class="at">d =</span> <span class="dv">40</span>, <span class="at">e =</span> <span class="dv">50</span>)</span></code></pre></div>
</div>
<div id="by-condition" class="section level4 hasAnchor" number="5.4.3.4">
<h4><span class="header-section-number">5.4.3.4</span> By Condition<a href="files-packages-and-data.html#by-condition" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>The fourth and final way to use <code>[</code> is to select elements based on a condition.
This happens when you use a logical vector as the index. The logical vector
should have the same length as what you’re indexing, and will be recycled (that
is, repeated) if it doesn’t.</p>
<div id="congruent-vectors" class="section level5 unnumbered hasAnchor">
<h5>Congruent Vectors<a href="files-packages-and-data.html#congruent-vectors" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>To understand indexing by condition, we first need to learn about congruent
vectors. Two vectors are <strong>congruent</strong> if they have the same length and they
correspond element-by-element.</p>
<p>For example, suppose you do a survey that records each respondent’s favorite
animal and age. These are two different vectors of information, but each person
will have a response for both. So you’ll have two vectors that are the same
length:</p>
<div class="sourceCode" id="cb268"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb268-1"><a href="files-packages-and-data.html#cb268-1" tabindex="-1"></a>animal <span class="ot">=</span> <span class="fu">c</span>(<span class="st">&quot;dog&quot;</span>, <span class="st">&quot;cat&quot;</span>, <span class="st">&quot;iguana&quot;</span>)</span>
<span id="cb268-2"><a href="files-packages-and-data.html#cb268-2" tabindex="-1"></a>age <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">31</span>, <span class="dv">24</span>, <span class="dv">72</span>)</span></code></pre></div>
<p>The 1st element of each vector corresponds to the 1st person, the 2nd to the
2nd person, and so on. These vectors are congruent.</p>
<p>Notice that columns in a data frame are always congruent!</p>
</div>
<div id="back-to-indexing" class="section level5 unnumbered hasAnchor">
<h5>Back to Indexing<a href="files-packages-and-data.html#back-to-indexing" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>When you index by condition, the index should generally be congruent to the
object you’re indexing. Elements where the index is <code>TRUE</code> are kept and
elements where the index is <code>FALSE</code> are dropped.</p>
<p>If you create the index from a condition on the object, it’s automatically
congruent. For instance, let’s make a condition based on the vector <code>x</code>:</p>
<div class="sourceCode" id="cb269"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb269-1"><a href="files-packages-and-data.html#cb269-1" tabindex="-1"></a>is_small <span class="ot">=</span> x <span class="sc">&lt;</span> <span class="dv">25</span></span>
<span id="cb269-2"><a href="files-packages-and-data.html#cb269-2" tabindex="-1"></a>is_small</span></code></pre></div>
<pre><code>##     a     b     c     d     e 
##  TRUE  TRUE FALSE FALSE FALSE</code></pre>
<p>The 1st element in the logical vector <code>is_small</code> corresponds to the 1st element
of <code>x</code>, the 2nd to the 2nd, and so on. The vectors <code>x</code> and <code>is_small</code> are
congruent.</p>
<p>It makes sense to use <code>is_small</code> as an index for <code>x</code>, and it gives us all the
elements less than <code>25</code>:</p>
<div class="sourceCode" id="cb271"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb271-1"><a href="files-packages-and-data.html#cb271-1" tabindex="-1"></a>x[is_small]</span></code></pre></div>
<pre><code>##  a  b 
## 10 20</code></pre>
<p>Of course, you can also avoid using an intermediate variable for the condition:</p>
<div class="sourceCode" id="cb273"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb273-1"><a href="files-packages-and-data.html#cb273-1" tabindex="-1"></a>x[x <span class="sc">&gt;</span> <span class="dv">10</span>]</span></code></pre></div>
<pre><code>##  b  c  d  e 
## 20 30 40 50</code></pre>
<p>If you create index some other way (not using the object), make sure that it’s
still congruent to the object. Otherwise, the subset returned from indexing
might not be meaningful.</p>
<p>You can also use indexing by condition to set elements, just as the other ways
of indexing can be used to set elements. For instance, let’s set all the
elements of <code>x</code> that are greater than <code>10</code> to the missing value <code>NA</code>:</p>
<div class="sourceCode" id="cb275"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb275-1"><a href="files-packages-and-data.html#cb275-1" tabindex="-1"></a>x[x <span class="sc">&gt;</span> <span class="dv">10</span>] <span class="ot">=</span> <span class="cn">NA</span></span>
<span id="cb275-2"><a href="files-packages-and-data.html#cb275-2" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>##  a  b  c  d  e 
## 10 NA NA NA NA</code></pre>
</div>
</div>
<div id="logic" class="section level4 hasAnchor" number="5.4.3.5">
<h4><span class="header-section-number">5.4.3.5</span> Logic<a href="files-packages-and-data.html#logic" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>All of the conditions we’ve seen so far have been written in terms of a single
test. If you want to use more sophisticated conditions, R provides operators to
negate and combine logical vectors. These operators are useful for working with
logical vectors even outside the context of indexing.</p>
<div id="negation" class="section level5 unnumbered hasAnchor">
<h5>Negation<a href="files-packages-and-data.html#negation" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>The <strong>NOT operator</strong> <code>!</code> converts <code>TRUE</code> to <code>FALSE</code> and <code>FALSE</code> to <code>TRUE</code>:</p>
<div class="sourceCode" id="cb277"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb277-1"><a href="files-packages-and-data.html#cb277-1" tabindex="-1"></a>x <span class="ot">=</span> <span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">NA</span>)</span>
<span id="cb277-2"><a href="files-packages-and-data.html#cb277-2" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>## [1]  TRUE FALSE  TRUE  TRUE    NA</code></pre>
<div class="sourceCode" id="cb279"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb279-1"><a href="files-packages-and-data.html#cb279-1" tabindex="-1"></a><span class="sc">!</span>x</span></code></pre></div>
<pre><code>## [1] FALSE  TRUE FALSE FALSE    NA</code></pre>
<p>You can use <code>!</code> with a condition:</p>
<div class="sourceCode" id="cb281"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb281-1"><a href="files-packages-and-data.html#cb281-1" tabindex="-1"></a>y <span class="ot">=</span> <span class="fu">c</span>(<span class="st">&quot;hi&quot;</span>, <span class="st">&quot;hello&quot;</span>)</span>
<span id="cb281-2"><a href="files-packages-and-data.html#cb281-2" tabindex="-1"></a><span class="sc">!</span>(y <span class="sc">==</span> <span class="st">&quot;hi&quot;</span>)</span></code></pre></div>
<pre><code>## [1] FALSE  TRUE</code></pre>
<p>The NOT operator is vectorized.</p>
</div>
<div id="combinations" class="section level5 unnumbered hasAnchor">
<h5>Combinations<a href="files-packages-and-data.html#combinations" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>R also has operators for combining logical values.</p>
<p>The <strong>AND operator</strong> <code>&amp;</code> returns <code>TRUE</code> only when both arguments are <code>TRUE</code>. Here
are some examples:</p>
<div class="sourceCode" id="cb283"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb283-1"><a href="files-packages-and-data.html#cb283-1" tabindex="-1"></a><span class="cn">FALSE</span> <span class="sc">&amp;</span> <span class="cn">FALSE</span></span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="cb285"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb285-1"><a href="files-packages-and-data.html#cb285-1" tabindex="-1"></a><span class="cn">TRUE</span> <span class="sc">&amp;</span> <span class="cn">FALSE</span></span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="cb287"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb287-1"><a href="files-packages-and-data.html#cb287-1" tabindex="-1"></a><span class="cn">FALSE</span> <span class="sc">&amp;</span> <span class="cn">TRUE</span></span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="cb289"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb289-1"><a href="files-packages-and-data.html#cb289-1" tabindex="-1"></a><span class="cn">TRUE</span> <span class="sc">&amp;</span> <span class="cn">TRUE</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb291"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb291-1"><a href="files-packages-and-data.html#cb291-1" tabindex="-1"></a><span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>) <span class="sc">&amp;</span> <span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>)</span></code></pre></div>
<pre><code>## [1]  TRUE FALSE FALSE</code></pre>
<p>The <strong>OR operator</strong> <code>|</code> returns <code>TRUE</code> when at least one argument is <code>TRUE</code>.
Let’s see some examples:</p>
<div class="sourceCode" id="cb293"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb293-1"><a href="files-packages-and-data.html#cb293-1" tabindex="-1"></a><span class="cn">FALSE</span> <span class="sc">|</span> <span class="cn">FALSE</span></span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="cb295"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb295-1"><a href="files-packages-and-data.html#cb295-1" tabindex="-1"></a><span class="cn">TRUE</span> <span class="sc">|</span> <span class="cn">FALSE</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb297"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb297-1"><a href="files-packages-and-data.html#cb297-1" tabindex="-1"></a><span class="cn">FALSE</span> <span class="sc">|</span> <span class="cn">TRUE</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb299"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb299-1"><a href="files-packages-and-data.html#cb299-1" tabindex="-1"></a><span class="cn">TRUE</span> <span class="sc">|</span> <span class="cn">TRUE</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb301"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb301-1"><a href="files-packages-and-data.html#cb301-1" tabindex="-1"></a><span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">FALSE</span>) <span class="sc">|</span> <span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>## [1] TRUE TRUE</code></pre>
<p>Be careful: everyday English is less precise than logic. You might say:</p>
<blockquote>
<p>I want all subjects with age over 50 and all subjects that like cats.</p>
</blockquote>
<p>But in logic this means:</p>
<p><code>(subject age over 50) OR (subject likes cats)</code></p>
<p>So think carefully about whether you need both conditions to be true (AND) or
at least one (OR).</p>
<p>Rarely, you might want <em>exactly one</em> condition to be true. The <strong>XOR (eXclusive
OR) function</strong> <code>xor()</code> returns <code>TRUE</code> when exactly one argument is <code>TRUE</code>. For
example:</p>
<div class="sourceCode" id="cb303"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb303-1"><a href="files-packages-and-data.html#cb303-1" tabindex="-1"></a><span class="fu">xor</span>(<span class="cn">FALSE</span>, <span class="cn">FALSE</span>)</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="cb305"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb305-1"><a href="files-packages-and-data.html#cb305-1" tabindex="-1"></a><span class="fu">xor</span>(<span class="cn">TRUE</span>, <span class="cn">FALSE</span>)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb307"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb307-1"><a href="files-packages-and-data.html#cb307-1" tabindex="-1"></a><span class="fu">xor</span>(<span class="cn">TRUE</span>, <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<p>The AND, OR, and XOR operators are vectorized.</p>
</div>
<div id="short-circuiting" class="section level5 unnumbered hasAnchor">
<h5>Short-circuiting<a href="files-packages-and-data.html#short-circuiting" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>The second argument is irrelevant in some conditions:</p>
<ul>
<li><code>FALSE &amp;</code> is always <code>FALSE</code></li>
<li><code>TRUE |</code> is always <code>TRUE</code></li>
</ul>
<p>Now imagine you have <code>FALSE &amp; long_computation()</code>. You can save time by
skipping <code>long_computation()</code>. A <strong>short-circuit operator</strong> does exactly that.</p>
<p>R has two short-circuit operators:</p>
<ul>
<li><code>&amp;&amp;</code> is a short-circuited <code>&amp;</code></li>
<li><code>||</code> is a short-circuited <code>|</code></li>
</ul>
<p>These operators only evaluate the second argument if it is necessary to
determine the result. Here are some of these:</p>
<div class="sourceCode" id="cb309"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb309-1"><a href="files-packages-and-data.html#cb309-1" tabindex="-1"></a><span class="cn">TRUE</span> <span class="sc">&amp;&amp;</span> <span class="cn">FALSE</span></span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="cb311"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb311-1"><a href="files-packages-and-data.html#cb311-1" tabindex="-1"></a><span class="cn">TRUE</span> <span class="sc">&amp;&amp;</span> <span class="cn">TRUE</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb313"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb313-1"><a href="files-packages-and-data.html#cb313-1" tabindex="-1"></a><span class="cn">TRUE</span> <span class="sc">||</span> <span class="cn">TRUE</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>For the final expression, notice R only combines the first element of each
vector. The others are ignored. In other words, the short-circuit operators are
<em>not</em> vectorized! Because of this, generally you _should not use*_ the
short-circuit operators for indexing. Their main use is in writing conditions
for control structures (<a href="core-programming-concepts.html#control-structures">4.2</a>) and loops
(<a href="#iterating-loops"><strong>??</strong></a>).</p>
</div>
</div>
<div id="indexing-lists" class="section level4 hasAnchor" number="5.4.3.6">
<h4><span class="header-section-number">5.4.3.6</span> Indexing Lists<a href="files-packages-and-data.html#indexing-lists" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Lists are a <strong>container</strong> for other types of R objects. When you select an
element from a list, you can either keep the container (the list) or discard
it. The indexing operator <code>[</code> almost always keeps containers.</p>
<p>As an example, let’s get some elements from a small list:</p>
<div class="sourceCode" id="cb315"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb315-1"><a href="files-packages-and-data.html#cb315-1" tabindex="-1"></a>x <span class="ot">=</span> <span class="fu">list</span>(<span class="at">first =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>), <span class="at">second =</span> sin, <span class="at">third =</span> <span class="fu">c</span>(<span class="st">&quot;hi&quot;</span>, <span class="st">&quot;hello&quot;</span>))</span>
<span id="cb315-2"><a href="files-packages-and-data.html#cb315-2" tabindex="-1"></a>y <span class="ot">=</span> x[<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>)]</span>
<span id="cb315-3"><a href="files-packages-and-data.html#cb315-3" tabindex="-1"></a>y</span></code></pre></div>
<pre><code>## $first
## [1] 1 2 3
## 
## $third
## [1] &quot;hi&quot;    &quot;hello&quot;</code></pre>
<div class="sourceCode" id="cb317"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb317-1"><a href="files-packages-and-data.html#cb317-1" tabindex="-1"></a><span class="fu">class</span>(y)</span></code></pre></div>
<pre><code>## [1] &quot;list&quot;</code></pre>
<p>The result is still a list. Even if we get just one element, the result of
indexing a list with <code>[</code> is a list:</p>
<div class="sourceCode" id="cb319"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb319-1"><a href="files-packages-and-data.html#cb319-1" tabindex="-1"></a><span class="fu">class</span>(x[<span class="dv">1</span>])</span></code></pre></div>
<pre><code>## [1] &quot;list&quot;</code></pre>
<p>Sometimes this will be exactly what we want. But what if we want to get the
first element of <code>x</code> so that we can use it in a vectorized function? Or in a
function that only accepts numeric arguments? We need to somehow get the
element and discard the container.</p>
<p>The solution to this problem is the <em>extraction operator</em> <code>[[</code>, which is also
called the <em>double square bracket operator</em>. The extraction operator is the
primary way to get and set elements of lists and other containers.</p>
<p>Unlike the indexing operator <code>[</code>, the extraction operator always discards the
container:</p>
<div class="sourceCode" id="cb321"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb321-1"><a href="files-packages-and-data.html#cb321-1" tabindex="-1"></a>x[[<span class="dv">1</span>]]</span></code></pre></div>
<pre><code>## [1] 1 2 3</code></pre>
<div class="sourceCode" id="cb323"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb323-1"><a href="files-packages-and-data.html#cb323-1" tabindex="-1"></a><span class="fu">class</span>(x[[<span class="dv">1</span>]])</span></code></pre></div>
<pre><code>## [1] &quot;numeric&quot;</code></pre>
<p>The trade off is that the extraction operator can only get or set one element at
a time. Note that the element can be a vector, as above. Because it can only
get or set one element at a time, the extraction operator can only index by
position or name. Blank and logical indexes are not allowed.</p>
<p>The final difference between the index operator <code>[</code> and the extraction operator
<code>[[</code> has to do with how they handle invalid indexes. The index operator <code>[</code>
returns <code>NA</code> for invalid vector elements, and <code>NULL</code> for invalid list elements:</p>
<div class="sourceCode" id="cb325"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb325-1"><a href="files-packages-and-data.html#cb325-1" tabindex="-1"></a><span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>)[<span class="dv">10</span>]</span></code></pre></div>
<pre><code>## [1] NA</code></pre>
<div class="sourceCode" id="cb327"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb327-1"><a href="files-packages-and-data.html#cb327-1" tabindex="-1"></a>x[<span class="dv">10</span>]</span></code></pre></div>
<pre><code>## $&lt;NA&gt;
## NULL</code></pre>
<p>On the other hand, the extraction operator <code>[[</code> raises an error for invalid
elements:</p>
<div class="sourceCode" id="cb329"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb329-1"><a href="files-packages-and-data.html#cb329-1" tabindex="-1"></a>x[[<span class="dv">10</span>]]</span></code></pre></div>
<pre><code>## Error in x[[10]]: subscript out of bounds</code></pre>
<p>The indexing operator <code>[</code> and the extraction operator <code>[[</code> both work with any
data structure that has elements. However, you’ll generally use the indexing
operator <code>[</code> to index vectors, and the extraction operator <code>[[</code> to index
containers (such as lists).</p>
</div>
<div id="indexing-data-frames" class="section level4 hasAnchor" number="5.4.3.7">
<h4><span class="header-section-number">5.4.3.7</span> Indexing Data Frames<a href="files-packages-and-data.html#indexing-data-frames" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>For two-dimensional objects, like matrices and data frames, you can pass the
indexing operator <code>[</code> or the extraction operator <code>[[</code> a separate index for each
dimension. The rows come first:</p>
<pre><code>DATA[ROWS, COLUMNS]</code></pre>
<p>For instance, let’s get the first 3 rows and all columns of the dogs data:</p>
<div class="sourceCode" id="cb332"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb332-1"><a href="files-packages-and-data.html#cb332-1" tabindex="-1"></a>dogs[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, ]</span></code></pre></div>
<pre><code>##            breed    group datadog popularity_all popularity lifetime_cost
## 1  Border Collie  herding    3.64             45         39         20143
## 2 Border Terrier  terrier    3.61             80         61         22638
## 3       Brittany sporting    3.54             30         30         22589
##   intelligence_rank longevity ailments price food_cost grooming   kids
## 1                 1     12.52        2   623       324   weekly    low
## 2                30     14.00        0   833       324   weekly   high
## 3                19     12.92        0   618       466   weekly medium
##   megarank_kids megarank   size weight height
## 1             1       29 medium     NA     20
## 2             2        1  small   13.5     NA
## 3             3       11 medium   35.0     19</code></pre>
<p>As we saw in Section <a href="files-packages-and-data.html#all-elements">5.4.3.1</a>, leaving an index blank means all
elements.</p>
<p>As another example, let’s get the 3rd and 5th row, and the 2nd and 4th column:</p>
<div class="sourceCode" id="cb334"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb334-1"><a href="files-packages-and-data.html#cb334-1" tabindex="-1"></a>dogs[<span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">5</span>), <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">4</span>)]</span></code></pre></div>
<pre><code>##      group popularity_all
## 3 sporting             30
## 5 sporting            130</code></pre>
<p>Mixing several different ways of indexing is allowed. So for example, we can
get the same above, but use column names instead of positions:</p>
<div class="sourceCode" id="cb336"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb336-1"><a href="files-packages-and-data.html#cb336-1" tabindex="-1"></a>dogs[<span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">5</span>), <span class="fu">c</span>(<span class="st">&quot;breed&quot;</span>, <span class="st">&quot;longevity&quot;</span>)]</span></code></pre></div>
<pre><code>##                    breed longevity
## 3               Brittany     12.92
## 5 Welsh Springer Spaniel     12.49</code></pre>
<p>For data frames, it’s especially common to index the rows by condition and the
columns by name. For instance, let’s get the <code>breed</code>, <code>popularity</code>, and
<code>weight</code> columns for all rows with toy dogs:</p>
<div class="sourceCode" id="cb338"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb338-1"><a href="files-packages-and-data.html#cb338-1" tabindex="-1"></a>result <span class="ot">=</span> dogs[dogs<span class="sc">$</span>group <span class="sc">==</span> <span class="st">&quot;toy&quot;</span>, <span class="fu">c</span>(<span class="st">&quot;breed&quot;</span>, <span class="st">&quot;popularity&quot;</span>, <span class="st">&quot;weight&quot;</span>)]</span>
<span id="cb338-2"><a href="files-packages-and-data.html#cb338-2" tabindex="-1"></a><span class="fu">head</span>(result)</span></code></pre></div>
<pre><code>##            breed popularity weight
## 8       Papillon         33     NA
## 13 Affenpinscher         84     NA
## 16     Chihuahua         14    5.5
## 28       Maltese         23    5.0
## 29    Pomeranian         17    5.0
## 30      Shih Tzu         11   12.5</code></pre>
<div id="the-drop-parameter" class="section level5 unnumbered hasAnchor">
<h5>The Drop Parameter<a href="files-packages-and-data.html#the-drop-parameter" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>If you use two-dimensional indexing with <code>[</code> to select exactly one column, you
get a vector:</p>
<div class="sourceCode" id="cb340"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb340-1"><a href="files-packages-and-data.html#cb340-1" tabindex="-1"></a>result <span class="ot">=</span> dogs[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, <span class="dv">2</span>]</span>
<span id="cb340-2"><a href="files-packages-and-data.html#cb340-2" tabindex="-1"></a><span class="fu">class</span>(result)</span></code></pre></div>
<pre><code>## [1] &quot;factor&quot;</code></pre>
<p>The container is dropped, even though the indexing operator <code>[</code> usually keeps
containers. This also occurs for matrices. You can control this behavior with
the <code>drop</code> parameter:</p>
<div class="sourceCode" id="cb342"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb342-1"><a href="files-packages-and-data.html#cb342-1" tabindex="-1"></a>result <span class="ot">=</span> dogs[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, <span class="dv">2</span>, drop <span class="ot">=</span> <span class="cn">FALSE</span>]</span>
<span id="cb342-2"><a href="files-packages-and-data.html#cb342-2" tabindex="-1"></a><span class="fu">class</span>(result)</span></code></pre></div>
<pre><code>## [1] &quot;data.frame&quot;</code></pre>
<p>The default is <code>drop = TRUE</code>.</p>

</div>
</div>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="core-programming-concepts.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="data-structures.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/ucdavisdatalab/adventures_in_data_science/edit/master/05_files-packages-indexing.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/ucdavisdatalab/adventures_in_data_science/blob/master/05_files-packages-indexing.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
